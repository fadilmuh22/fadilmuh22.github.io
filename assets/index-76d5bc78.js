function NL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var F={},l6={get exports(){return F},set exports(n){F=n}},Oy={},L={},c6={get exports(){return L},set exports(n){L=n}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=Symbol.for("react.element"),u6=Symbol.for("react.portal"),d6=Symbol.for("react.fragment"),f6=Symbol.for("react.strict_mode"),h6=Symbol.for("react.profiler"),p6=Symbol.for("react.provider"),m6=Symbol.for("react.context"),g6=Symbol.for("react.forward_ref"),v6=Symbol.for("react.suspense"),y6=Symbol.for("react.memo"),x6=Symbol.for("react.lazy"),JC=Symbol.iterator;function _6(n){return n===null||typeof n!="object"?null:(n=JC&&n[JC]||n["@@iterator"],typeof n=="function"?n:null)}var zL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FL=Object.assign,BL={};function hf(n,e,t){this.props=n,this.context=e,this.refs=BL,this.updater=t||zL}hf.prototype.isReactComponent={};hf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};hf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function UL(){}UL.prototype=hf.prototype;function OM(n,e,t){this.props=n,this.context=e,this.refs=BL,this.updater=t||zL}var NM=OM.prototype=new UL;NM.constructor=OM;FL(NM,hf.prototype);NM.isPureReactComponent=!0;var QC=Array.isArray,VL=Object.prototype.hasOwnProperty,zM={current:null},HL={key:!0,ref:!0,__self:!0,__source:!0};function jL(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)VL.call(e,r)&&!HL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dm,type:n,key:s,ref:o,props:i,_owner:zM.current}}function b6(n,e){return{$$typeof:dm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function FM(n){return typeof n=="object"&&n!==null&&n.$$typeof===dm}function S6(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var e3=/\/+/g;function r_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?S6(""+n.key):e.toString(36)}function rv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case dm:case u6:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+r_(o,0):r,QC(i)?(t="",n!=null&&(t=n.replace(e3,"$&/")+"/"),rv(i,e,t,"",function(c){return c})):i!=null&&(FM(i)&&(i=b6(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(e3,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",QC(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+r_(s,a);o+=rv(s,e,t,l,i)}else if(l=_6(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+r_(s,a++),o+=rv(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fg(n,e,t){if(n==null)return n;var r=[],i=0;return rv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function w6(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var oi={current:null},iv={transition:null},M6={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:iv,ReactCurrentOwner:zM};Nt.Children={map:Fg,forEach:function(n,e,t){Fg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Fg(n,function(){e++}),e},toArray:function(n){return Fg(n,function(e){return e})||[]},only:function(n){if(!FM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Nt.Component=hf;Nt.Fragment=d6;Nt.Profiler=h6;Nt.PureComponent=OM;Nt.StrictMode=f6;Nt.Suspense=v6;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M6;Nt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=FL({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)VL.call(e,l)&&!HL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:dm,type:n.type,key:i,ref:s,props:r,_owner:o}};Nt.createContext=function(n){return n={$$typeof:m6,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:p6,_context:n},n.Consumer=n};Nt.createElement=jL;Nt.createFactory=function(n){var e=jL.bind(null,n);return e.type=n,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(n){return{$$typeof:g6,render:n}};Nt.isValidElement=FM;Nt.lazy=function(n){return{$$typeof:x6,_payload:{_status:-1,_result:n},_init:w6}};Nt.memo=function(n,e){return{$$typeof:y6,type:n,compare:e===void 0?null:e}};Nt.startTransition=function(n){var e=iv.transition;iv.transition={};try{n()}finally{iv.transition=e}};Nt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nt.useCallback=function(n,e){return oi.current.useCallback(n,e)};Nt.useContext=function(n){return oi.current.useContext(n)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(n){return oi.current.useDeferredValue(n)};Nt.useEffect=function(n,e){return oi.current.useEffect(n,e)};Nt.useId=function(){return oi.current.useId()};Nt.useImperativeHandle=function(n,e,t){return oi.current.useImperativeHandle(n,e,t)};Nt.useInsertionEffect=function(n,e){return oi.current.useInsertionEffect(n,e)};Nt.useLayoutEffect=function(n,e){return oi.current.useLayoutEffect(n,e)};Nt.useMemo=function(n,e){return oi.current.useMemo(n,e)};Nt.useReducer=function(n,e,t){return oi.current.useReducer(n,e,t)};Nt.useRef=function(n){return oi.current.useRef(n)};Nt.useState=function(n){return oi.current.useState(n)};Nt.useSyncExternalStore=function(n,e,t){return oi.current.useSyncExternalStore(n,e,t)};Nt.useTransition=function(){return oi.current.useTransition()};Nt.version="18.2.0";(function(n){n.exports=Nt})(c6);const yi=DM(L),mp=NL({__proto__:null,default:yi},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T6=L,E6=Symbol.for("react.element"),C6=Symbol.for("react.fragment"),A6=Object.prototype.hasOwnProperty,P6=T6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R6={key:!0,ref:!0,__self:!0,__source:!0};function WL(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)A6.call(e,r)&&!R6.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:E6,type:n,key:s,ref:o,props:i,_owner:P6.current}}Oy.Fragment=C6;Oy.jsx=WL;Oy.jsxs=WL;(function(n){n.exports=Oy})(l6);function k6(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function L6(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var I6=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(L6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=k6(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Hr="-ms-",zv="-moz-",Qt="-webkit-",GL="comm",BM="rule",UM="decl",D6="@import",$L="@keyframes",O6=Math.abs,Ny=String.fromCharCode,N6=Object.assign;function z6(n,e){return Ar(n,0)^45?(((e<<2^Ar(n,0))<<2^Ar(n,1))<<2^Ar(n,2))<<2^Ar(n,3):0}function XL(n){return n.trim()}function F6(n,e){return(n=e.exec(n))?n[0]:n}function nn(n,e,t){return n.replace(e,t)}function aS(n,e){return n.indexOf(e)}function Ar(n,e){return n.charCodeAt(e)|0}function gp(n,e,t){return n.slice(e,t)}function ho(n){return n.length}function VM(n){return n.length}function Bg(n,e){return e.push(n),n}function B6(n,e){return n.map(e).join("")}var zy=1,Vd=1,qL=0,Mi=0,Qn=0,pf="";function Fy(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:zy,column:Vd,length:o,return:""}}function qf(n,e){return N6(Fy("",null,null,"",null,null,0),n,{length:-n.length},e)}function U6(){return Qn}function V6(){return Qn=Mi>0?Ar(pf,--Mi):0,Vd--,Qn===10&&(Vd=1,zy--),Qn}function ji(){return Qn=Mi<qL?Ar(pf,Mi++):0,Vd++,Qn===10&&(Vd=1,zy++),Qn}function xo(){return Ar(pf,Mi)}function sv(){return Mi}function fm(n,e){return gp(pf,n,e)}function vp(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YL(n){return zy=Vd=1,qL=ho(pf=n),Mi=0,[]}function KL(n){return pf="",n}function ov(n){return XL(fm(Mi-1,lS(n===91?n+2:n===40?n+1:n)))}function H6(n){for(;(Qn=xo())&&Qn<33;)ji();return vp(n)>2||vp(Qn)>3?"":" "}function j6(n,e){for(;--e&&ji()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return fm(n,sv()+(e<6&&xo()==32&&ji()==32))}function lS(n){for(;ji();)switch(Qn){case n:return Mi;case 34:case 39:n!==34&&n!==39&&lS(Qn);break;case 40:n===41&&lS(n);break;case 92:ji();break}return Mi}function W6(n,e){for(;ji()&&n+Qn!==47+10;)if(n+Qn===42+42&&xo()===47)break;return"/*"+fm(e,Mi-1)+"*"+Ny(n===47?n:ji())}function G6(n){for(;!vp(xo());)ji();return fm(n,Mi)}function $6(n){return KL(av("",null,null,null,[""],n=YL(n),0,[0],n))}function av(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,h=o,p=0,m=0,v=0,g=1,x=1,_=1,b=0,S="",M=i,E=s,P=r,R=S;x;)switch(v=b,b=ji()){case 40:if(v!=108&&Ar(R,h-1)==58){aS(R+=nn(ov(b),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:R+=ov(b);break;case 9:case 10:case 13:case 32:R+=H6(v);break;case 92:R+=j6(sv()-1,7);continue;case 47:switch(xo()){case 42:case 47:Bg(X6(W6(ji(),sv()),e,t),l);break;default:R+="/"}break;case 123*g:a[c++]=ho(R)*_;case 125*g:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+u:m>0&&ho(R)-h&&Bg(m>32?n3(R+";",r,t,h-1):n3(nn(R," ","")+";",r,t,h-2),l);break;case 59:R+=";";default:if(Bg(P=t3(R,e,t,c,u,i,a,S,M=[],E=[],h),s),b===123)if(u===0)av(R,e,P,P,M,s,h,a,E);else switch(p===99&&Ar(R,3)===110?100:p){case 100:case 109:case 115:av(n,P,P,r&&Bg(t3(n,P,P,0,0,i,a,S,i,M=[],h),E),i,E,h,a,r?M:E);break;default:av(R,P,P,P,[""],E,0,a,E)}}c=u=m=0,g=_=1,S=R="",h=o;break;case 58:h=1+ho(R),m=v;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&V6()==125)continue}switch(R+=Ny(b),b*g){case 38:_=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(ho(R)-1)*_,_=1;break;case 64:xo()===45&&(R+=ov(ji())),p=xo(),u=h=ho(S=R+=G6(sv())),b++;break;case 45:v===45&&ho(R)==2&&(g=0)}}return s}function t3(n,e,t,r,i,s,o,a,l,c,u){for(var h=i-1,p=i===0?s:[""],m=VM(p),v=0,g=0,x=0;v<r;++v)for(var _=0,b=gp(n,h+1,h=O6(g=o[v])),S=n;_<m;++_)(S=XL(g>0?p[_]+" "+b:nn(b,/&\f/g,p[_])))&&(l[x++]=S);return Fy(n,e,t,i===0?BM:a,l,c,u)}function X6(n,e,t){return Fy(n,e,t,GL,Ny(U6()),gp(n,2,-2),0)}function n3(n,e,t,r){return Fy(n,e,t,UM,gp(n,0,r),gp(n,r+1,-1),r)}function Md(n,e){for(var t="",r=VM(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function q6(n,e,t,r){switch(n.type){case D6:case UM:return n.return=n.return||n.value;case GL:return"";case $L:return n.return=n.value+"{"+Md(n.children,r)+"}";case BM:n.value=n.props.join(",")}return ho(t=Md(n.children,r))?n.return=n.value+"{"+t+"}":""}function Y6(n){var e=VM(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function K6(n){return function(e){e.root||(e=e.return)&&n(e)}}var r3=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var i=e(r);return t.set(r,i),i}};function ZL(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Z6=function(e,t,r){for(var i=0,s=0;i=s,s=xo(),i===38&&s===12&&(t[r]=1),!vp(s);)ji();return fm(e,Mi)},J6=function(e,t){var r=-1,i=44;do switch(vp(i)){case 0:i===38&&xo()===12&&(t[r]=1),e[r]+=Z6(Mi-1,t,r);break;case 2:e[r]+=ov(i);break;case 4:if(i===44){e[++r]=xo()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Ny(i)}while(i=ji());return e},Q6=function(e,t){return KL(J6(YL(e),t))},i3=new WeakMap,eB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!i3.get(r))&&!i){i3.set(e,!0);for(var s=[],o=Q6(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},tB=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function JL(n,e){switch(z6(n,e)){case 5103:return Qt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Qt+n+zv+n+Hr+n+n;case 6828:case 4268:return Qt+n+Hr+n+n;case 6165:return Qt+n+Hr+"flex-"+n+n;case 5187:return Qt+n+nn(n,/(\w+).+(:[^]+)/,Qt+"box-$1$2"+Hr+"flex-$1$2")+n;case 5443:return Qt+n+Hr+"flex-item-"+nn(n,/flex-|-self/,"")+n;case 4675:return Qt+n+Hr+"flex-line-pack"+nn(n,/align-content|flex-|-self/,"")+n;case 5548:return Qt+n+Hr+nn(n,"shrink","negative")+n;case 5292:return Qt+n+Hr+nn(n,"basis","preferred-size")+n;case 6060:return Qt+"box-"+nn(n,"-grow","")+Qt+n+Hr+nn(n,"grow","positive")+n;case 4554:return Qt+nn(n,/([^-])(transform)/g,"$1"+Qt+"$2")+n;case 6187:return nn(nn(nn(n,/(zoom-|grab)/,Qt+"$1"),/(image-set)/,Qt+"$1"),n,"")+n;case 5495:case 3959:return nn(n,/(image-set\([^]*)/,Qt+"$1$`$1");case 4968:return nn(nn(n,/(.+:)(flex-)?(.*)/,Qt+"box-pack:$3"+Hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qt+n+n;case 4095:case 3583:case 4068:case 2532:return nn(n,/(.+)-inline(.+)/,Qt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ho(n)-1-e>6)switch(Ar(n,e+1)){case 109:if(Ar(n,e+4)!==45)break;case 102:return nn(n,/(.+:)(.+)-([^]+)/,"$1"+Qt+"$2-$3$1"+zv+(Ar(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~aS(n,"stretch")?JL(nn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Ar(n,e+1)!==115)break;case 6444:switch(Ar(n,ho(n)-3-(~aS(n,"!important")&&10))){case 107:return nn(n,":",":"+Qt)+n;case 101:return nn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qt+(Ar(n,14)===45?"inline-":"")+"box$3$1"+Qt+"$2$3$1"+Hr+"$2box$3")+n}break;case 5936:switch(Ar(n,e+11)){case 114:return Qt+n+Hr+nn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Qt+n+Hr+nn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Qt+n+Hr+nn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Qt+n+Hr+n+n}return n}var nB=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case UM:e.return=JL(e.value,e.length);break;case $L:return Md([qf(e,{value:nn(e.value,"@","@"+Qt)})],i);case BM:if(e.length)return B6(e.props,function(s){switch(F6(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Md([qf(e,{props:[nn(s,/:(read-\w+)/,":"+zv+"$1")]})],i);case"::placeholder":return Md([qf(e,{props:[nn(s,/:(plac\w+)/,":"+Qt+"input-$1")]}),qf(e,{props:[nn(s,/:(plac\w+)/,":"+zv+"$1")]}),qf(e,{props:[nn(s,/:(plac\w+)/,Hr+"input-$1")]})],i)}return""})}},rB=[nB],iB=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var x=g.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||rB,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var x=g.getAttribute("data-emotion").split(" "),_=1;_<x.length;_++)s[x[_]]=!0;a.push(g)});var l,c=[eB,tB];{var u,h=[q6,K6(function(g){u.insert(g)})],p=Y6(c.concat(i,h)),m=function(x){return Md($6(x),p)};l=function(x,_,b,S){u=b,m(x?x+"{"+_.styles+"}":_.styles),S&&(v.inserted[_.name]=!0)}}var v={key:t,sheet:new I6({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v};function xl(){return xl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xl.apply(this,arguments)}var cS={},sB={get exports(){return cS},set exports(n){cS=n}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=typeof Symbol=="function"&&Symbol.for,HM=br?Symbol.for("react.element"):60103,jM=br?Symbol.for("react.portal"):60106,By=br?Symbol.for("react.fragment"):60107,Uy=br?Symbol.for("react.strict_mode"):60108,Vy=br?Symbol.for("react.profiler"):60114,Hy=br?Symbol.for("react.provider"):60109,jy=br?Symbol.for("react.context"):60110,WM=br?Symbol.for("react.async_mode"):60111,Wy=br?Symbol.for("react.concurrent_mode"):60111,Gy=br?Symbol.for("react.forward_ref"):60112,$y=br?Symbol.for("react.suspense"):60113,oB=br?Symbol.for("react.suspense_list"):60120,Xy=br?Symbol.for("react.memo"):60115,qy=br?Symbol.for("react.lazy"):60116,aB=br?Symbol.for("react.block"):60121,lB=br?Symbol.for("react.fundamental"):60117,cB=br?Symbol.for("react.responder"):60118,uB=br?Symbol.for("react.scope"):60119;function Ki(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case HM:switch(n=n.type,n){case WM:case Wy:case By:case Vy:case Uy:case $y:return n;default:switch(n=n&&n.$$typeof,n){case jy:case Gy:case qy:case Xy:case Hy:return n;default:return e}}case jM:return e}}}function QL(n){return Ki(n)===Wy}hn.AsyncMode=WM;hn.ConcurrentMode=Wy;hn.ContextConsumer=jy;hn.ContextProvider=Hy;hn.Element=HM;hn.ForwardRef=Gy;hn.Fragment=By;hn.Lazy=qy;hn.Memo=Xy;hn.Portal=jM;hn.Profiler=Vy;hn.StrictMode=Uy;hn.Suspense=$y;hn.isAsyncMode=function(n){return QL(n)||Ki(n)===WM};hn.isConcurrentMode=QL;hn.isContextConsumer=function(n){return Ki(n)===jy};hn.isContextProvider=function(n){return Ki(n)===Hy};hn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===HM};hn.isForwardRef=function(n){return Ki(n)===Gy};hn.isFragment=function(n){return Ki(n)===By};hn.isLazy=function(n){return Ki(n)===qy};hn.isMemo=function(n){return Ki(n)===Xy};hn.isPortal=function(n){return Ki(n)===jM};hn.isProfiler=function(n){return Ki(n)===Vy};hn.isStrictMode=function(n){return Ki(n)===Uy};hn.isSuspense=function(n){return Ki(n)===$y};hn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===By||n===Wy||n===Vy||n===Uy||n===$y||n===oB||typeof n=="object"&&n!==null&&(n.$$typeof===qy||n.$$typeof===Xy||n.$$typeof===Hy||n.$$typeof===jy||n.$$typeof===Gy||n.$$typeof===lB||n.$$typeof===cB||n.$$typeof===uB||n.$$typeof===aB)};hn.typeOf=Ki;(function(n){n.exports=hn})(sB);var eI=cS,dB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tI={};tI[eI.ForwardRef]=dB;tI[eI.Memo]=fB;var hB=!0;function pB(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var nI=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||hB===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},rI=function(e,t,r){nI(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mB(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gB={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vB=/[A-Z]|^ms/g,yB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iI=function(e){return e.charCodeAt(1)===45},s3=function(e){return e!=null&&typeof e!="boolean"},i_=ZL(function(n){return iI(n)?n:n.replace(vB,"-$&").toLowerCase()}),o3=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(yB,function(r,i,s){return po={name:i,styles:s,next:po},i})}return gB[e]!==1&&!iI(e)&&typeof t=="number"&&t!==0?t+"px":t};function yp(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return po={name:t.name,styles:t.styles,next:po},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)po={name:r.name,styles:r.styles,next:po},r=r.next;var i=t.styles+";";return i}return xB(n,e,t)}case"function":{if(n!==void 0){var s=po,o=t(n);return po=s,yp(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function xB(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=yp(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":s3(o)&&(r+=i_(s)+":"+o3(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)s3(o[a])&&(r+=i_(s)+":"+o3(s,o[a])+";");else{var l=yp(n,e,o);switch(s){case"animation":case"animationName":{r+=i_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var a3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,po,GM=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";po=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=yp(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=yp(r,t,e[a]),i&&(s+=o[a]);a3.lastIndex=0;for(var l="",c;(c=a3.exec(s))!==null;)l+="-"+c[1];var u=mB(s)+l;return{name:u,styles:s,next:po}},_B=function(e){return e()},sI=mp["useInsertionEffect"]?mp["useInsertionEffect"]:!1,bB=sI||_B,l3=sI||L.useLayoutEffect,oI=L.createContext(typeof HTMLElement<"u"?iB({key:"css"}):null);oI.Provider;var aI=function(e){return L.forwardRef(function(t,r){var i=L.useContext(oI);return e(t,i,r)})},xp=L.createContext({}),SB=function(e,t){if(typeof t=="function"){var r=t(e);return r}return xl({},e,t)},wB=r3(function(n){return r3(function(e){return SB(n,e)})}),MB=function(e){var t=L.useContext(xp);return e.theme!==t&&(t=wB(t)(e.theme)),L.createElement(xp.Provider,{value:t},e.children)},Yy=aI(function(n,e){var t=n.styles,r=GM([t],void 0,L.useContext(xp)),i=L.useRef();return l3(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),l3(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&rI(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function TB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return GM(e)}var EB=function(){var e=TB.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},lI=`
  :root {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root {
      --chakra-vh: 100dvh;
    }
  }
`,CB=()=>F.jsx(Yy,{styles:lI}),AB=()=>F.jsx(Yy,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }

      ${lI}
    `});function PB(n,e){return`${n} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Rl(n={}){const{name:e,strict:t=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s}=n,o=L.createContext(void 0);o.displayName=e;function a(){var l;const c=L.useContext(o);if(!c&&t){const u=new Error(s??PB(r,i));throw u.name="ContextError",(l=Error.captureStackTrace)==null||l.call(Error,u,a),u}return c}return[o.Provider,a,o]}var[RB,kB]=Rl({strict:!1,name:"PortalManagerContext"});function cI(n){const{children:e,zIndex:t}=n;return F.jsx(RB,{value:{zIndex:t},children:e})}cI.displayName="PortalManager";var _p=Boolean(globalThis==null?void 0:globalThis.document)?L.useLayoutEffect:L.useEffect,bp={},LB={get exports(){return bp},set exports(n){bp=n}},Zi={},uS={},IB={get exports(){return uS},set exports(n){uS=n}},uI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,X){var J=N.length;N.push(X);e:for(;0<J;){var he=J-1>>>1,Z=N[he];if(0<i(Z,X))N[he]=X,N[J]=Z,J=he;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var X=N[0],J=N.pop();if(J!==X){N[0]=J;e:for(var he=0,Z=N.length,se=Z>>>1;he<se;){var Re=2*(he+1)-1,ke=N[Re],ce=Re+1,Be=N[ce];if(0>i(ke,J))ce<Z&&0>i(Be,ke)?(N[he]=Be,N[ce]=J,he=ce):(N[he]=ke,N[Re]=J,he=Re);else if(ce<Z&&0>i(Be,J))N[he]=Be,N[ce]=J,he=ce;else break e}}return X}function i(N,X){var J=N.sortIndex-X.sortIndex;return J!==0?J:N.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=N)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function M(N){if(g=!1,S(N),!v)if(t(l)!==null)v=!0,K(E);else{var X=t(c);X!==null&&oe(M,X.startTime-N)}}function E(N,X){v=!1,g&&(g=!1,_(C),C=-1),m=!0;var J=p;try{for(S(X),h=t(l);h!==null&&(!(h.expirationTime>X)||N&&!$());){var he=h.callback;if(typeof he=="function"){h.callback=null,p=h.priorityLevel;var Z=he(h.expirationTime<=X);X=n.unstable_now(),typeof Z=="function"?h.callback=Z:h===t(l)&&r(l),S(X)}else r(l);h=t(l)}if(h!==null)var se=!0;else{var Re=t(c);Re!==null&&oe(M,Re.startTime-X),se=!1}return se}finally{h=null,p=J,m=!1}}var P=!1,R=null,C=-1,k=5,D=-1;function $(){return!(n.unstable_now()-D<k)}function le(){if(R!==null){var N=n.unstable_now();D=N;var X=!0;try{X=R(!0,N)}finally{X?Y():(P=!1,R=null)}}else P=!1}var Y;if(typeof b=="function")Y=function(){b(le)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=le,Y=function(){H.postMessage(null)}}else Y=function(){x(le,0)};function K(N){R=N,P||(P=!0,Y())}function oe(N,X){C=x(function(){N(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,K(E))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var J=p;p=X;try{return N()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=p;p=N;try{return X()}finally{p=J}},n.unstable_scheduleCallback=function(N,X,J){var he=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,N){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,N={id:u++,callback:X,priorityLevel:N,startTime:J,expirationTime:Z,sortIndex:-1},J>he?(N.sortIndex=J,e(c,N),t(l)===null&&N===t(c)&&(g?(_(C),C=-1):g=!0,oe(M,J-he))):(N.sortIndex=Z,e(l,N),v||m||(v=!0,K(E))),N},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(N){var X=p;return function(){var J=p;p=X;try{return N.apply(this,arguments)}finally{p=J}}}})(uI);(function(n){n.exports=uI})(IB);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dI=L,Xi=uS;function Oe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fI=new Set,Sp={};function su(n,e){Hd(n,e),Hd(n+"Capture",e)}function Hd(n,e){for(Sp[n]=e,n=0;n<e.length;n++)fI.add(e[n])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dS=Object.prototype.hasOwnProperty,DB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c3={},u3={};function OB(n){return dS.call(u3,n)?!0:dS.call(c3,n)?!1:DB.test(n)?u3[n]=!0:(c3[n]=!0,!1)}function NB(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function zB(n,e,t,r){if(e===null||typeof e>"u"||NB(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ai(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){kr[n]=new ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];kr[e]=new ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){kr[n]=new ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){kr[n]=new ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){kr[n]=new ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){kr[n]=new ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){kr[n]=new ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){kr[n]=new ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){kr[n]=new ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var $M=/[\-:]([a-z])/g;function XM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace($M,XM);kr[e]=new ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace($M,XM);kr[e]=new ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace($M,XM);kr[e]=new ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){kr[n]=new ai(n,1,!1,n.toLowerCase(),null,!1,!1)});kr.xlinkHref=new ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){kr[n]=new ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function qM(n,e,t,r){var i=kr.hasOwnProperty(e)?kr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zB(e,t,i,r)&&(t=null),r||i===null?OB(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ba=dI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ug=Symbol.for("react.element"),id=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),YM=Symbol.for("react.strict_mode"),fS=Symbol.for("react.profiler"),hI=Symbol.for("react.provider"),pI=Symbol.for("react.context"),KM=Symbol.for("react.forward_ref"),hS=Symbol.for("react.suspense"),pS=Symbol.for("react.suspense_list"),ZM=Symbol.for("react.memo"),Ka=Symbol.for("react.lazy"),mI=Symbol.for("react.offscreen"),d3=Symbol.iterator;function Yf(n){return n===null||typeof n!="object"?null:(n=d3&&n[d3]||n["@@iterator"],typeof n=="function"?n:null)}var zn=Object.assign,s_;function kh(n){if(s_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);s_=e&&e[1]||""}return`
`+s_+n}var o_=!1;function a_(n,e){if(!n||o_)return"";o_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{o_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?kh(n):""}function FB(n){switch(n.tag){case 5:return kh(n.type);case 16:return kh("Lazy");case 13:return kh("Suspense");case 19:return kh("SuspenseList");case 0:case 2:case 15:return n=a_(n.type,!1),n;case 11:return n=a_(n.type.render,!1),n;case 1:return n=a_(n.type,!0),n;default:return""}}function mS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case sd:return"Fragment";case id:return"Portal";case fS:return"Profiler";case YM:return"StrictMode";case hS:return"Suspense";case pS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case pI:return(n.displayName||"Context")+".Consumer";case hI:return(n._context.displayName||"Context")+".Provider";case KM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ZM:return e=n.displayName||null,e!==null?e:mS(n.type)||"Memo";case Ka:e=n._payload,n=n._init;try{return mS(n(e))}catch{}}return null}function BB(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mS(e);case 8:return e===YM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _l(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gI(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UB(n){var e=gI(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Vg(n){n._valueTracker||(n._valueTracker=UB(n))}function vI(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=gI(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Fv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gS(n,e){var t=e.checked;return zn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function f3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=_l(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yI(n,e){e=e.checked,e!=null&&qM(n,"checked",e,!1)}function vS(n,e){yI(n,e);var t=_l(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?yS(n,e.type,t):e.hasOwnProperty("defaultValue")&&yS(n,e.type,_l(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function h3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function yS(n,e,t){(e!=="number"||Fv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Lh=Array.isArray;function Td(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+_l(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function xS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return zn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function p3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Oe(92));if(Lh(t)){if(1<t.length)throw Error(Oe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:_l(t)}}function xI(n,e){var t=_l(e.value),r=_l(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function m3(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function _I(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _S(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?_I(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hg,bI=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Hg=Hg||document.createElement("div"),Hg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function wp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VB=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(n){VB.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Hh[e]=Hh[n]})});function SI(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Hh.hasOwnProperty(n)&&Hh[n]?(""+e).trim():e+"px"}function wI(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=SI(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var HB=zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bS(n,e){if(e){if(HB[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function SS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wS=null;function JM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var MS=null,Ed=null,Cd=null;function g3(n){if(n=mm(n)){if(typeof MS!="function")throw Error(Oe(280));var e=n.stateNode;e&&(e=ex(e),MS(n.stateNode,n.type,e))}}function MI(n){Ed?Cd?Cd.push(n):Cd=[n]:Ed=n}function TI(){if(Ed){var n=Ed,e=Cd;if(Cd=Ed=null,g3(n),e)for(n=0;n<e.length;n++)g3(e[n])}}function EI(n,e){return n(e)}function CI(){}var l_=!1;function AI(n,e,t){if(l_)return n(e,t);l_=!0;try{return EI(n,e,t)}finally{l_=!1,(Ed!==null||Cd!==null)&&(CI(),TI())}}function Mp(n,e){var t=n.stateNode;if(t===null)return null;var r=ex(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Oe(231,e,typeof t));return t}var TS=!1;if(ha)try{var Kf={};Object.defineProperty(Kf,"passive",{get:function(){TS=!0}}),window.addEventListener("test",Kf,Kf),window.removeEventListener("test",Kf,Kf)}catch{TS=!1}function jB(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var jh=!1,Bv=null,Uv=!1,ES=null,WB={onError:function(n){jh=!0,Bv=n}};function GB(n,e,t,r,i,s,o,a,l){jh=!1,Bv=null,jB.apply(WB,arguments)}function $B(n,e,t,r,i,s,o,a,l){if(GB.apply(this,arguments),jh){if(jh){var c=Bv;jh=!1,Bv=null}else throw Error(Oe(198));Uv||(Uv=!0,ES=c)}}function ou(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function PI(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function v3(n){if(ou(n)!==n)throw Error(Oe(188))}function XB(n){var e=n.alternate;if(!e){if(e=ou(n),e===null)throw Error(Oe(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return v3(i),n;if(s===r)return v3(i),e;s=s.sibling}throw Error(Oe(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(t.alternate!==r)throw Error(Oe(190))}if(t.tag!==3)throw Error(Oe(188));return t.stateNode.current===t?n:e}function RI(n){return n=XB(n),n!==null?kI(n):null}function kI(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=kI(n);if(e!==null)return e;n=n.sibling}return null}var LI=Xi.unstable_scheduleCallback,y3=Xi.unstable_cancelCallback,qB=Xi.unstable_shouldYield,YB=Xi.unstable_requestPaint,$n=Xi.unstable_now,KB=Xi.unstable_getCurrentPriorityLevel,QM=Xi.unstable_ImmediatePriority,II=Xi.unstable_UserBlockingPriority,Vv=Xi.unstable_NormalPriority,ZB=Xi.unstable_LowPriority,DI=Xi.unstable_IdlePriority,Ky=null,_o=null;function JB(n){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(Ky,n,void 0,(n.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:t8,QB=Math.log,e8=Math.LN2;function t8(n){return n>>>=0,n===0?32:31-(QB(n)/e8|0)|0}var jg=64,Wg=4194304;function Ih(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ih(a):(s&=o,s!==0&&(r=Ih(s)))}else o=t&~i,o!==0?r=Ih(o):s!==0&&(r=Ih(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ws(e),i=1<<t,r|=n[t],e&=~i;return r}function n8(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r8(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ws(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=n8(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function CS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function OI(){var n=jg;return jg<<=1,!(jg&4194240)&&(jg=64),n}function c_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function hm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ws(e),n[e]=t}function i8(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ws(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function e2(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ws(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var fn=0;function NI(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var zI,t2,FI,BI,UI,AS=!1,Gg=[],cl=null,ul=null,dl=null,Tp=new Map,Ep=new Map,tl=[],s8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x3(n,e){switch(n){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ep.delete(e.pointerId)}}function Zf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mm(e),e!==null&&t2(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function o8(n,e,t,r,i){switch(e){case"focusin":return cl=Zf(cl,n,e,t,r,i),!0;case"dragenter":return ul=Zf(ul,n,e,t,r,i),!0;case"mouseover":return dl=Zf(dl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Tp.set(s,Zf(Tp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ep.set(s,Zf(Ep.get(s)||null,n,e,t,r,i)),!0}return!1}function VI(n){var e=Ec(n.target);if(e!==null){var t=ou(e);if(t!==null){if(e=t.tag,e===13){if(e=PI(t),e!==null){n.blockedOn=e,UI(n.priority,function(){FI(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=PS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);wS=r,t.target.dispatchEvent(r),wS=null}else return e=mm(t),e!==null&&t2(e),n.blockedOn=t,!1;e.shift()}return!0}function _3(n,e,t){lv(n)&&t.delete(e)}function a8(){AS=!1,cl!==null&&lv(cl)&&(cl=null),ul!==null&&lv(ul)&&(ul=null),dl!==null&&lv(dl)&&(dl=null),Tp.forEach(_3),Ep.forEach(_3)}function Jf(n,e){n.blockedOn===e&&(n.blockedOn=null,AS||(AS=!0,Xi.unstable_scheduleCallback(Xi.unstable_NormalPriority,a8)))}function Cp(n){function e(i){return Jf(i,n)}if(0<Gg.length){Jf(Gg[0],n);for(var t=1;t<Gg.length;t++){var r=Gg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(cl!==null&&Jf(cl,n),ul!==null&&Jf(ul,n),dl!==null&&Jf(dl,n),Tp.forEach(e),Ep.forEach(e),t=0;t<tl.length;t++)r=tl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<tl.length&&(t=tl[0],t.blockedOn===null);)VI(t),t.blockedOn===null&&tl.shift()}var Ad=ba.ReactCurrentBatchConfig,jv=!0;function l8(n,e,t,r){var i=fn,s=Ad.transition;Ad.transition=null;try{fn=1,n2(n,e,t,r)}finally{fn=i,Ad.transition=s}}function c8(n,e,t,r){var i=fn,s=Ad.transition;Ad.transition=null;try{fn=4,n2(n,e,t,r)}finally{fn=i,Ad.transition=s}}function n2(n,e,t,r){if(jv){var i=PS(n,e,t,r);if(i===null)x_(n,e,r,Wv,t),x3(n,r);else if(o8(i,n,e,t,r))r.stopPropagation();else if(x3(n,r),e&4&&-1<s8.indexOf(n)){for(;i!==null;){var s=mm(i);if(s!==null&&zI(s),s=PS(n,e,t,r),s===null&&x_(n,e,r,Wv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else x_(n,e,r,null,t)}}var Wv=null;function PS(n,e,t,r){if(Wv=null,n=JM(r),n=Ec(n),n!==null)if(e=ou(n),e===null)n=null;else if(t=e.tag,t===13){if(n=PI(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Wv=n,null}function HI(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KB()){case QM:return 1;case II:return 4;case Vv:case ZB:return 16;case DI:return 536870912;default:return 16}default:return 16}}var il=null,r2=null,cv=null;function jI(){if(cv)return cv;var n,e=r2,t=e.length,r,i="value"in il?il.value:il.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return cv=i.slice(n,1<r?1-r:void 0)}function uv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function $g(){return!0}function b3(){return!1}function Ji(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$g:b3,this.isPropagationStopped=b3,this}return zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=$g)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=$g)},persist:function(){},isPersistent:$g}),e}var mf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i2=Ji(mf),pm=zn({},mf,{view:0,detail:0}),u8=Ji(pm),u_,d_,Qf,Zy=zn({},pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s2,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qf&&(Qf&&n.type==="mousemove"?(u_=n.screenX-Qf.screenX,d_=n.screenY-Qf.screenY):d_=u_=0,Qf=n),u_)},movementY:function(n){return"movementY"in n?n.movementY:d_}}),S3=Ji(Zy),d8=zn({},Zy,{dataTransfer:0}),f8=Ji(d8),h8=zn({},pm,{relatedTarget:0}),f_=Ji(h8),p8=zn({},mf,{animationName:0,elapsedTime:0,pseudoElement:0}),m8=Ji(p8),g8=zn({},mf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),v8=Ji(g8),y8=zn({},mf,{data:0}),w3=Ji(y8),x8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S8(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=b8[n])?!!e[n]:!1}function s2(){return S8}var w8=zn({},pm,{key:function(n){if(n.key){var e=x8[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_8[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s2,charCode:function(n){return n.type==="keypress"?uv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),M8=Ji(w8),T8=zn({},Zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M3=Ji(T8),E8=zn({},pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s2}),C8=Ji(E8),A8=zn({},mf,{propertyName:0,elapsedTime:0,pseudoElement:0}),P8=Ji(A8),R8=zn({},Zy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),k8=Ji(R8),L8=[9,13,27,32],o2=ha&&"CompositionEvent"in window,Wh=null;ha&&"documentMode"in document&&(Wh=document.documentMode);var I8=ha&&"TextEvent"in window&&!Wh,WI=ha&&(!o2||Wh&&8<Wh&&11>=Wh),T3=String.fromCharCode(32),E3=!1;function GI(n,e){switch(n){case"keyup":return L8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $I(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var od=!1;function D8(n,e){switch(n){case"compositionend":return $I(e);case"keypress":return e.which!==32?null:(E3=!0,T3);case"textInput":return n=e.data,n===T3&&E3?null:n;default:return null}}function O8(n,e){if(od)return n==="compositionend"||!o2&&GI(n,e)?(n=jI(),cv=r2=il=null,od=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WI&&e.locale!=="ko"?null:e.data;default:return null}}var N8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C3(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!N8[n.type]:e==="textarea"}function XI(n,e,t,r){MI(r),e=Gv(e,"onChange"),0<e.length&&(t=new i2("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Gh=null,Ap=null;function z8(n){i4(n,0)}function Jy(n){var e=cd(n);if(vI(e))return n}function F8(n,e){if(n==="change")return e}var qI=!1;if(ha){var h_;if(ha){var p_="oninput"in document;if(!p_){var A3=document.createElement("div");A3.setAttribute("oninput","return;"),p_=typeof A3.oninput=="function"}h_=p_}else h_=!1;qI=h_&&(!document.documentMode||9<document.documentMode)}function P3(){Gh&&(Gh.detachEvent("onpropertychange",YI),Ap=Gh=null)}function YI(n){if(n.propertyName==="value"&&Jy(Ap)){var e=[];XI(e,Ap,n,JM(n)),AI(z8,e)}}function B8(n,e,t){n==="focusin"?(P3(),Gh=e,Ap=t,Gh.attachEvent("onpropertychange",YI)):n==="focusout"&&P3()}function U8(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Jy(Ap)}function V8(n,e){if(n==="click")return Jy(e)}function H8(n,e){if(n==="input"||n==="change")return Jy(e)}function j8(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qs=typeof Object.is=="function"?Object.is:j8;function Pp(n,e){if(qs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!dS.call(e,i)||!qs(n[i],e[i]))return!1}return!0}function R3(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function k3(n,e){var t=R3(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=R3(t)}}function KI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?KI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ZI(){for(var n=window,e=Fv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Fv(n.document)}return e}function a2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function W8(n){var e=ZI(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&KI(t.ownerDocument.documentElement,t)){if(r!==null&&a2(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=k3(t,s);var o=k3(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var G8=ha&&"documentMode"in document&&11>=document.documentMode,ad=null,RS=null,$h=null,kS=!1;function L3(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;kS||ad==null||ad!==Fv(r)||(r=ad,"selectionStart"in r&&a2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$h&&Pp($h,r)||($h=r,r=Gv(RS,"onSelect"),0<r.length&&(e=new i2("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ad)))}function Xg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ld={animationend:Xg("Animation","AnimationEnd"),animationiteration:Xg("Animation","AnimationIteration"),animationstart:Xg("Animation","AnimationStart"),transitionend:Xg("Transition","TransitionEnd")},m_={},JI={};ha&&(JI=document.createElement("div").style,"AnimationEvent"in window||(delete ld.animationend.animation,delete ld.animationiteration.animation,delete ld.animationstart.animation),"TransitionEvent"in window||delete ld.transitionend.transition);function Qy(n){if(m_[n])return m_[n];if(!ld[n])return n;var e=ld[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in JI)return m_[n]=e[t];return n}var QI=Qy("animationend"),e4=Qy("animationiteration"),t4=Qy("animationstart"),n4=Qy("transitionend"),r4=new Map,I3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(n,e){r4.set(n,e),su(e,[n])}for(var g_=0;g_<I3.length;g_++){var v_=I3[g_],$8=v_.toLowerCase(),X8=v_[0].toUpperCase()+v_.slice(1);kl($8,"on"+X8)}kl(QI,"onAnimationEnd");kl(e4,"onAnimationIteration");kl(t4,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(n4,"onTransitionEnd");Hd("onMouseEnter",["mouseout","mouseover"]);Hd("onMouseLeave",["mouseout","mouseover"]);Hd("onPointerEnter",["pointerout","pointerover"]);Hd("onPointerLeave",["pointerout","pointerover"]);su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));su("onBeforeInput",["compositionend","keypress","textInput","paste"]);su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dh));function D3(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,$B(r,e,void 0,n),n.currentTarget=null}function i4(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;D3(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;D3(i,a,c),s=l}}}if(Uv)throw n=ES,Uv=!1,ES=null,n}function wn(n,e){var t=e[NS];t===void 0&&(t=e[NS]=new Set);var r=n+"__bubble";t.has(r)||(s4(e,n,2,!1),t.add(r))}function y_(n,e,t){var r=0;e&&(r|=4),s4(t,n,r,e)}var qg="_reactListening"+Math.random().toString(36).slice(2);function Rp(n){if(!n[qg]){n[qg]=!0,fI.forEach(function(t){t!=="selectionchange"&&(q8.has(t)||y_(t,!1,n),y_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[qg]||(e[qg]=!0,y_("selectionchange",!1,e))}}function s4(n,e,t,r){switch(HI(e)){case 1:var i=l8;break;case 4:i=c8;break;default:i=n2}t=i.bind(null,e,t,n),i=void 0,!TS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function x_(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ec(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}AI(function(){var c=s,u=JM(t),h=[];e:{var p=r4.get(n);if(p!==void 0){var m=i2,v=n;switch(n){case"keypress":if(uv(t)===0)break e;case"keydown":case"keyup":m=M8;break;case"focusin":v="focus",m=f_;break;case"focusout":v="blur",m=f_;break;case"beforeblur":case"afterblur":m=f_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=S3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=f8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=C8;break;case QI:case e4:case t4:m=m8;break;case n4:m=P8;break;case"scroll":m=u8;break;case"wheel":m=k8;break;case"copy":case"cut":case"paste":m=v8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=M3}var g=(e&4)!==0,x=!g&&n==="scroll",_=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,S;b!==null;){S=b;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,_!==null&&(M=Mp(b,_),M!=null&&g.push(kp(b,M,S)))),x)break;b=b.return}0<g.length&&(p=new m(p,v,null,t,u),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==wS&&(v=t.relatedTarget||t.fromElement)&&(Ec(v)||v[pa]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?Ec(v):null,v!==null&&(x=ou(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=S3,M="onMouseLeave",_="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(g=M3,M="onPointerLeave",_="onPointerEnter",b="pointer"),x=m==null?p:cd(m),S=v==null?p:cd(v),p=new g(M,b+"leave",m,t,u),p.target=x,p.relatedTarget=S,M=null,Ec(u)===c&&(g=new g(_,b+"enter",v,t,u),g.target=S,g.relatedTarget=x,M=g),x=M,m&&v)t:{for(g=m,_=v,b=0,S=g;S;S=Lu(S))b++;for(S=0,M=_;M;M=Lu(M))S++;for(;0<b-S;)g=Lu(g),b--;for(;0<S-b;)_=Lu(_),S--;for(;b--;){if(g===_||_!==null&&g===_.alternate)break t;g=Lu(g),_=Lu(_)}g=null}else g=null;m!==null&&O3(h,p,m,g,!1),v!==null&&x!==null&&O3(h,x,v,g,!0)}}e:{if(p=c?cd(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=F8;else if(C3(p))if(qI)E=H8;else{E=U8;var P=B8}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=V8);if(E&&(E=E(n,c))){XI(h,E,t,u);break e}P&&P(n,p,c),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&yS(p,"number",p.value)}switch(P=c?cd(c):window,n){case"focusin":(C3(P)||P.contentEditable==="true")&&(ad=P,RS=c,$h=null);break;case"focusout":$h=RS=ad=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,L3(h,t,u);break;case"selectionchange":if(G8)break;case"keydown":case"keyup":L3(h,t,u)}var R;if(o2)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else od?GI(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(WI&&t.locale!=="ko"&&(od||C!=="onCompositionStart"?C==="onCompositionEnd"&&od&&(R=jI()):(il=u,r2="value"in il?il.value:il.textContent,od=!0)),P=Gv(c,C),0<P.length&&(C=new w3(C,n,null,t,u),h.push({event:C,listeners:P}),R?C.data=R:(R=$I(t),R!==null&&(C.data=R)))),(R=I8?D8(n,t):O8(n,t))&&(c=Gv(c,"onBeforeInput"),0<c.length&&(u=new w3("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=R))}i4(h,e)})}function kp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Gv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mp(n,t),s!=null&&r.unshift(kp(n,s,i)),s=Mp(n,e),s!=null&&r.push(kp(n,s,i))),n=n.return}return r}function Lu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function O3(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Mp(t,s),l!=null&&o.unshift(kp(t,l,a))):i||(l=Mp(t,s),l!=null&&o.push(kp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Y8=/\r\n?/g,K8=/\u0000|\uFFFD/g;function N3(n){return(typeof n=="string"?n:""+n).replace(Y8,`
`).replace(K8,"")}function Yg(n,e,t){if(e=N3(e),N3(n)!==e&&t)throw Error(Oe(425))}function $v(){}var LS=null,IS=null;function DS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OS=typeof setTimeout=="function"?setTimeout:void 0,Z8=typeof clearTimeout=="function"?clearTimeout:void 0,z3=typeof Promise=="function"?Promise:void 0,J8=typeof queueMicrotask=="function"?queueMicrotask:typeof z3<"u"?function(n){return z3.resolve(null).then(n).catch(Q8)}:OS;function Q8(n){setTimeout(function(){throw n})}function __(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Cp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Cp(e)}function fl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function F3(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var gf=Math.random().toString(36).slice(2),mo="__reactFiber$"+gf,Lp="__reactProps$"+gf,pa="__reactContainer$"+gf,NS="__reactEvents$"+gf,eU="__reactListeners$"+gf,tU="__reactHandles$"+gf;function Ec(n){var e=n[mo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[pa]||t[mo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=F3(n);n!==null;){if(t=n[mo])return t;n=F3(n)}return e}n=t,t=n.parentNode}return null}function mm(n){return n=n[mo]||n[pa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function cd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Oe(33))}function ex(n){return n[Lp]||null}var zS=[],ud=-1;function Ll(n){return{current:n}}function Tn(n){0>ud||(n.current=zS[ud],zS[ud]=null,ud--)}function bn(n,e){ud++,zS[ud]=n.current,n.current=e}var bl={},Xr=Ll(bl),xi=Ll(!1),Yc=bl;function jd(n,e){var t=n.type.contextTypes;if(!t)return bl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function _i(n){return n=n.childContextTypes,n!=null}function Xv(){Tn(xi),Tn(Xr)}function B3(n,e,t){if(Xr.current!==bl)throw Error(Oe(168));bn(Xr,e),bn(xi,t)}function o4(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,BB(n)||"Unknown",i));return zn({},t,r)}function qv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||bl,Yc=Xr.current,bn(Xr,n),bn(xi,xi.current),!0}function U3(n,e,t){var r=n.stateNode;if(!r)throw Error(Oe(169));t?(n=o4(n,e,Yc),r.__reactInternalMemoizedMergedChildContext=n,Tn(xi),Tn(Xr),bn(Xr,n)):Tn(xi),bn(xi,t)}var Zo=null,tx=!1,b_=!1;function a4(n){Zo===null?Zo=[n]:Zo.push(n)}function nU(n){tx=!0,a4(n)}function Il(){if(!b_&&Zo!==null){b_=!0;var n=0,e=fn;try{var t=Zo;for(fn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Zo=null,tx=!1}catch(i){throw Zo!==null&&(Zo=Zo.slice(n+1)),LI(QM,Il),i}finally{fn=e,b_=!1}}return null}var dd=[],fd=0,Yv=null,Kv=0,ps=[],ms=0,Kc=null,na=1,ra="";function fc(n,e){dd[fd++]=Kv,dd[fd++]=Yv,Yv=n,Kv=e}function l4(n,e,t){ps[ms++]=na,ps[ms++]=ra,ps[ms++]=Kc,Kc=n;var r=na;n=ra;var i=32-Ws(r)-1;r&=~(1<<i),t+=1;var s=32-Ws(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,na=1<<32-Ws(e)+i|t<<i|r,ra=s+n}else na=1<<s|t<<i|r,ra=n}function l2(n){n.return!==null&&(fc(n,1),l4(n,1,0))}function c2(n){for(;n===Yv;)Yv=dd[--fd],dd[fd]=null,Kv=dd[--fd],dd[fd]=null;for(;n===Kc;)Kc=ps[--ms],ps[ms]=null,ra=ps[--ms],ps[ms]=null,na=ps[--ms],ps[ms]=null}var Wi=null,Vi=null,Pn=!1,Us=null;function c4(n,e){var t=vs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function V3(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Wi=n,Vi=fl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Wi=n,Vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Kc!==null?{id:na,overflow:ra}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=vs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Wi=n,Vi=null,!0):!1;default:return!1}}function FS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function BS(n){if(Pn){var e=Vi;if(e){var t=e;if(!V3(n,e)){if(FS(n))throw Error(Oe(418));e=fl(t.nextSibling);var r=Wi;e&&V3(n,e)?c4(r,t):(n.flags=n.flags&-4097|2,Pn=!1,Wi=n)}}else{if(FS(n))throw Error(Oe(418));n.flags=n.flags&-4097|2,Pn=!1,Wi=n}}}function H3(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wi=n}function Kg(n){if(n!==Wi)return!1;if(!Pn)return H3(n),Pn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!DS(n.type,n.memoizedProps)),e&&(e=Vi)){if(FS(n))throw u4(),Error(Oe(418));for(;e;)c4(n,e),e=fl(e.nextSibling)}if(H3(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Oe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Vi=fl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Vi=null}}else Vi=Wi?fl(n.stateNode.nextSibling):null;return!0}function u4(){for(var n=Vi;n;)n=fl(n.nextSibling)}function Wd(){Vi=Wi=null,Pn=!1}function u2(n){Us===null?Us=[n]:Us.push(n)}var rU=ba.ReactCurrentBatchConfig;function Ns(n,e){if(n&&n.defaultProps){e=zn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Zv=Ll(null),Jv=null,hd=null,d2=null;function f2(){d2=hd=Jv=null}function h2(n){var e=Zv.current;Tn(Zv),n._currentValue=e}function US(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Pd(n,e){Jv=n,d2=hd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(vi=!0),n.firstContext=null)}function _s(n){var e=n._currentValue;if(d2!==n)if(n={context:n,memoizedValue:e,next:null},hd===null){if(Jv===null)throw Error(Oe(308));hd=n,Jv.dependencies={lanes:0,firstContext:n}}else hd=hd.next=n;return e}var Cc=null;function p2(n){Cc===null?Cc=[n]:Cc.push(n)}function d4(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,p2(e)):(t.next=i.next,i.next=t),e.interleaved=t,ma(n,r)}function ma(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Za=!1;function m2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f4(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function la(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function hl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ma(n,t)}return i=r.interleaved,i===null?(e.next=e,p2(r)):(e.next=i.next,i.next=e),r.interleaved=e,ma(n,t)}function dv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,e2(n,t)}}function j3(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Qv(n,e,t,r){var i=n.updateQueue;Za=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,g=a;switch(p=e,m=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=zn({},h,p);break e;case 2:Za=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jc|=o,n.lanes=o,n.memoizedState=h}}function W3(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var h4=new dI.Component().refs;function VS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:zn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var nx={isMounted:function(n){return(n=n._reactInternals)?ou(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ii(),i=ml(n),s=la(r,i);s.payload=e,t!=null&&(s.callback=t),e=hl(n,s,i),e!==null&&(Gs(e,n,i,r),dv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ii(),i=ml(n),s=la(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=hl(n,s,i),e!==null&&(Gs(e,n,i,r),dv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ii(),r=ml(n),i=la(t,r);i.tag=2,e!=null&&(i.callback=e),e=hl(n,i,r),e!==null&&(Gs(e,n,r,t),dv(e,n,r))}};function G3(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pp(t,r)||!Pp(i,s):!0}function p4(n,e,t){var r=!1,i=bl,s=e.contextType;return typeof s=="object"&&s!==null?s=_s(s):(i=_i(e)?Yc:Xr.current,r=e.contextTypes,s=(r=r!=null)?jd(n,i):bl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function $3(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&nx.enqueueReplaceState(e,e.state,null)}function HS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=h4,m2(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_s(s):(s=_i(e)?Yc:Xr.current,i.context=jd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(VS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nx.enqueueReplaceState(i,i.state,null),Qv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function eh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Oe(309));var r=t.stateNode}if(!r)throw Error(Oe(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===h4&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Oe(284));if(!t._owner)throw Error(Oe(290,n))}return n}function Zg(n,e){throw n=Object.prototype.toString.call(e),Error(Oe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function X3(n){var e=n._init;return e(n._payload)}function m4(n){function e(_,b){if(n){var S=_.deletions;S===null?(_.deletions=[b],_.flags|=16):S.push(b)}}function t(_,b){if(!n)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=gl(_,b),_.index=0,_.sibling=null,_}function s(_,b,S){return _.index=S,n?(S=_.alternate,S!==null?(S=S.index,S<b?(_.flags|=2,b):S):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,b,S,M){return b===null||b.tag!==6?(b=A_(S,_.mode,M),b.return=_,b):(b=i(b,S),b.return=_,b)}function l(_,b,S,M){var E=S.type;return E===sd?u(_,b,S.props.children,M,S.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ka&&X3(E)===b.type)?(M=i(b,S.props),M.ref=eh(_,b,S),M.return=_,M):(M=vv(S.type,S.key,S.props,null,_.mode,M),M.ref=eh(_,b,S),M.return=_,M)}function c(_,b,S,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=P_(S,_.mode,M),b.return=_,b):(b=i(b,S.children||[]),b.return=_,b)}function u(_,b,S,M,E){return b===null||b.tag!==7?(b=Fc(S,_.mode,M,E),b.return=_,b):(b=i(b,S),b.return=_,b)}function h(_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=A_(""+b,_.mode,S),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ug:return S=vv(b.type,b.key,b.props,null,_.mode,S),S.ref=eh(_,null,b),S.return=_,S;case id:return b=P_(b,_.mode,S),b.return=_,b;case Ka:var M=b._init;return h(_,M(b._payload),S)}if(Lh(b)||Yf(b))return b=Fc(b,_.mode,S,null),b.return=_,b;Zg(_,b)}return null}function p(_,b,S,M){var E=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(_,b,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ug:return S.key===E?l(_,b,S,M):null;case id:return S.key===E?c(_,b,S,M):null;case Ka:return E=S._init,p(_,b,E(S._payload),M)}if(Lh(S)||Yf(S))return E!==null?null:u(_,b,S,M,null);Zg(_,S)}return null}function m(_,b,S,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return _=_.get(S)||null,a(b,_,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ug:return _=_.get(M.key===null?S:M.key)||null,l(b,_,M,E);case id:return _=_.get(M.key===null?S:M.key)||null,c(b,_,M,E);case Ka:var P=M._init;return m(_,b,S,P(M._payload),E)}if(Lh(M)||Yf(M))return _=_.get(S)||null,u(b,_,M,E,null);Zg(b,M)}return null}function v(_,b,S,M){for(var E=null,P=null,R=b,C=b=0,k=null;R!==null&&C<S.length;C++){R.index>C?(k=R,R=null):k=R.sibling;var D=p(_,R,S[C],M);if(D===null){R===null&&(R=k);break}n&&R&&D.alternate===null&&e(_,R),b=s(D,b,C),P===null?E=D:P.sibling=D,P=D,R=k}if(C===S.length)return t(_,R),Pn&&fc(_,C),E;if(R===null){for(;C<S.length;C++)R=h(_,S[C],M),R!==null&&(b=s(R,b,C),P===null?E=R:P.sibling=R,P=R);return Pn&&fc(_,C),E}for(R=r(_,R);C<S.length;C++)k=m(R,_,C,S[C],M),k!==null&&(n&&k.alternate!==null&&R.delete(k.key===null?C:k.key),b=s(k,b,C),P===null?E=k:P.sibling=k,P=k);return n&&R.forEach(function($){return e(_,$)}),Pn&&fc(_,C),E}function g(_,b,S,M){var E=Yf(S);if(typeof E!="function")throw Error(Oe(150));if(S=E.call(S),S==null)throw Error(Oe(151));for(var P=E=null,R=b,C=b=0,k=null,D=S.next();R!==null&&!D.done;C++,D=S.next()){R.index>C?(k=R,R=null):k=R.sibling;var $=p(_,R,D.value,M);if($===null){R===null&&(R=k);break}n&&R&&$.alternate===null&&e(_,R),b=s($,b,C),P===null?E=$:P.sibling=$,P=$,R=k}if(D.done)return t(_,R),Pn&&fc(_,C),E;if(R===null){for(;!D.done;C++,D=S.next())D=h(_,D.value,M),D!==null&&(b=s(D,b,C),P===null?E=D:P.sibling=D,P=D);return Pn&&fc(_,C),E}for(R=r(_,R);!D.done;C++,D=S.next())D=m(R,_,C,D.value,M),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?C:D.key),b=s(D,b,C),P===null?E=D:P.sibling=D,P=D);return n&&R.forEach(function(le){return e(_,le)}),Pn&&fc(_,C),E}function x(_,b,S,M){if(typeof S=="object"&&S!==null&&S.type===sd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ug:e:{for(var E=S.key,P=b;P!==null;){if(P.key===E){if(E=S.type,E===sd){if(P.tag===7){t(_,P.sibling),b=i(P,S.props.children),b.return=_,_=b;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ka&&X3(E)===P.type){t(_,P.sibling),b=i(P,S.props),b.ref=eh(_,P,S),b.return=_,_=b;break e}t(_,P);break}else e(_,P);P=P.sibling}S.type===sd?(b=Fc(S.props.children,_.mode,M,S.key),b.return=_,_=b):(M=vv(S.type,S.key,S.props,null,_.mode,M),M.ref=eh(_,b,S),M.return=_,_=M)}return o(_);case id:e:{for(P=S.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){t(_,b.sibling),b=i(b,S.children||[]),b.return=_,_=b;break e}else{t(_,b);break}else e(_,b);b=b.sibling}b=P_(S,_.mode,M),b.return=_,_=b}return o(_);case Ka:return P=S._init,x(_,b,P(S._payload),M)}if(Lh(S))return v(_,b,S,M);if(Yf(S))return g(_,b,S,M);Zg(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(t(_,b.sibling),b=i(b,S),b.return=_,_=b):(t(_,b),b=A_(S,_.mode,M),b.return=_,_=b),o(_)):t(_,b)}return x}var Gd=m4(!0),g4=m4(!1),gm={},bo=Ll(gm),Ip=Ll(gm),Dp=Ll(gm);function Ac(n){if(n===gm)throw Error(Oe(174));return n}function g2(n,e){switch(bn(Dp,e),bn(Ip,n),bn(bo,gm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_S(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=_S(e,n)}Tn(bo),bn(bo,e)}function $d(){Tn(bo),Tn(Ip),Tn(Dp)}function v4(n){Ac(Dp.current);var e=Ac(bo.current),t=_S(e,n.type);e!==t&&(bn(Ip,n),bn(bo,t))}function v2(n){Ip.current===n&&(Tn(bo),Tn(Ip))}var In=Ll(0);function ey(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var S_=[];function y2(){for(var n=0;n<S_.length;n++)S_[n]._workInProgressVersionPrimary=null;S_.length=0}var fv=ba.ReactCurrentDispatcher,w_=ba.ReactCurrentBatchConfig,Zc=0,Nn=null,sr=null,mr=null,ty=!1,Xh=!1,Op=0,iU=0;function Br(){throw Error(Oe(321))}function x2(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!qs(n[t],e[t]))return!1;return!0}function _2(n,e,t,r,i,s){if(Zc=s,Nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fv.current=n===null||n.memoizedState===null?lU:cU,n=t(r,i),Xh){s=0;do{if(Xh=!1,Op=0,25<=s)throw Error(Oe(301));s+=1,mr=sr=null,e.updateQueue=null,fv.current=uU,n=t(r,i)}while(Xh)}if(fv.current=ny,e=sr!==null&&sr.next!==null,Zc=0,mr=sr=Nn=null,ty=!1,e)throw Error(Oe(300));return n}function b2(){var n=Op!==0;return Op=0,n}function co(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Nn.memoizedState=mr=n:mr=mr.next=n,mr}function bs(){if(sr===null){var n=Nn.alternate;n=n!==null?n.memoizedState:null}else n=sr.next;var e=mr===null?Nn.memoizedState:mr.next;if(e!==null)mr=e,sr=n;else{if(n===null)throw Error(Oe(310));sr=n,n={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},mr===null?Nn.memoizedState=mr=n:mr=mr.next=n}return mr}function Np(n,e){return typeof e=="function"?e(n):e}function M_(n){var e=bs(),t=e.queue;if(t===null)throw Error(Oe(311));t.lastRenderedReducer=n;var r=sr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Zc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Nn.lanes|=u,Jc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,qs(r,e.memoizedState)||(vi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Nn.lanes|=s,Jc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function T_(n){var e=bs(),t=e.queue;if(t===null)throw Error(Oe(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);qs(s,e.memoizedState)||(vi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function y4(){}function x4(n,e){var t=Nn,r=bs(),i=e(),s=!qs(r.memoizedState,i);if(s&&(r.memoizedState=i,vi=!0),r=r.queue,S2(S4.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||mr!==null&&mr.memoizedState.tag&1){if(t.flags|=2048,zp(9,b4.bind(null,t,r,i,e),void 0,null),yr===null)throw Error(Oe(349));Zc&30||_4(t,e,i)}return i}function _4(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function b4(n,e,t,r){e.value=t,e.getSnapshot=r,w4(e)&&M4(n)}function S4(n,e,t){return t(function(){w4(e)&&M4(n)})}function w4(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qs(n,t)}catch{return!0}}function M4(n){var e=ma(n,1);e!==null&&Gs(e,n,1,-1)}function q3(n){var e=co();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},e.queue=n,n=n.dispatch=aU.bind(null,Nn,n),[e.memoizedState,n]}function zp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function T4(){return bs().memoizedState}function hv(n,e,t,r){var i=co();Nn.flags|=n,i.memoizedState=zp(1|e,t,void 0,r===void 0?null:r)}function rx(n,e,t,r){var i=bs();r=r===void 0?null:r;var s=void 0;if(sr!==null){var o=sr.memoizedState;if(s=o.destroy,r!==null&&x2(r,o.deps)){i.memoizedState=zp(e,t,s,r);return}}Nn.flags|=n,i.memoizedState=zp(1|e,t,s,r)}function Y3(n,e){return hv(8390656,8,n,e)}function S2(n,e){return rx(2048,8,n,e)}function E4(n,e){return rx(4,2,n,e)}function C4(n,e){return rx(4,4,n,e)}function A4(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function P4(n,e,t){return t=t!=null?t.concat([n]):null,rx(4,4,A4.bind(null,e,n),t)}function w2(){}function R4(n,e){var t=bs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&x2(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function k4(n,e){var t=bs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&x2(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function L4(n,e,t){return Zc&21?(qs(t,e)||(t=OI(),Nn.lanes|=t,Jc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,vi=!0),n.memoizedState=t)}function sU(n,e){var t=fn;fn=t!==0&&4>t?t:4,n(!0);var r=w_.transition;w_.transition={};try{n(!1),e()}finally{fn=t,w_.transition=r}}function I4(){return bs().memoizedState}function oU(n,e,t){var r=ml(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},D4(n))O4(e,t);else if(t=d4(n,e,t,r),t!==null){var i=ii();Gs(t,n,r,i),N4(t,e,r)}}function aU(n,e,t){var r=ml(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(D4(n))O4(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,qs(a,o)){var l=e.interleaved;l===null?(i.next=i,p2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=d4(n,e,i,r),t!==null&&(i=ii(),Gs(t,n,r,i),N4(t,e,r))}}function D4(n){var e=n.alternate;return n===Nn||e!==null&&e===Nn}function O4(n,e){Xh=ty=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function N4(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,e2(n,t)}}var ny={readContext:_s,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},lU={readContext:_s,useCallback:function(n,e){return co().memoizedState=[n,e===void 0?null:e],n},useContext:_s,useEffect:Y3,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,hv(4194308,4,A4.bind(null,e,n),t)},useLayoutEffect:function(n,e){return hv(4194308,4,n,e)},useInsertionEffect:function(n,e){return hv(4,2,n,e)},useMemo:function(n,e){var t=co();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=co();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=oU.bind(null,Nn,n),[r.memoizedState,n]},useRef:function(n){var e=co();return n={current:n},e.memoizedState=n},useState:q3,useDebugValue:w2,useDeferredValue:function(n){return co().memoizedState=n},useTransition:function(){var n=q3(!1),e=n[0];return n=sU.bind(null,n[1]),co().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Nn,i=co();if(Pn){if(t===void 0)throw Error(Oe(407));t=t()}else{if(t=e(),yr===null)throw Error(Oe(349));Zc&30||_4(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,Y3(S4.bind(null,r,s,n),[n]),r.flags|=2048,zp(9,b4.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=co(),e=yr.identifierPrefix;if(Pn){var t=ra,r=na;t=(r&~(1<<32-Ws(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Op++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=iU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},cU={readContext:_s,useCallback:R4,useContext:_s,useEffect:S2,useImperativeHandle:P4,useInsertionEffect:E4,useLayoutEffect:C4,useMemo:k4,useReducer:M_,useRef:T4,useState:function(){return M_(Np)},useDebugValue:w2,useDeferredValue:function(n){var e=bs();return L4(e,sr.memoizedState,n)},useTransition:function(){var n=M_(Np)[0],e=bs().memoizedState;return[n,e]},useMutableSource:y4,useSyncExternalStore:x4,useId:I4,unstable_isNewReconciler:!1},uU={readContext:_s,useCallback:R4,useContext:_s,useEffect:S2,useImperativeHandle:P4,useInsertionEffect:E4,useLayoutEffect:C4,useMemo:k4,useReducer:T_,useRef:T4,useState:function(){return T_(Np)},useDebugValue:w2,useDeferredValue:function(n){var e=bs();return sr===null?e.memoizedState=n:L4(e,sr.memoizedState,n)},useTransition:function(){var n=T_(Np)[0],e=bs().memoizedState;return[n,e]},useMutableSource:y4,useSyncExternalStore:x4,useId:I4,unstable_isNewReconciler:!1};function Xd(n,e){try{var t="",r=e;do t+=FB(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function E_(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function jS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var dU=typeof WeakMap=="function"?WeakMap:Map;function z4(n,e,t){t=la(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){iy||(iy=!0,QS=r),jS(n,e)},t}function F4(n,e,t){t=la(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){jS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){jS(n,e),typeof r!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function K3(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new dU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=TU.bind(null,n,e,t),e.then(n,n))}function Z3(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function J3(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=la(-1,1),e.tag=2,hl(t,e,1))),t.lanes|=1),n)}var fU=ba.ReactCurrentOwner,vi=!1;function ti(n,e,t,r){e.child=n===null?g4(e,null,t,r):Gd(e,n.child,t,r)}function Q3(n,e,t,r,i){t=t.render;var s=e.ref;return Pd(e,i),r=_2(n,e,t,r,s,i),t=b2(),n!==null&&!vi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ga(n,e,i)):(Pn&&t&&l2(e),e.flags|=1,ti(n,e,r,i),e.child)}function eA(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!k2(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,B4(n,e,s,r,i)):(n=vv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Pp,t(o,r)&&n.ref===e.ref)return ga(n,e,i)}return e.flags|=1,n=gl(s,r),n.ref=e.ref,n.return=e,e.child=n}function B4(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Pp(s,r)&&n.ref===e.ref)if(vi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(vi=!0);else return e.lanes=n.lanes,ga(n,e,i)}return WS(n,e,t,r,i)}function U4(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(md,Bi),Bi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,bn(md,Bi),Bi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,bn(md,Bi),Bi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,bn(md,Bi),Bi|=r;return ti(n,e,i,t),e.child}function V4(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function WS(n,e,t,r,i){var s=_i(t)?Yc:Xr.current;return s=jd(e,s),Pd(e,i),t=_2(n,e,t,r,s,i),r=b2(),n!==null&&!vi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ga(n,e,i)):(Pn&&r&&l2(e),e.flags|=1,ti(n,e,t,i),e.child)}function tA(n,e,t,r,i){if(_i(t)){var s=!0;qv(e)}else s=!1;if(Pd(e,i),e.stateNode===null)pv(n,e),p4(e,t,r),HS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=_s(c):(c=_i(t)?Yc:Xr.current,c=jd(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$3(e,o,r,c),Za=!1;var p=e.memoizedState;o.state=p,Qv(e,r,o,i),l=e.memoizedState,a!==r||p!==l||xi.current||Za?(typeof u=="function"&&(VS(e,t,u,r),l=e.memoizedState),(a=Za||G3(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,f4(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ns(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=_s(l):(l=_i(t)?Yc:Xr.current,l=jd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&$3(e,o,r,l),Za=!1,p=e.memoizedState,o.state=p,Qv(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||xi.current||Za?(typeof m=="function"&&(VS(e,t,m,r),v=e.memoizedState),(c=Za||G3(e,t,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return GS(n,e,t,r,s,i)}function GS(n,e,t,r,i,s){V4(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&U3(e,t,!1),ga(n,e,s);r=e.stateNode,fU.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Gd(e,n.child,null,s),e.child=Gd(e,null,a,s)):ti(n,e,a,s),e.memoizedState=r.state,i&&U3(e,t,!0),e.child}function H4(n){var e=n.stateNode;e.pendingContext?B3(n,e.pendingContext,e.pendingContext!==e.context):e.context&&B3(n,e.context,!1),g2(n,e.containerInfo)}function nA(n,e,t,r,i){return Wd(),u2(i),e.flags|=256,ti(n,e,t,r),e.child}var $S={dehydrated:null,treeContext:null,retryLane:0};function XS(n){return{baseLanes:n,cachePool:null,transitions:null}}function j4(n,e,t){var r=e.pendingProps,i=In.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),bn(In,i&1),n===null)return BS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ox(o,r,0,null),n=Fc(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=XS(t),e.memoizedState=$S,n):M2(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hU(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gl(a,s):(s=Fc(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?XS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=$S,r}return s=n.child,n=s.sibling,r=gl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function M2(n,e){return e=ox({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Jg(n,e,t,r){return r!==null&&u2(r),Gd(e,n.child,null,t),n=M2(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function hU(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=E_(Error(Oe(422))),Jg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ox({mode:"visible",children:r.children},i,0,null),s=Fc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gd(e,n.child,null,o),e.child.memoizedState=XS(o),e.memoizedState=$S,s);if(!(e.mode&1))return Jg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=E_(s,r,void 0),Jg(n,e,o,r)}if(a=(o&n.childLanes)!==0,vi||a){if(r=yr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ma(n,i),Gs(r,n,i,-1))}return R2(),r=E_(Error(Oe(421))),Jg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=EU.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Vi=fl(i.nextSibling),Wi=e,Pn=!0,Us=null,n!==null&&(ps[ms++]=na,ps[ms++]=ra,ps[ms++]=Kc,na=n.id,ra=n.overflow,Kc=e),e=M2(e,r.children),e.flags|=4096,e)}function rA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),US(n.return,e,t)}function C_(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function W4(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ti(n,e,r.children,t),r=In.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rA(n,t,e);else if(n.tag===19)rA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(bn(In,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&ey(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),C_(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&ey(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}C_(e,!0,t,null,s);break;case"together":C_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ga(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Jc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Oe(153));if(e.child!==null){for(n=e.child,t=gl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=gl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function pU(n,e,t){switch(e.tag){case 3:H4(e),Wd();break;case 5:v4(e);break;case 1:_i(e.type)&&qv(e);break;case 4:g2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bn(Zv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bn(In,In.current&1),e.flags|=128,null):t&e.child.childLanes?j4(n,e,t):(bn(In,In.current&1),n=ga(n,e,t),n!==null?n.sibling:null);bn(In,In.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return W4(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(In,In.current),r)break;return null;case 22:case 23:return e.lanes=0,U4(n,e,t)}return ga(n,e,t)}var G4,qS,$4,X4;G4=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};qS=function(){};$4=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ac(bo.current);var s=null;switch(t){case"input":i=gS(n,i),r=gS(n,r),s=[];break;case"select":i=zn({},i,{value:void 0}),r=zn({},r,{value:void 0}),s=[];break;case"textarea":i=xS(n,i),r=xS(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=$v)}bS(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};X4=function(n,e,t,r){t!==r&&(e.flags|=4)};function th(n,e){if(!Pn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ur(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function mU(n,e,t){var r=e.pendingProps;switch(c2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(e),null;case 1:return _i(e.type)&&Xv(),Ur(e),null;case 3:return r=e.stateNode,$d(),Tn(xi),Tn(Xr),y2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Kg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(nw(Us),Us=null))),qS(n,e),Ur(e),null;case 5:v2(e);var i=Ac(Dp.current);if(t=e.type,n!==null&&e.stateNode!=null)$4(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return Ur(e),null}if(n=Ac(bo.current),Kg(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[mo]=e,r[Lp]=s,n=(e.mode&1)!==0,t){case"dialog":wn("cancel",r),wn("close",r);break;case"iframe":case"object":case"embed":wn("load",r);break;case"video":case"audio":for(i=0;i<Dh.length;i++)wn(Dh[i],r);break;case"source":wn("error",r);break;case"img":case"image":case"link":wn("error",r),wn("load",r);break;case"details":wn("toggle",r);break;case"input":f3(r,s),wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},wn("invalid",r);break;case"textarea":p3(r,s),wn("invalid",r)}bS(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yg(r.textContent,a,n),i=["children",""+a]):Sp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wn("scroll",r)}switch(t){case"input":Vg(r),h3(r,s,!0);break;case"textarea":Vg(r),m3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$v)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_I(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[mo]=e,n[Lp]=r,G4(n,e,!1,!1),e.stateNode=n;e:{switch(o=SS(t,r),t){case"dialog":wn("cancel",n),wn("close",n),i=r;break;case"iframe":case"object":case"embed":wn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Dh.length;i++)wn(Dh[i],n);i=r;break;case"source":wn("error",n),i=r;break;case"img":case"image":case"link":wn("error",n),wn("load",n),i=r;break;case"details":wn("toggle",n),i=r;break;case"input":f3(n,r),i=gS(n,r),wn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=zn({},r,{value:void 0}),wn("invalid",n);break;case"textarea":p3(n,r),i=xS(n,r),wn("invalid",n);break;default:i=r}bS(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wI(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bI(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&wp(n,l):typeof l=="number"&&wp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wn("scroll",n):l!=null&&qM(n,s,l,o))}switch(t){case"input":Vg(n),h3(n,r,!1);break;case"textarea":Vg(n),m3(n);break;case"option":r.value!=null&&n.setAttribute("value",""+_l(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Td(n,!!r.multiple,s,!1):r.defaultValue!=null&&Td(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=$v)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ur(e),null;case 6:if(n&&e.stateNode!=null)X4(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(t=Ac(Dp.current),Ac(bo.current),Kg(e)){if(r=e.stateNode,t=e.memoizedProps,r[mo]=e,(s=r.nodeValue!==t)&&(n=Wi,n!==null))switch(n.tag){case 3:Yg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Yg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[mo]=e,e.stateNode=r}return Ur(e),null;case 13:if(Tn(In),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pn&&Vi!==null&&e.mode&1&&!(e.flags&128))u4(),Wd(),e.flags|=98560,s=!1;else if(s=Kg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[mo]=e}else Wd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ur(e),s=!1}else Us!==null&&(nw(Us),Us=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||In.current&1?or===0&&(or=3):R2())),e.updateQueue!==null&&(e.flags|=4),Ur(e),null);case 4:return $d(),qS(n,e),n===null&&Rp(e.stateNode.containerInfo),Ur(e),null;case 10:return h2(e.type._context),Ur(e),null;case 17:return _i(e.type)&&Xv(),Ur(e),null;case 19:if(Tn(In),s=e.memoizedState,s===null)return Ur(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)th(s,!1);else{if(or!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ey(n),o!==null){for(e.flags|=128,th(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return bn(In,In.current&1|2),e.child}n=n.sibling}s.tail!==null&&$n()>qd&&(e.flags|=128,r=!0,th(s,!1),e.lanes=4194304)}else{if(!r)if(n=ey(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),th(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return Ur(e),null}else 2*$n()-s.renderingStartTime>qd&&t!==1073741824&&(e.flags|=128,r=!0,th(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$n(),e.sibling=null,t=In.current,bn(In,r?t&1|2:t&1),e):(Ur(e),null);case 22:case 23:return P2(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bi&1073741824&&(Ur(e),e.subtreeFlags&6&&(e.flags|=8192)):Ur(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function gU(n,e){switch(c2(e),e.tag){case 1:return _i(e.type)&&Xv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return $d(),Tn(xi),Tn(Xr),y2(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return v2(e),null;case 13:if(Tn(In),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Wd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Tn(In),null;case 4:return $d(),null;case 10:return h2(e.type._context),null;case 22:case 23:return P2(),null;case 24:return null;default:return null}}var Qg=!1,Wr=!1,vU=typeof WeakSet=="function"?WeakSet:Set,Je=null;function pd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Un(n,e,r)}else t.current=null}function YS(n,e,t){try{t()}catch(r){Un(n,e,r)}}var iA=!1;function yU(n,e){if(LS=jv,n=ZI(),a2(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(IS={focusedElem:n,selectionRange:t},jv=!1,Je=e;Je!==null;)if(e=Je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Je=n;else for(;Je!==null;){e=Je;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ns(e.type,g),x);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(M){Un(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}return v=iA,iA=!1,v}function qh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&YS(e,t,s)}i=i.next}while(i!==r)}}function ix(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function KS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function q4(n){var e=n.alternate;e!==null&&(n.alternate=null,q4(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[mo],delete e[Lp],delete e[NS],delete e[eU],delete e[tU])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Y4(n){return n.tag===5||n.tag===3||n.tag===4}function sA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y4(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ZS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=$v));else if(r!==4&&(n=n.child,n!==null))for(ZS(n,e,t),n=n.sibling;n!==null;)ZS(n,e,t),n=n.sibling}function JS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(JS(n,e,t),n=n.sibling;n!==null;)JS(n,e,t),n=n.sibling}var Er=null,zs=!1;function Fa(n,e,t){for(t=t.child;t!==null;)K4(n,e,t),t=t.sibling}function K4(n,e,t){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(Ky,t)}catch{}switch(t.tag){case 5:Wr||pd(t,e);case 6:var r=Er,i=zs;Er=null,Fa(n,e,t),Er=r,zs=i,Er!==null&&(zs?(n=Er,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Er.removeChild(t.stateNode));break;case 18:Er!==null&&(zs?(n=Er,t=t.stateNode,n.nodeType===8?__(n.parentNode,t):n.nodeType===1&&__(n,t),Cp(n)):__(Er,t.stateNode));break;case 4:r=Er,i=zs,Er=t.stateNode.containerInfo,zs=!0,Fa(n,e,t),Er=r,zs=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&YS(t,e,o),i=i.next}while(i!==r)}Fa(n,e,t);break;case 1:if(!Wr&&(pd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Un(t,e,a)}Fa(n,e,t);break;case 21:Fa(n,e,t);break;case 22:t.mode&1?(Wr=(r=Wr)||t.memoizedState!==null,Fa(n,e,t),Wr=r):Fa(n,e,t);break;default:Fa(n,e,t)}}function oA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new vU),e.forEach(function(r){var i=CU.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ps(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Er=a.stateNode,zs=!1;break e;case 3:Er=a.stateNode.containerInfo,zs=!0;break e;case 4:Er=a.stateNode.containerInfo,zs=!0;break e}a=a.return}if(Er===null)throw Error(Oe(160));K4(s,o,i),Er=null,zs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Un(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z4(e,n),e=e.sibling}function Z4(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ps(e,n),so(n),r&4){try{qh(3,n,n.return),ix(3,n)}catch(g){Un(n,n.return,g)}try{qh(5,n,n.return)}catch(g){Un(n,n.return,g)}}break;case 1:Ps(e,n),so(n),r&512&&t!==null&&pd(t,t.return);break;case 5:if(Ps(e,n),so(n),r&512&&t!==null&&pd(t,t.return),n.flags&32){var i=n.stateNode;try{wp(i,"")}catch(g){Un(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yI(i,s),SS(a,o);var c=SS(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?wI(i,h):u==="dangerouslySetInnerHTML"?bI(i,h):u==="children"?wp(i,h):qM(i,u,h,c)}switch(a){case"input":vS(i,s);break;case"textarea":xI(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Td(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Td(i,!!s.multiple,s.defaultValue,!0):Td(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lp]=s}catch(g){Un(n,n.return,g)}}break;case 6:if(Ps(e,n),so(n),r&4){if(n.stateNode===null)throw Error(Oe(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){Un(n,n.return,g)}}break;case 3:if(Ps(e,n),so(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Cp(e.containerInfo)}catch(g){Un(n,n.return,g)}break;case 4:Ps(e,n),so(n);break;case 13:Ps(e,n),so(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(C2=$n())),r&4&&oA(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Wr=(c=Wr)||u,Ps(e,n),Wr=c):Ps(e,n),so(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Je=n,u=n.child;u!==null;){for(h=Je=u;Je!==null;){switch(p=Je,m=p.child,p.tag){case 0:case 11:case 14:case 15:qh(4,p,p.return);break;case 1:pd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Un(r,t,g)}}break;case 5:pd(p,p.return);break;case 22:if(p.memoizedState!==null){lA(h);continue}}m!==null?(m.return=p,Je=m):lA(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SI("display",o))}catch(g){Un(n,n.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Un(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ps(e,n),so(n),r&4&&oA(n);break;case 21:break;default:Ps(e,n),so(n)}}function so(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Y4(t)){var r=t;break e}t=t.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wp(i,""),r.flags&=-33);var s=sA(n);JS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sA(n);ZS(n,a,o);break;default:throw Error(Oe(161))}}catch(l){Un(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function xU(n,e,t){Je=n,J4(n)}function J4(n,e,t){for(var r=(n.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Qg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wr;a=Qg;var c=Wr;if(Qg=o,(Wr=l)&&!c)for(Je=i;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?cA(i):l!==null?(l.return=o,Je=l):cA(i);for(;s!==null;)Je=s,J4(s),s=s.sibling;Je=i,Qg=a,Wr=c}aA(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):aA(n)}}function aA(n){for(;Je!==null;){var e=Je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||ix(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ns(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}W3(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Cp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Wr||e.flags&512&&KS(e)}catch(p){Un(e,e.return,p)}}if(e===n){Je=null;break}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}}function lA(n){for(;Je!==null;){var e=Je;if(e===n){Je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Je=t;break}Je=e.return}}function cA(n){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ix(4,e)}catch(l){Un(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Un(e,i,l)}}var s=e.return;try{KS(e)}catch(l){Un(e,s,l)}break;case 5:var o=e.return;try{KS(e)}catch(l){Un(e,o,l)}}}catch(l){Un(e,e.return,l)}if(e===n){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var _U=Math.ceil,ry=ba.ReactCurrentDispatcher,T2=ba.ReactCurrentOwner,xs=ba.ReactCurrentBatchConfig,Wt=0,yr=null,er=null,Rr=0,Bi=0,md=Ll(0),or=0,Fp=null,Jc=0,sx=0,E2=0,Yh=null,mi=null,C2=0,qd=1/0,Yo=null,iy=!1,QS=null,pl=null,e0=!1,sl=null,sy=0,Kh=0,ew=null,mv=-1,gv=0;function ii(){return Wt&6?$n():mv!==-1?mv:mv=$n()}function ml(n){return n.mode&1?Wt&2&&Rr!==0?Rr&-Rr:rU.transition!==null?(gv===0&&(gv=OI()),gv):(n=fn,n!==0||(n=window.event,n=n===void 0?16:HI(n.type)),n):1}function Gs(n,e,t,r){if(50<Kh)throw Kh=0,ew=null,Error(Oe(185));hm(n,t,r),(!(Wt&2)||n!==yr)&&(n===yr&&(!(Wt&2)&&(sx|=t),or===4&&nl(n,Rr)),bi(n,r),t===1&&Wt===0&&!(e.mode&1)&&(qd=$n()+500,tx&&Il()))}function bi(n,e){var t=n.callbackNode;r8(n,e);var r=Hv(n,n===yr?Rr:0);if(r===0)t!==null&&y3(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&y3(t),e===1)n.tag===0?nU(uA.bind(null,n)):a4(uA.bind(null,n)),J8(function(){!(Wt&6)&&Il()}),t=null;else{switch(NI(r)){case 1:t=QM;break;case 4:t=II;break;case 16:t=Vv;break;case 536870912:t=DI;break;default:t=Vv}t=oD(t,Q4.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Q4(n,e){if(mv=-1,gv=0,Wt&6)throw Error(Oe(327));var t=n.callbackNode;if(Rd()&&n.callbackNode!==t)return null;var r=Hv(n,n===yr?Rr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=oy(n,r);else{e=r;var i=Wt;Wt|=2;var s=tD();(yr!==n||Rr!==e)&&(Yo=null,qd=$n()+500,zc(n,e));do try{wU();break}catch(a){eD(n,a)}while(1);f2(),ry.current=s,Wt=i,er!==null?e=0:(yr=null,Rr=0,e=or)}if(e!==0){if(e===2&&(i=CS(n),i!==0&&(r=i,e=tw(n,i))),e===1)throw t=Fp,zc(n,0),nl(n,r),bi(n,$n()),t;if(e===6)nl(n,r);else{if(i=n.current.alternate,!(r&30)&&!bU(i)&&(e=oy(n,r),e===2&&(s=CS(n),s!==0&&(r=s,e=tw(n,s))),e===1))throw t=Fp,zc(n,0),nl(n,r),bi(n,$n()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:hc(n,mi,Yo);break;case 3:if(nl(n,r),(r&130023424)===r&&(e=C2+500-$n(),10<e)){if(Hv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ii(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=OS(hc.bind(null,n,mi,Yo),e);break}hc(n,mi,Yo);break;case 4:if(nl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ws(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$n()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_U(r/1960))-r,10<r){n.timeoutHandle=OS(hc.bind(null,n,mi,Yo),r);break}hc(n,mi,Yo);break;case 5:hc(n,mi,Yo);break;default:throw Error(Oe(329))}}}return bi(n,$n()),n.callbackNode===t?Q4.bind(null,n):null}function tw(n,e){var t=Yh;return n.current.memoizedState.isDehydrated&&(zc(n,e).flags|=256),n=oy(n,e),n!==2&&(e=mi,mi=t,e!==null&&nw(e)),n}function nw(n){mi===null?mi=n:mi.push.apply(mi,n)}function bU(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!qs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nl(n,e){for(e&=~E2,e&=~sx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ws(e),r=1<<t;n[t]=-1,e&=~r}}function uA(n){if(Wt&6)throw Error(Oe(327));Rd();var e=Hv(n,0);if(!(e&1))return bi(n,$n()),null;var t=oy(n,e);if(n.tag!==0&&t===2){var r=CS(n);r!==0&&(e=r,t=tw(n,r))}if(t===1)throw t=Fp,zc(n,0),nl(n,e),bi(n,$n()),t;if(t===6)throw Error(Oe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,hc(n,mi,Yo),bi(n,$n()),null}function A2(n,e){var t=Wt;Wt|=1;try{return n(e)}finally{Wt=t,Wt===0&&(qd=$n()+500,tx&&Il())}}function Qc(n){sl!==null&&sl.tag===0&&!(Wt&6)&&Rd();var e=Wt;Wt|=1;var t=xs.transition,r=fn;try{if(xs.transition=null,fn=1,n)return n()}finally{fn=r,xs.transition=t,Wt=e,!(Wt&6)&&Il()}}function P2(){Bi=md.current,Tn(md)}function zc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Z8(t)),er!==null)for(t=er.return;t!==null;){var r=t;switch(c2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xv();break;case 3:$d(),Tn(xi),Tn(Xr),y2();break;case 5:v2(r);break;case 4:$d();break;case 13:Tn(In);break;case 19:Tn(In);break;case 10:h2(r.type._context);break;case 22:case 23:P2()}t=t.return}if(yr=n,er=n=gl(n.current,null),Rr=Bi=e,or=0,Fp=null,E2=sx=Jc=0,mi=Yh=null,Cc!==null){for(e=0;e<Cc.length;e++)if(t=Cc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Cc=null}return n}function eD(n,e){do{var t=er;try{if(f2(),fv.current=ny,ty){for(var r=Nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ty=!1}if(Zc=0,mr=sr=Nn=null,Xh=!1,Op=0,T2.current=null,t===null||t.return===null){or=1,Fp=e,er=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Z3(o);if(m!==null){m.flags&=-257,J3(m,o,a,s,e),m.mode&1&&K3(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){K3(s,c,e),R2();break e}l=Error(Oe(426))}}else if(Pn&&a.mode&1){var x=Z3(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),J3(x,o,a,s,e),u2(Xd(l,a));break e}}s=l=Xd(l,a),or!==4&&(or=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=z4(s,l,e);j3(s,_);break e;case 1:a=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(pl===null||!pl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=F4(s,a,e);j3(s,M);break e}}s=s.return}while(s!==null)}rD(t)}catch(E){e=E,er===t&&t!==null&&(er=t=t.return);continue}break}while(1)}function tD(){var n=ry.current;return ry.current=ny,n===null?ny:n}function R2(){(or===0||or===3||or===2)&&(or=4),yr===null||!(Jc&268435455)&&!(sx&268435455)||nl(yr,Rr)}function oy(n,e){var t=Wt;Wt|=2;var r=tD();(yr!==n||Rr!==e)&&(Yo=null,zc(n,e));do try{SU();break}catch(i){eD(n,i)}while(1);if(f2(),Wt=t,ry.current=r,er!==null)throw Error(Oe(261));return yr=null,Rr=0,or}function SU(){for(;er!==null;)nD(er)}function wU(){for(;er!==null&&!qB();)nD(er)}function nD(n){var e=sD(n.alternate,n,Bi);n.memoizedProps=n.pendingProps,e===null?rD(n):er=e,T2.current=null}function rD(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=gU(t,e),t!==null){t.flags&=32767,er=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{or=6,er=null;return}}else if(t=mU(t,e,Bi),t!==null){er=t;return}if(e=e.sibling,e!==null){er=e;return}er=e=n}while(e!==null);or===0&&(or=5)}function hc(n,e,t){var r=fn,i=xs.transition;try{xs.transition=null,fn=1,MU(n,e,t,r)}finally{xs.transition=i,fn=r}return null}function MU(n,e,t,r){do Rd();while(sl!==null);if(Wt&6)throw Error(Oe(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Oe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(i8(n,s),n===yr&&(er=yr=null,Rr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||e0||(e0=!0,oD(Vv,function(){return Rd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=xs.transition,xs.transition=null;var o=fn;fn=1;var a=Wt;Wt|=4,T2.current=null,yU(n,t),Z4(t,n),W8(IS),jv=!!LS,IS=LS=null,n.current=t,xU(t),YB(),Wt=a,fn=o,xs.transition=s}else n.current=t;if(e0&&(e0=!1,sl=n,sy=i),s=n.pendingLanes,s===0&&(pl=null),JB(t.stateNode),bi(n,$n()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(iy)throw iy=!1,n=QS,QS=null,n;return sy&1&&n.tag!==0&&Rd(),s=n.pendingLanes,s&1?n===ew?Kh++:(Kh=0,ew=n):Kh=0,Il(),null}function Rd(){if(sl!==null){var n=NI(sy),e=xs.transition,t=fn;try{if(xs.transition=null,fn=16>n?16:n,sl===null)var r=!1;else{if(n=sl,sl=null,sy=0,Wt&6)throw Error(Oe(331));var i=Wt;for(Wt|=4,Je=n.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Je=c;Je!==null;){var u=Je;switch(u.tag){case 0:case 11:case 15:qh(8,u,s)}var h=u.child;if(h!==null)h.return=u,Je=h;else for(;Je!==null;){u=Je;var p=u.sibling,m=u.return;if(q4(u),u===c){Je=null;break}if(p!==null){p.return=m,Je=p;break}Je=m}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Je=_;break e}Je=s.return}}var b=n.current;for(Je=b;Je!==null;){o=Je;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Je=S;else e:for(o=b;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ix(9,a)}}catch(E){Un(a,a.return,E)}if(a===o){Je=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Je=M;break e}Je=a.return}}if(Wt=i,Il(),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(Ky,n)}catch{}r=!0}return r}finally{fn=t,xs.transition=e}}return!1}function dA(n,e,t){e=Xd(t,e),e=z4(n,e,1),n=hl(n,e,1),e=ii(),n!==null&&(hm(n,1,e),bi(n,e))}function Un(n,e,t){if(n.tag===3)dA(n,n,t);else for(;e!==null;){if(e.tag===3){dA(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pl===null||!pl.has(r))){n=Xd(t,n),n=F4(e,n,1),e=hl(e,n,1),n=ii(),e!==null&&(hm(e,1,n),bi(e,n));break}}e=e.return}}function TU(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ii(),n.pingedLanes|=n.suspendedLanes&t,yr===n&&(Rr&t)===t&&(or===4||or===3&&(Rr&130023424)===Rr&&500>$n()-C2?zc(n,0):E2|=t),bi(n,e)}function iD(n,e){e===0&&(n.mode&1?(e=Wg,Wg<<=1,!(Wg&130023424)&&(Wg=4194304)):e=1);var t=ii();n=ma(n,e),n!==null&&(hm(n,e,t),bi(n,t))}function EU(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),iD(n,t)}function CU(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),iD(n,t)}var sD;sD=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||xi.current)vi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return vi=!1,pU(n,e,t);vi=!!(n.flags&131072)}else vi=!1,Pn&&e.flags&1048576&&l4(e,Kv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pv(n,e),n=e.pendingProps;var i=jd(e,Xr.current);Pd(e,t),i=_2(null,e,r,n,i,t);var s=b2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_i(r)?(s=!0,qv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,m2(e),i.updater=nx,e.stateNode=i,i._reactInternals=e,HS(e,r,n,t),e=GS(null,e,r,!0,s,t)):(e.tag=0,Pn&&s&&l2(e),ti(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(pv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PU(r),n=Ns(r,n),i){case 0:e=WS(null,e,r,n,t);break e;case 1:e=tA(null,e,r,n,t);break e;case 11:e=Q3(null,e,r,n,t);break e;case 14:e=eA(null,e,r,Ns(r.type,n),t);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),WS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),tA(n,e,r,i,t);case 3:e:{if(H4(e),n===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,f4(n,e),Qv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xd(Error(Oe(423)),e),e=nA(n,e,r,t,i);break e}else if(r!==i){i=Xd(Error(Oe(424)),e),e=nA(n,e,r,t,i);break e}else for(Vi=fl(e.stateNode.containerInfo.firstChild),Wi=e,Pn=!0,Us=null,t=g4(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Wd(),r===i){e=ga(n,e,t);break e}ti(n,e,r,t)}e=e.child}return e;case 5:return v4(e),n===null&&BS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,DS(r,i)?o=null:s!==null&&DS(r,s)&&(e.flags|=32),V4(n,e),ti(n,e,o,t),e.child;case 6:return n===null&&BS(e),null;case 13:return j4(n,e,t);case 4:return g2(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Gd(e,null,r,t):ti(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),Q3(n,e,r,i,t);case 7:return ti(n,e,e.pendingProps,t),e.child;case 8:return ti(n,e,e.pendingProps.children,t),e.child;case 12:return ti(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,bn(Zv,r._currentValue),r._currentValue=o,s!==null)if(qs(s.value,o)){if(s.children===i.children&&!xi.current){e=ga(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=la(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),US(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),US(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ti(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pd(e,t),i=_s(i),r=r(i),e.flags|=1,ti(n,e,r,t),e.child;case 14:return r=e.type,i=Ns(r,e.pendingProps),i=Ns(r.type,i),eA(n,e,r,i,t);case 15:return B4(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),pv(n,e),e.tag=1,_i(r)?(n=!0,qv(e)):n=!1,Pd(e,t),p4(e,r,i),HS(e,r,i,t),GS(null,e,r,!0,n,t);case 19:return W4(n,e,t);case 22:return U4(n,e,t)}throw Error(Oe(156,e.tag))};function oD(n,e){return LI(n,e)}function AU(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(n,e,t,r){return new AU(n,e,t,r)}function k2(n){return n=n.prototype,!(!n||!n.isReactComponent)}function PU(n){if(typeof n=="function")return k2(n)?1:0;if(n!=null){if(n=n.$$typeof,n===KM)return 11;if(n===ZM)return 14}return 2}function gl(n,e){var t=n.alternate;return t===null?(t=vs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")k2(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case sd:return Fc(t.children,i,s,e);case YM:o=8,i|=8;break;case fS:return n=vs(12,t,e,i|2),n.elementType=fS,n.lanes=s,n;case hS:return n=vs(13,t,e,i),n.elementType=hS,n.lanes=s,n;case pS:return n=vs(19,t,e,i),n.elementType=pS,n.lanes=s,n;case mI:return ox(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case hI:o=10;break e;case pI:o=9;break e;case KM:o=11;break e;case ZM:o=14;break e;case Ka:o=16,r=null;break e}throw Error(Oe(130,n==null?n:typeof n,""))}return e=vs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Fc(n,e,t,r){return n=vs(7,n,r,e),n.lanes=t,n}function ox(n,e,t,r){return n=vs(22,n,r,e),n.elementType=mI,n.lanes=t,n.stateNode={isHidden:!1},n}function A_(n,e,t){return n=vs(6,n,null,e),n.lanes=t,n}function P_(n,e,t){return e=vs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function RU(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c_(0),this.expirationTimes=c_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L2(n,e,t,r,i,s,o,a,l){return n=new RU(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},m2(s),n}function kU(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:id,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function aD(n){if(!n)return bl;n=n._reactInternals;e:{if(ou(n)!==n||n.tag!==1)throw Error(Oe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(n.tag===1){var t=n.type;if(_i(t))return o4(n,t,e)}return e}function lD(n,e,t,r,i,s,o,a,l){return n=L2(t,r,!0,n,i,s,o,a,l),n.context=aD(null),t=n.current,r=ii(),i=ml(t),s=la(r,i),s.callback=e??null,hl(t,s,i),n.current.lanes=i,hm(n,i,r),bi(n,r),n}function ax(n,e,t,r){var i=e.current,s=ii(),o=ml(i);return t=aD(t),e.context===null?e.context=t:e.pendingContext=t,e=la(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=hl(i,e,o),n!==null&&(Gs(n,i,o,s),dv(n,i,o)),o}function ay(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function fA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function I2(n,e){fA(n,e),(n=n.alternate)&&fA(n,e)}function LU(){return null}var cD=typeof reportError=="function"?reportError:function(n){console.error(n)};function D2(n){this._internalRoot=n}lx.prototype.render=D2.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Oe(409));ax(n,e,null,null)};lx.prototype.unmount=D2.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Qc(function(){ax(null,n,null,null)}),e[pa]=null}};function lx(n){this._internalRoot=n}lx.prototype.unstable_scheduleHydration=function(n){if(n){var e=BI();n={blockedOn:null,target:n,priority:e};for(var t=0;t<tl.length&&e!==0&&e<tl[t].priority;t++);tl.splice(t,0,n),t===0&&VI(n)}};function O2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function cx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function hA(){}function IU(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ay(o);s.call(c)}}var o=lD(e,r,n,0,null,!1,!1,"",hA);return n._reactRootContainer=o,n[pa]=o.current,Rp(n.nodeType===8?n.parentNode:n),Qc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ay(l);a.call(c)}}var l=L2(n,0,!1,null,null,!1,!1,"",hA);return n._reactRootContainer=l,n[pa]=l.current,Rp(n.nodeType===8?n.parentNode:n),Qc(function(){ax(e,l,t,r)}),l}function ux(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ay(o);a.call(l)}}ax(e,o,n,i)}else o=IU(t,e,n,i,r);return ay(o)}zI=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ih(e.pendingLanes);t!==0&&(e2(e,t|1),bi(e,$n()),!(Wt&6)&&(qd=$n()+500,Il()))}break;case 13:Qc(function(){var r=ma(n,1);if(r!==null){var i=ii();Gs(r,n,1,i)}}),I2(n,1)}};t2=function(n){if(n.tag===13){var e=ma(n,134217728);if(e!==null){var t=ii();Gs(e,n,134217728,t)}I2(n,134217728)}};FI=function(n){if(n.tag===13){var e=ml(n),t=ma(n,e);if(t!==null){var r=ii();Gs(t,n,e,r)}I2(n,e)}};BI=function(){return fn};UI=function(n,e){var t=fn;try{return fn=n,e()}finally{fn=t}};MS=function(n,e,t){switch(e){case"input":if(vS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ex(r);if(!i)throw Error(Oe(90));vI(r),vS(r,i)}}}break;case"textarea":xI(n,t);break;case"select":e=t.value,e!=null&&Td(n,!!t.multiple,e,!1)}};EI=A2;CI=Qc;var DU={usingClientEntryPoint:!1,Events:[mm,cd,ex,MI,TI,A2]},nh={findFiberByHostInstance:Ec,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},OU={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=RI(n),n===null?null:n.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||LU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{Ky=t0.inject(OU),_o=t0}catch{}}Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DU;Zi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O2(e))throw Error(Oe(200));return kU(n,e,null,t)};Zi.createRoot=function(n,e){if(!O2(n))throw Error(Oe(299));var t=!1,r="",i=cD;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L2(n,1,!1,null,null,t,!1,r,i),n[pa]=e.current,Rp(n.nodeType===8?n.parentNode:n),new D2(e)};Zi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Oe(188)):(n=Object.keys(n).join(","),Error(Oe(268,n)));return n=RI(e),n=n===null?null:n.stateNode,n};Zi.flushSync=function(n){return Qc(n)};Zi.hydrate=function(n,e,t){if(!cx(e))throw Error(Oe(200));return ux(null,n,e,!0,t)};Zi.hydrateRoot=function(n,e,t){if(!O2(n))throw Error(Oe(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=cD;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=lD(e,null,n,1,t??null,i,!1,s,o),n[pa]=e.current,Rp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new lx(e)};Zi.render=function(n,e,t){if(!cx(e))throw Error(Oe(200));return ux(null,n,e,!1,t)};Zi.unmountComponentAtNode=function(n){if(!cx(n))throw Error(Oe(40));return n._reactRootContainer?(Qc(function(){ux(null,null,n,!1,function(){n._reactRootContainer=null,n[pa]=null})}),!0):!1};Zi.unstable_batchedUpdates=A2;Zi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!cx(t))throw Error(Oe(200));if(n==null||n._reactInternals===void 0)throw Error(Oe(38));return ux(n,e,t,!1,r)};Zi.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Zi})(LB);var[uD,NU]=Rl({strict:!1,name:"PortalContext"}),N2="chakra-portal",zU=".chakra-portal",FU=n=>F.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:n.zIndex,top:0,left:0,right:0},children:n.children}),BU=n=>{const{appendToParentPortal:e,children:t}=n,[r,i]=L.useState(null),s=L.useRef(null),[,o]=L.useState({});L.useEffect(()=>o({}),[]);const a=NU(),l=kB();_p(()=>{if(!r)return;const u=r.ownerDocument,h=e?a??u.body:u.body;if(!h)return;s.current=u.createElement("div"),s.current.className=N2,h.appendChild(s.current),o({});const p=s.current;return()=>{h.contains(p)&&h.removeChild(p)}},[r]);const c=l!=null&&l.zIndex?F.jsx(FU,{zIndex:l==null?void 0:l.zIndex,children:t}):t;return s.current?bp.createPortal(F.jsx(uD,{value:s.current,children:c}),s.current):F.jsx("span",{ref:u=>{u&&i(u)}})},UU=n=>{const{children:e,containerRef:t,appendToParentPortal:r}=n,i=t.current,s=i??(typeof window<"u"?document.body:void 0),o=L.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=N2),l},[i]),[,a]=L.useState({});return _p(()=>a({}),[]),_p(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?bp.createPortal(F.jsx(uD,{value:r?o:null,children:e}),o):null};function dx(n){const e={appendToParentPortal:!0,...n},{containerRef:t,...r}=e;return t?F.jsx(UU,{containerRef:t,...r}):F.jsx(BU,{...r})}dx.className=N2;dx.selector=zU;dx.displayName="Portal";function dD(){const n=L.useContext(xp);if(!n)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return n}var z2=L.createContext({});z2.displayName="ColorModeContext";function cr(){const n=L.useContext(z2);if(n===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return n}function Yd(n,e){const{colorMode:t}=cr();return t==="dark"?e:n}var n0={light:"chakra-ui-light",dark:"chakra-ui-dark"};function VU(n={}){const{preventTransition:e=!0}=n,t={setDataset:r=>{const i=e?t.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?n0.dark:n0.light),document.body.classList.remove(r?n0.light:n0.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=t.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=t.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return t}var HU="chakra-ui-color-mode";function jU(n){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let t;try{t=localStorage.getItem(n)||e}catch{}return t||e},set(e){try{localStorage.setItem(n,e)}catch{}}}}var WU=jU(HU),pA=()=>{};function mA(n,e){return n.type==="cookie"&&n.ssr?n.get(e):e}function fD(n){const{value:e,children:t,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=WU}=n,a=i==="dark"?"dark":"light",[l,c]=L.useState(()=>mA(o,a)),[u,h]=L.useState(()=>mA(o)),{getSystemTheme:p,setClassName:m,setDataset:v,addListener:g}=L.useMemo(()=>VU({preventTransition:s}),[s]),x=i==="system"&&!l?u:l,_=L.useCallback(M=>{const E=M==="system"?p():M;c(E),m(E==="dark"),v(E),o.set(E)},[o,p,m,v]);_p(()=>{i==="system"&&h(p())},[]),L.useEffect(()=>{const M=o.get();if(M){_(M);return}if(i==="system"){_("system");return}_(a)},[o,a,i,_]);const b=L.useCallback(()=>{_(x==="dark"?"light":"dark")},[x,_]);L.useEffect(()=>{if(r)return g(_)},[r,g,_]);const S=L.useMemo(()=>({colorMode:e??x,toggleColorMode:e?pA:b,setColorMode:e?pA:_,forced:e!==void 0}),[x,b,_,e]);return F.jsx(z2.Provider,{value:S,children:t})}fD.displayName="ColorModeProvider";function hD(){const n=cr(),e=dD();return{...n,theme:e}}function GU(n,e,t){var r,i;if(e==null)return e;const s=o=>{var a,l;return(l=(a=n.__breakpoints)==null?void 0:a.asArray)==null?void 0:l[o]};return(i=(r=s(e))!=null?r:s(t))!=null?i:t}function $U(n,e,t){var r,i;if(e==null)return e;const s=o=>{var a,l;return(l=(a=n.__cssMap)==null?void 0:a[o])==null?void 0:l.value};return(i=(r=s(e))!=null?r:s(t))!=null?i:t}function XU(n,e,t){const r=Array.isArray(e)?e:[e],i=Array.isArray(t)?t:[t];return s=>{const o=i.filter(Boolean),a=r.map((l,c)=>{var u,h;if(n==="breakpoints")return GU(s,l,(u=o[c])!=null?u:l);const p=`${n}.${l}`;return $U(s,p,(h=o[c])!=null?h:l)});return Array.isArray(e)?a:a[0]}}var Ei=(...n)=>n.filter(Boolean).join(" ");function Si(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!Array.isArray(n)}function vo(n,...e){return qU(n)?n(...e):n}var qU=n=>typeof n=="function",rw=n=>n?"":void 0;function YU(...n){return function(t){n.some(r=>(r==null||r(t),t==null?void 0:t.defaultPrevented))}}var ly={},KU={get exports(){return ly},set exports(n){ly=n}};(function(n,e){var t=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Function]",v="[object GeneratorFunction]",g="[object Map]",x="[object Number]",_="[object Null]",b="[object Object]",S="[object Proxy]",M="[object RegExp]",E="[object Set]",P="[object String]",R="[object Undefined]",C="[object WeakMap]",k="[object ArrayBuffer]",D="[object DataView]",$="[object Float32Array]",le="[object Float64Array]",Y="[object Int8Array]",I="[object Int16Array]",H="[object Int32Array]",K="[object Uint8Array]",oe="[object Uint8ClampedArray]",N="[object Uint16Array]",X="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,se={};se[$]=se[le]=se[Y]=se[I]=se[H]=se[K]=se[oe]=se[N]=se[X]=!0,se[a]=se[l]=se[k]=se[u]=se[D]=se[h]=se[p]=se[m]=se[g]=se[x]=se[b]=se[M]=se[E]=se[P]=se[C]=!1;var Re=typeof Rh=="object"&&Rh&&Rh.Object===Object&&Rh,ke=typeof self=="object"&&self&&self.Object===Object&&self,ce=Re||ke||Function("return this")(),Be=e&&!e.nodeType&&e,Ue=Be&&!0&&n&&!n.nodeType&&n,$e=Ue&&Ue.exports===Be,Le=$e&&Re.process,Fe=function(){try{var B=Ue&&Ue.require&&Ue.require("util").types;return B||Le&&Le.binding&&Le.binding("util")}catch{}}(),_e=Fe&&Fe.isTypedArray;function ve(B,ee,me){switch(me.length){case 0:return B.call(ee);case 1:return B.call(ee,me[0]);case 2:return B.call(ee,me[0],me[1]);case 3:return B.call(ee,me[0],me[1],me[2])}return B.apply(ee,me)}function De(B,ee){for(var me=-1,Ke=Array(B);++me<B;)Ke[me]=ee(me);return Ke}function Ye(B){return function(ee){return B(ee)}}function ze(B,ee){return B==null?void 0:B[ee]}function tt(B,ee){return function(me){return B(ee(me))}}var Qe=Array.prototype,Ze=Function.prototype,ht=Object.prototype,bt=ce["__core-js_shared__"],W=Ze.toString,O=ht.hasOwnProperty,V=function(){var B=/[^.]+$/.exec(bt&&bt.keys&&bt.keys.IE_PROTO||"");return B?"Symbol(src)_1."+B:""}(),q=ht.toString,re=W.call(Object),ge=RegExp("^"+W.call(O).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=$e?ce.Buffer:void 0,Me=ce.Symbol,ae=ce.Uint8Array,Ie=Te?Te.allocUnsafe:void 0,G=tt(Object.getPrototypeOf,Object),fe=Object.create,be=ht.propertyIsEnumerable,Pe=Qe.splice,Xe=Me?Me.toStringTag:void 0,st=function(){try{var B=mu(Object,"defineProperty");return B({},"",{}),B}catch{}}(),Ut=Te?Te.isBuffer:void 0,Q=Math.max,ye=Date.now,Ae=mu(ce,"Map"),Ve=mu(Object,"create"),je=function(){function B(){}return function(ee){if(!Es(ee))return{};if(fe)return fe(ee);B.prototype=ee;var me=new B;return B.prototype=void 0,me}}();function lt(B){var ee=-1,me=B==null?0:B.length;for(this.clear();++ee<me;){var Ke=B[ee];this.set(Ke[0],Ke[1])}}function Kt(){this.__data__=Ve?Ve(null):{},this.size=0}function Sn(B){var ee=this.has(B)&&delete this.__data__[B];return this.size-=ee?1:0,ee}function Lr(B){var ee=this.__data__;if(Ve){var me=ee[B];return me===r?void 0:me}return O.call(ee,B)?ee[B]:void 0}function Zt(B){var ee=this.__data__;return Ve?ee[B]!==void 0:O.call(ee,B)}function Ir(B,ee){var me=this.__data__;return this.size+=this.has(B)?0:1,me[B]=Ve&&ee===void 0?r:ee,this}lt.prototype.clear=Kt,lt.prototype.delete=Sn,lt.prototype.get=Lr,lt.prototype.has=Zt,lt.prototype.set=Ir;function zt(B){var ee=-1,me=B==null?0:B.length;for(this.clear();++ee<me;){var Ke=B[ee];this.set(Ke[0],Ke[1])}}function eo(){this.__data__=[],this.size=0}function Ta(B){var ee=this.__data__,me=an(ee,B);if(me<0)return!1;var Ke=ee.length-1;return me==Ke?ee.pop():Pe.call(ee,me,1),--this.size,!0}function Ea(B){var ee=this.__data__,me=an(ee,B);return me<0?void 0:ee[me][1]}function Ul(B){return an(this.__data__,B)>-1}function U(B,ee){var me=this.__data__,Ke=an(me,B);return Ke<0?(++this.size,me.push([B,ee])):me[Ke][1]=ee,this}zt.prototype.clear=eo,zt.prototype.delete=Ta,zt.prototype.get=Ea,zt.prototype.has=Ul,zt.prototype.set=U;function de(B){var ee=-1,me=B==null?0:B.length;for(this.clear();++ee<me;){var Ke=B[ee];this.set(Ke[0],Ke[1])}}function we(){this.size=0,this.__data__={hash:new lt,map:new(Ae||zt),string:new lt}}function ue(B){var ee=Io(this,B).delete(B);return this.size-=ee?1:0,ee}function Ee(B){return Io(this,B).get(B)}function ot(B){return Io(this,B).has(B)}function dt(B,ee){var me=Io(this,B),Ke=me.size;return me.set(B,ee),this.size+=me.size==Ke?0:1,this}de.prototype.clear=we,de.prototype.delete=ue,de.prototype.get=Ee,de.prototype.has=ot,de.prototype.set=dt;function ft(B){var ee=this.__data__=new zt(B);this.size=ee.size}function St(){this.__data__=new zt,this.size=0}function Rt(B){var ee=this.__data__,me=ee.delete(B);return this.size=ee.size,me}function At(B){return this.__data__.get(B)}function Pt(B){return this.__data__.has(B)}function Cn(B,ee){var me=this.__data__;if(me instanceof zt){var Ke=me.__data__;if(!Ae||Ke.length<t-1)return Ke.push([B,ee]),this.size=++me.size,this;me=this.__data__=new de(Ke)}return me.set(B,ee),this.size=me.size,this}ft.prototype.clear=St,ft.prototype.delete=Rt,ft.prototype.get=At,ft.prototype.has=Pt,ft.prototype.set=Cn;function Sr(B,ee){var me=xu(B),Ke=!me&&It(B),mt=!me&&!Ke&&Jm(B),ln=!me&&!Ke&&!mt&&Qm(B),cn=me||Ke||mt||ln,kt=cn?De(B.length,String):[],Dt=kt.length;for(var wr in B)(ee||O.call(B,wr))&&!(cn&&(wr=="length"||mt&&(wr=="offset"||wr=="parent")||ln&&(wr=="buffer"||wr=="byteLength"||wr=="byteOffset")||Km(wr,Dt)))&&kt.push(wr);return kt}function Yr(B,ee,me){(me!==void 0&&!Pa(B[ee],me)||me===void 0&&!(ee in B))&&gt(B,ee,me)}function ws(B,ee,me){var Ke=B[ee];(!(O.call(B,ee)&&Pa(Ke,me))||me===void 0&&!(ee in B))&&gt(B,ee,me)}function an(B,ee){for(var me=B.length;me--;)if(Pa(B[me][0],ee))return me;return-1}function gt(B,ee,me){ee=="__proto__"&&st?st(B,ee,{configurable:!0,enumerable:!0,value:me,writable:!0}):B[ee]=me}var Lo=Ym();function pn(B){return B==null?B===void 0?R:_:Xe&&Xe in Object(B)?Pi(B):r1(B)}function Qi(B){return Wl(B)&&pn(B)==a}function Ca(B){if(!Es(B)||vu(B))return!1;var ee=Af(B)?ge:he;return ee.test(s1(B))}function li(B){return Wl(B)&&jn(B.length)&&!!se[pn(B)]}function ci(B){if(!Es(B))return yu(B);var ee=Aa(B),me=[];for(var Ke in B)Ke=="constructor"&&(ee||!O.call(B,Ke))||me.push(Ke);return me}function vt(B,ee,me,Ke,mt){B!==ee&&Lo(ee,function(ln,cn){if(mt||(mt=new ft),Es(ln))Lt(B,ee,cn,me,vt,Ke,mt);else{var kt=Ke?Ke(Vl(B,cn),ln,cn+"",B,ee,mt):void 0;kt===void 0&&(kt=ln),Yr(B,cn,kt)}},Ri)}function Lt(B,ee,me,Ke,mt,ln,cn){var kt=Vl(B,me),Dt=Vl(ee,me),wr=cn.get(Dt);if(wr){Yr(B,me,wr);return}var dr=ln?ln(kt,Dt,me+"",B,ee,cn):void 0,es=dr===void 0;if(es){var Gl=xu(Dt),$l=!Gl&&Jm(Dt),Rf=!Gl&&!$l&&Qm(Dt);dr=Dt,Gl||$l||Rf?xu(kt)?dr=kt:Zm(kt)?dr=Dr(kt):$l?(es=!1,dr=qn(Dt,!0)):Rf?(es=!1,dr=Ts(Dt,!0)):dr=[]:Pf(Dt)||It(Dt)?(dr=kt,It(kt)?dr=_u(kt):(!Es(kt)||Af(kt))&&(dr=t1(Dt))):es=!1}es&&(cn.set(Dt,dr),mt(dr,Dt,Ke,ln,cn),cn.delete(Dt)),Yr(B,me,dr)}function ui(B,ee){return Cf(i1(B,ee,ki),B+"")}var Gt=st?function(B,ee){return st(B,"toString",{configurable:!0,enumerable:!1,value:a1(ee),writable:!0})}:ki;function qn(B,ee){if(ee)return B.slice();var me=B.length,Ke=Ie?Ie(me):new B.constructor(me);return B.copy(Ke),Ke}function Ms(B){var ee=new B.constructor(B.byteLength);return new ae(ee).set(new ae(B)),ee}function Ts(B,ee){var me=ee?Ms(B.buffer):B.buffer;return new B.constructor(me,B.byteOffset,B.length)}function Dr(B,ee){var me=-1,Ke=B.length;for(ee||(ee=Array(Ke));++me<Ke;)ee[me]=B[me];return ee}function pu(B,ee,me,Ke){var mt=!me;me||(me={});for(var ln=-1,cn=ee.length;++ln<cn;){var kt=ee[ln],Dt=Ke?Ke(me[kt],B[kt],kt,me,B):void 0;Dt===void 0&&(Dt=B[kt]),mt?gt(me,kt,Dt):ws(me,kt,Dt)}return me}function qm(B){return ui(function(ee,me){var Ke=-1,mt=me.length,ln=mt>1?me[mt-1]:void 0,cn=mt>2?me[2]:void 0;for(ln=B.length>3&&typeof ln=="function"?(mt--,ln):void 0,cn&&n1(me[0],me[1],cn)&&(ln=mt<3?void 0:ln,mt=1),ee=Object(ee);++Ke<mt;){var kt=me[Ke];kt&&B(ee,kt,Ke,ln)}return ee})}function Ym(B){return function(ee,me,Ke){for(var mt=-1,ln=Object(ee),cn=Ke(ee),kt=cn.length;kt--;){var Dt=cn[B?kt:++mt];if(me(ln[Dt],Dt,ln)===!1)break}return ee}}function Io(B,ee){var me=B.__data__;return gu(ee)?me[typeof ee=="string"?"string":"hash"]:me.map}function mu(B,ee){var me=ze(B,ee);return Ca(me)?me:void 0}function Pi(B){var ee=O.call(B,Xe),me=B[Xe];try{B[Xe]=void 0;var Ke=!0}catch{}var mt=q.call(B);return Ke&&(ee?B[Xe]=me:delete B[Xe]),mt}function t1(B){return typeof B.constructor=="function"&&!Aa(B)?je(G(B)):{}}function Km(B,ee){var me=typeof B;return ee=ee??o,!!ee&&(me=="number"||me!="symbol"&&Z.test(B))&&B>-1&&B%1==0&&B<ee}function n1(B,ee,me){if(!Es(me))return!1;var Ke=typeof ee;return(Ke=="number"?jl(me)&&Km(ee,me.length):Ke=="string"&&ee in me)?Pa(me[ee],B):!1}function gu(B){var ee=typeof B;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?B!=="__proto__":B===null}function vu(B){return!!V&&V in B}function Aa(B){var ee=B&&B.constructor,me=typeof ee=="function"&&ee.prototype||ht;return B===me}function yu(B){var ee=[];if(B!=null)for(var me in Object(B))ee.push(me);return ee}function r1(B){return q.call(B)}function i1(B,ee,me){return ee=Q(ee===void 0?B.length-1:ee,0),function(){for(var Ke=arguments,mt=-1,ln=Q(Ke.length-ee,0),cn=Array(ln);++mt<ln;)cn[mt]=Ke[ee+mt];mt=-1;for(var kt=Array(ee+1);++mt<ee;)kt[mt]=Ke[mt];return kt[ee]=me(cn),ve(B,this,kt)}}function Vl(B,ee){if(!(ee==="constructor"&&typeof B[ee]=="function")&&ee!="__proto__")return B[ee]}var Cf=Hl(Gt);function Hl(B){var ee=0,me=0;return function(){var Ke=ye(),mt=s-(Ke-me);if(me=Ke,mt>0){if(++ee>=i)return arguments[0]}else ee=0;return B.apply(void 0,arguments)}}function s1(B){if(B!=null){try{return W.call(B)}catch{}try{return B+""}catch{}}return""}function Pa(B,ee){return B===ee||B!==B&&ee!==ee}var It=Qi(function(){return arguments}())?Qi:function(B){return Wl(B)&&O.call(B,"callee")&&!be.call(B,"callee")},xu=Array.isArray;function jl(B){return B!=null&&jn(B.length)&&!Af(B)}function Zm(B){return Wl(B)&&jl(B)}var Jm=Ut||Cs;function Af(B){if(!Es(B))return!1;var ee=pn(B);return ee==m||ee==v||ee==c||ee==S}function jn(B){return typeof B=="number"&&B>-1&&B%1==0&&B<=o}function Es(B){var ee=typeof B;return B!=null&&(ee=="object"||ee=="function")}function Wl(B){return B!=null&&typeof B=="object"}function Pf(B){if(!Wl(B)||pn(B)!=b)return!1;var ee=G(B);if(ee===null)return!0;var me=O.call(ee,"constructor")&&ee.constructor;return typeof me=="function"&&me instanceof me&&W.call(me)==re}var Qm=_e?Ye(_e):li;function _u(B){return pu(B,Ri(B))}function Ri(B){return jl(B)?Sr(B,!0):ci(B)}var o1=qm(function(B,ee,me,Ke){vt(B,ee,me,Ke)});function a1(B){return function(){return B}}function ki(B){return B}function Cs(){return!1}n.exports=o1})(KU,ly);const ys=ly;var ZU=n=>/!(important)?$/.test(n),gA=n=>typeof n=="string"?n.replace(/!(important)?$/,"").trim():n,JU=(n,e)=>t=>{const r=String(e),i=ZU(r),s=gA(r),o=n?`${n}.${s}`:s;let a=Si(t.__cssMap)&&o in t.__cssMap?t.__cssMap[o].varRef:e;return a=gA(a),i?`${a} !important`:a};function Bp(n){const{scale:e,transform:t,compose:r}=n;return(s,o)=>{var a;const l=JU(e,s)(o);let c=(a=t==null?void 0:t(l,o))!=null?a:l;return r&&(c=r(c,o)),c}}var r0=(...n)=>e=>n.reduce((t,r)=>r(t),e);function Rs(n,e){return t=>{const r={property:t,scale:n};return r.transform=Bp({scale:n,transform:e}),r}}var QU=({rtl:n,ltr:e})=>t=>t.direction==="rtl"?n:e;function eV(n){const{property:e,scale:t,transform:r}=n;return{scale:t,property:QU(e),transform:t?Bp({scale:t,compose:r}):r}}var pD=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function tV(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...pD].join(" ")}function nV(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...pD].join(" ")}var rV={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},iV={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function sV(n){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":n,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var oV={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},mD="& > :not(style) ~ :not(style)",aV={[mD]:{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}},lV={[mD]:{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}},iw={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},cV=new Set(Object.values(iw)),gD=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),uV=n=>n.trim();function dV(n,e){var t,r;if(n==null||gD.has(n))return n;const i=/(?<type>^[a-z-A-Z]+)\((?<values>(.*))\)/g,{type:s,values:o}=(r=(t=i.exec(n))==null?void 0:t.groups)!=null?r:{};if(!s||!o)return n;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...c]=o.split(",").map(uV).filter(Boolean);if((c==null?void 0:c.length)===0)return n;const u=l in iw?iw[l]:l;c.unshift(u);const h=c.map(p=>{if(cV.has(p))return p;const m=p.indexOf(" "),[v,g]=m!==-1?[p.substr(0,m),p.substr(m+1)]:[p],x=vD(g)?g:g&&g.split(" "),_=`colors.${v}`,b=_ in e.__cssMap?e.__cssMap[_].varRef:v;return x?[b,...Array.isArray(x)?x:[x]].join(" "):b});return`${a}(${h.join(", ")})`}var vD=n=>typeof n=="string"&&n.includes("(")&&n.includes(")"),fV=(n,e)=>dV(n,e??{});function hV(n){return/^var\(--.+\)$/.test(n)}var pV=n=>{const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}},oo=n=>e=>`${n}(${e})`,Ht={filter(n){return n!=="auto"?n:rV},backdropFilter(n){return n!=="auto"?n:iV},ring(n){return sV(Ht.px(n))},bgClip(n){return n==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:n}},transform(n){return n==="auto"?tV():n==="auto-gpu"?nV():n},vh(n){return n==="$100vh"?"var(--chakra-vh)":n},px(n){if(n==null)return n;const{unitless:e}=pV(n);return e||typeof n=="number"?`${n}px`:n},fraction(n){return typeof n!="number"||n>1?n:`${n*100}%`},float(n,e){const t={left:"right",right:"left"};return e.direction==="rtl"?t[n]:n},degree(n){if(hV(n)||n==null)return n;const e=typeof n=="string"&&!n.endsWith("deg");return typeof n=="number"||e?`${n}deg`:n},gradient:fV,blur:oo("blur"),opacity:oo("opacity"),brightness:oo("brightness"),contrast:oo("contrast"),dropShadow:oo("drop-shadow"),grayscale:oo("grayscale"),hueRotate:oo("hue-rotate"),invert:oo("invert"),saturate:oo("saturate"),sepia:oo("sepia"),bgImage(n){return n==null||vD(n)||gD.has(n)?n:`url(${n})`},outline(n){const e=String(n)==="0"||String(n)==="none";return n!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:n}},flexDirection(n){var e;const{space:t,divide:r}=(e=oV[n])!=null?e:{},i={flexDirection:n};return t&&(i[t]=1),r&&(i[r]=1),i}},ne={borderWidths:Rs("borderWidths"),borderStyles:Rs("borderStyles"),colors:Rs("colors"),borders:Rs("borders"),radii:Rs("radii",Ht.px),space:Rs("space",r0(Ht.vh,Ht.px)),spaceT:Rs("space",r0(Ht.vh,Ht.px)),degreeT(n){return{property:n,transform:Ht.degree}},prop(n,e,t){return{property:n,scale:e,...e&&{transform:Bp({scale:e,transform:t})}}},propT(n,e){return{property:n,transform:e}},sizes:Rs("sizes",r0(Ht.vh,Ht.px)),sizesT:Rs("sizes",r0(Ht.vh,Ht.fraction)),shadows:Rs("shadows"),logical:eV,blur:Rs("blur",Ht.blur)},yv={background:ne.colors("background"),backgroundColor:ne.colors("backgroundColor"),backgroundImage:ne.propT("backgroundImage",Ht.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Ht.bgClip},bgSize:ne.prop("backgroundSize"),bgPosition:ne.prop("backgroundPosition"),bg:ne.colors("background"),bgColor:ne.colors("backgroundColor"),bgPos:ne.prop("backgroundPosition"),bgRepeat:ne.prop("backgroundRepeat"),bgAttachment:ne.prop("backgroundAttachment"),bgGradient:ne.propT("backgroundImage",Ht.gradient),bgClip:{transform:Ht.bgClip}};Object.assign(yv,{bgImage:yv.backgroundImage,bgImg:yv.backgroundImage});var Jt={border:ne.borders("border"),borderWidth:ne.borderWidths("borderWidth"),borderStyle:ne.borderStyles("borderStyle"),borderColor:ne.colors("borderColor"),borderRadius:ne.radii("borderRadius"),borderTop:ne.borders("borderTop"),borderBlockStart:ne.borders("borderBlockStart"),borderTopLeftRadius:ne.radii("borderTopLeftRadius"),borderStartStartRadius:ne.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:ne.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:ne.radii("borderTopRightRadius"),borderStartEndRadius:ne.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:ne.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:ne.borders("borderRight"),borderInlineEnd:ne.borders("borderInlineEnd"),borderBottom:ne.borders("borderBottom"),borderBlockEnd:ne.borders("borderBlockEnd"),borderBottomLeftRadius:ne.radii("borderBottomLeftRadius"),borderBottomRightRadius:ne.radii("borderBottomRightRadius"),borderLeft:ne.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:ne.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:ne.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:ne.borders(["borderLeft","borderRight"]),borderInline:ne.borders("borderInline"),borderY:ne.borders(["borderTop","borderBottom"]),borderBlock:ne.borders("borderBlock"),borderTopWidth:ne.borderWidths("borderTopWidth"),borderBlockStartWidth:ne.borderWidths("borderBlockStartWidth"),borderTopColor:ne.colors("borderTopColor"),borderBlockStartColor:ne.colors("borderBlockStartColor"),borderTopStyle:ne.borderStyles("borderTopStyle"),borderBlockStartStyle:ne.borderStyles("borderBlockStartStyle"),borderBottomWidth:ne.borderWidths("borderBottomWidth"),borderBlockEndWidth:ne.borderWidths("borderBlockEndWidth"),borderBottomColor:ne.colors("borderBottomColor"),borderBlockEndColor:ne.colors("borderBlockEndColor"),borderBottomStyle:ne.borderStyles("borderBottomStyle"),borderBlockEndStyle:ne.borderStyles("borderBlockEndStyle"),borderLeftWidth:ne.borderWidths("borderLeftWidth"),borderInlineStartWidth:ne.borderWidths("borderInlineStartWidth"),borderLeftColor:ne.colors("borderLeftColor"),borderInlineStartColor:ne.colors("borderInlineStartColor"),borderLeftStyle:ne.borderStyles("borderLeftStyle"),borderInlineStartStyle:ne.borderStyles("borderInlineStartStyle"),borderRightWidth:ne.borderWidths("borderRightWidth"),borderInlineEndWidth:ne.borderWidths("borderInlineEndWidth"),borderRightColor:ne.colors("borderRightColor"),borderInlineEndColor:ne.colors("borderInlineEndColor"),borderRightStyle:ne.borderStyles("borderRightStyle"),borderInlineEndStyle:ne.borderStyles("borderInlineEndStyle"),borderTopRadius:ne.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:ne.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:ne.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:ne.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Jt,{rounded:Jt.borderRadius,roundedTop:Jt.borderTopRadius,roundedTopLeft:Jt.borderTopLeftRadius,roundedTopRight:Jt.borderTopRightRadius,roundedTopStart:Jt.borderStartStartRadius,roundedTopEnd:Jt.borderStartEndRadius,roundedBottom:Jt.borderBottomRadius,roundedBottomLeft:Jt.borderBottomLeftRadius,roundedBottomRight:Jt.borderBottomRightRadius,roundedBottomStart:Jt.borderEndStartRadius,roundedBottomEnd:Jt.borderEndEndRadius,roundedLeft:Jt.borderLeftRadius,roundedRight:Jt.borderRightRadius,roundedStart:Jt.borderInlineStartRadius,roundedEnd:Jt.borderInlineEndRadius,borderStart:Jt.borderInlineStart,borderEnd:Jt.borderInlineEnd,borderTopStartRadius:Jt.borderStartStartRadius,borderTopEndRadius:Jt.borderStartEndRadius,borderBottomStartRadius:Jt.borderEndStartRadius,borderBottomEndRadius:Jt.borderEndEndRadius,borderStartRadius:Jt.borderInlineStartRadius,borderEndRadius:Jt.borderInlineEndRadius,borderStartWidth:Jt.borderInlineStartWidth,borderEndWidth:Jt.borderInlineEndWidth,borderStartColor:Jt.borderInlineStartColor,borderEndColor:Jt.borderInlineEndColor,borderStartStyle:Jt.borderInlineStartStyle,borderEndStyle:Jt.borderInlineEndStyle});var mV={color:ne.colors("color"),textColor:ne.colors("color"),fill:ne.colors("fill"),stroke:ne.colors("stroke")},sw={boxShadow:ne.shadows("boxShadow"),mixBlendMode:!0,blendMode:ne.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:ne.prop("backgroundBlendMode"),opacity:!0};Object.assign(sw,{shadow:sw.boxShadow});var gV={filter:{transform:Ht.filter},blur:ne.blur("--chakra-blur"),brightness:ne.propT("--chakra-brightness",Ht.brightness),contrast:ne.propT("--chakra-contrast",Ht.contrast),hueRotate:ne.degreeT("--chakra-hue-rotate"),invert:ne.propT("--chakra-invert",Ht.invert),saturate:ne.propT("--chakra-saturate",Ht.saturate),dropShadow:ne.propT("--chakra-drop-shadow",Ht.dropShadow),backdropFilter:{transform:Ht.backdropFilter},backdropBlur:ne.blur("--chakra-backdrop-blur"),backdropBrightness:ne.propT("--chakra-backdrop-brightness",Ht.brightness),backdropContrast:ne.propT("--chakra-backdrop-contrast",Ht.contrast),backdropHueRotate:ne.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:ne.propT("--chakra-backdrop-invert",Ht.invert),backdropSaturate:ne.propT("--chakra-backdrop-saturate",Ht.saturate)},cy={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Ht.flexDirection},experimental_spaceX:{static:aV,transform:Bp({scale:"space",transform:n=>n!==null?{"--chakra-space-x":n}:null})},experimental_spaceY:{static:lV,transform:Bp({scale:"space",transform:n=>n!=null?{"--chakra-space-y":n}:null})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:ne.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:ne.space("gap"),rowGap:ne.space("rowGap"),columnGap:ne.space("columnGap")};Object.assign(cy,{flexDir:cy.flexDirection});var yD={gridGap:ne.space("gridGap"),gridColumnGap:ne.space("gridColumnGap"),gridRowGap:ne.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},vV={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Ht.outline},outlineOffset:!0,outlineColor:ne.colors("outlineColor")},ds={width:ne.sizesT("width"),inlineSize:ne.sizesT("inlineSize"),height:ne.sizes("height"),blockSize:ne.sizes("blockSize"),boxSize:ne.sizes(["width","height"]),minWidth:ne.sizes("minWidth"),minInlineSize:ne.sizes("minInlineSize"),minHeight:ne.sizes("minHeight"),minBlockSize:ne.sizes("minBlockSize"),maxWidth:ne.sizes("maxWidth"),maxInlineSize:ne.sizes("maxInlineSize"),maxHeight:ne.sizes("maxHeight"),maxBlockSize:ne.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:ne.propT("float",Ht.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ds,{w:ds.width,h:ds.height,minW:ds.minWidth,maxW:ds.maxWidth,minH:ds.minHeight,maxH:ds.maxHeight,overscroll:ds.overscrollBehavior,overscrollX:ds.overscrollBehaviorX,overscrollY:ds.overscrollBehaviorY});var yV={listStyleType:!0,listStylePosition:!0,listStylePos:ne.prop("listStylePosition"),listStyleImage:!0,listStyleImg:ne.prop("listStyleImage")};function xV(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}var _V=n=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=n(r,i,s,o);return a.set(i,l),l}},bV=_V(xV),SV={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},wV={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},R_=(n,e,t)=>{const r={},i=bV(n,e,{});for(const s in i)s in t&&t[s]!=null||(r[s]=i[s]);return r},MV={srOnly:{transform(n){return n===!0?SV:n==="focusable"?wV:{}}},layerStyle:{processResult:!0,transform:(n,e,t)=>R_(e,`layerStyles.${n}`,t)},textStyle:{processResult:!0,transform:(n,e,t)=>R_(e,`textStyles.${n}`,t)},apply:{processResult:!0,transform:(n,e,t)=>R_(e,n,t)}},Zh={position:!0,pos:ne.prop("position"),zIndex:ne.prop("zIndex","zIndices"),inset:ne.spaceT("inset"),insetX:ne.spaceT(["left","right"]),insetInline:ne.spaceT("insetInline"),insetY:ne.spaceT(["top","bottom"]),insetBlock:ne.spaceT("insetBlock"),top:ne.spaceT("top"),insetBlockStart:ne.spaceT("insetBlockStart"),bottom:ne.spaceT("bottom"),insetBlockEnd:ne.spaceT("insetBlockEnd"),left:ne.spaceT("left"),insetInlineStart:ne.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:ne.spaceT("right"),insetInlineEnd:ne.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Zh,{insetStart:Zh.insetInlineStart,insetEnd:Zh.insetInlineEnd});var TV={ring:{transform:Ht.ring},ringColor:ne.colors("--chakra-ring-color"),ringOffset:ne.prop("--chakra-ring-offset-width"),ringOffsetColor:ne.colors("--chakra-ring-offset-color"),ringInset:ne.prop("--chakra-ring-inset")},Mn={margin:ne.spaceT("margin"),marginTop:ne.spaceT("marginTop"),marginBlockStart:ne.spaceT("marginBlockStart"),marginRight:ne.spaceT("marginRight"),marginInlineEnd:ne.spaceT("marginInlineEnd"),marginBottom:ne.spaceT("marginBottom"),marginBlockEnd:ne.spaceT("marginBlockEnd"),marginLeft:ne.spaceT("marginLeft"),marginInlineStart:ne.spaceT("marginInlineStart"),marginX:ne.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:ne.spaceT("marginInline"),marginY:ne.spaceT(["marginTop","marginBottom"]),marginBlock:ne.spaceT("marginBlock"),padding:ne.space("padding"),paddingTop:ne.space("paddingTop"),paddingBlockStart:ne.space("paddingBlockStart"),paddingRight:ne.space("paddingRight"),paddingBottom:ne.space("paddingBottom"),paddingBlockEnd:ne.space("paddingBlockEnd"),paddingLeft:ne.space("paddingLeft"),paddingInlineStart:ne.space("paddingInlineStart"),paddingInlineEnd:ne.space("paddingInlineEnd"),paddingX:ne.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:ne.space("paddingInline"),paddingY:ne.space(["paddingTop","paddingBottom"]),paddingBlock:ne.space("paddingBlock")};Object.assign(Mn,{m:Mn.margin,mt:Mn.marginTop,mr:Mn.marginRight,me:Mn.marginInlineEnd,marginEnd:Mn.marginInlineEnd,mb:Mn.marginBottom,ml:Mn.marginLeft,ms:Mn.marginInlineStart,marginStart:Mn.marginInlineStart,mx:Mn.marginX,my:Mn.marginY,p:Mn.padding,pt:Mn.paddingTop,py:Mn.paddingY,px:Mn.paddingX,pb:Mn.paddingBottom,pl:Mn.paddingLeft,ps:Mn.paddingInlineStart,paddingStart:Mn.paddingInlineStart,pr:Mn.paddingRight,pe:Mn.paddingInlineEnd,paddingEnd:Mn.paddingInlineEnd});var EV={textDecorationColor:ne.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:ne.shadows("textShadow")},CV={clipPath:!0,transform:ne.propT("transform",Ht.transform),transformOrigin:!0,translateX:ne.spaceT("--chakra-translate-x"),translateY:ne.spaceT("--chakra-translate-y"),skewX:ne.degreeT("--chakra-skew-x"),skewY:ne.degreeT("--chakra-skew-y"),scaleX:ne.prop("--chakra-scale-x"),scaleY:ne.prop("--chakra-scale-y"),scale:ne.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:ne.degreeT("--chakra-rotate")},AV={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:ne.prop("transitionDuration","transition.duration"),transitionProperty:ne.prop("transitionProperty","transition.property"),transitionTimingFunction:ne.prop("transitionTimingFunction","transition.easing")},PV={fontFamily:ne.prop("fontFamily","fonts"),fontSize:ne.prop("fontSize","fontSizes",Ht.px),fontWeight:ne.prop("fontWeight","fontWeights"),lineHeight:ne.prop("lineHeight","lineHeights"),letterSpacing:ne.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(n){if(n===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},RV={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:ne.spaceT("scrollMargin"),scrollMarginTop:ne.spaceT("scrollMarginTop"),scrollMarginBottom:ne.spaceT("scrollMarginBottom"),scrollMarginLeft:ne.spaceT("scrollMarginLeft"),scrollMarginRight:ne.spaceT("scrollMarginRight"),scrollMarginX:ne.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:ne.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:ne.spaceT("scrollPadding"),scrollPaddingTop:ne.spaceT("scrollPaddingTop"),scrollPaddingBottom:ne.spaceT("scrollPaddingBottom"),scrollPaddingLeft:ne.spaceT("scrollPaddingLeft"),scrollPaddingRight:ne.spaceT("scrollPaddingRight"),scrollPaddingX:ne.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:ne.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function xD(n){return Si(n)&&n.reference?n.reference:String(n)}var fx=(n,...e)=>e.map(xD).join(` ${n} `).replace(/calc/g,""),vA=(...n)=>`calc(${fx("+",...n)})`,yA=(...n)=>`calc(${fx("-",...n)})`,ow=(...n)=>`calc(${fx("*",...n)})`,xA=(...n)=>`calc(${fx("/",...n)})`,_A=n=>{const e=xD(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:ow(e,-1)},yc=Object.assign(n=>({add:(...e)=>yc(vA(n,...e)),subtract:(...e)=>yc(yA(n,...e)),multiply:(...e)=>yc(ow(n,...e)),divide:(...e)=>yc(xA(n,...e)),negate:()=>yc(_A(n)),toString:()=>n.toString()}),{add:vA,subtract:yA,multiply:ow,divide:xA,negate:_A});function kV(n,e="-"){return n.replace(/\s+/g,e)}function LV(n){const e=kV(n.toString());return DV(IV(e))}function IV(n){return n.includes("\\.")?n:!Number.isInteger(parseFloat(n.toString()))?n.replace(".","\\."):n}function DV(n){return n.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function OV(n,e=""){return[e,n].filter(Boolean).join("-")}function NV(n,e){return`var(${n}${e?`, ${e}`:""})`}function zV(n,e=""){return LV(`--${OV(n,e)}`)}function Yt(n,e,t){const r=zV(n,t);return{variable:r,reference:NV(r,e)}}function FV(n){const e=n==null?0:n.length;return e?n[e-1]:void 0}function BV(n){const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}}function aw(n){if(n==null)return n;const{unitless:e}=BV(n);return e||typeof n=="number"?`${n}px`:n}var _D=(n,e)=>parseInt(n[1],10)>parseInt(e[1],10)?1:-1,F2=n=>Object.fromEntries(Object.entries(n).sort(_D));function bA(n){const e=F2(n);return Object.assign(Object.values(e),e)}function UV(n){const e=Object.keys(F2(n));return new Set(e)}function SA(n){var e;if(!n)return n;n=(e=aw(n))!=null?e:n;const t=-.02;return typeof n=="number"?`${n+t}`:n.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+t}`)}function Oh(n,e){const t=["@media screen"];return n&&t.push("and",`(min-width: ${aw(n)})`),e&&t.push("and",`(max-width: ${aw(e)})`),t.join(" ")}function VV(n){var e;if(!n)return null;n.base=(e=n.base)!=null?e:"0px";const t=bA(n),r=Object.entries(n).sort(_D).map(([o,a],l,c)=>{var u;let[,h]=(u=c[l+1])!=null?u:[];return h=parseFloat(h)>0?SA(h):void 0,{_minW:SA(a),breakpoint:o,minW:a,maxW:h,maxWQuery:Oh(null,h),minWQuery:Oh(a),minMaxQuery:Oh(a,h)}}),i=UV(n),s=Array.from(i.values());return{keys:i,normalized:t,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>i.has(l))},asObject:F2(n),asArray:bA(n),details:r,media:[null,...t.map(o=>Oh(o)).slice(1)],toArrayValue(o){if(!Si(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var c;return(c=o[l])!=null?c:null});for(;FV(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const u=s[c];return u!=null&&l!=null&&(a[u]=l),a},{})}}}var Tr={hover:(n,e)=>`${n}:hover ${e}, ${n}[data-hover] ${e}`,focus:(n,e)=>`${n}:focus ${e}, ${n}[data-focus] ${e}`,focusVisible:(n,e)=>`${n}:focus-visible ${e}`,focusWithin:(n,e)=>`${n}:focus-within ${e}`,active:(n,e)=>`${n}:active ${e}, ${n}[data-active] ${e}`,disabled:(n,e)=>`${n}:disabled ${e}, ${n}[data-disabled] ${e}`,invalid:(n,e)=>`${n}:invalid ${e}, ${n}[data-invalid] ${e}`,checked:(n,e)=>`${n}:checked ${e}, ${n}[data-checked] ${e}`,indeterminate:(n,e)=>`${n}:indeterminate ${e}, ${n}[aria-checked=mixed] ${e}, ${n}[data-indeterminate] ${e}`,readOnly:(n,e)=>`${n}:read-only ${e}, ${n}[readonly] ${e}, ${n}[data-read-only] ${e}`,expanded:(n,e)=>`${n}:read-only ${e}, ${n}[aria-expanded=true] ${e}, ${n}[data-expanded] ${e}`,placeholderShown:(n,e)=>`${n}:placeholder-shown ${e}`},Ba=n=>bD(e=>n(e,"&"),"[role=group]","[data-group]",".group"),Bo=n=>bD(e=>n(e,"~ &"),"[data-peer]",".peer"),bD=(n,...e)=>e.map(n).join(", "),hx={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Ba(Tr.hover),_peerHover:Bo(Tr.hover),_groupFocus:Ba(Tr.focus),_peerFocus:Bo(Tr.focus),_groupFocusVisible:Ba(Tr.focusVisible),_peerFocusVisible:Bo(Tr.focusVisible),_groupActive:Ba(Tr.active),_peerActive:Bo(Tr.active),_groupDisabled:Ba(Tr.disabled),_peerDisabled:Bo(Tr.disabled),_groupInvalid:Ba(Tr.invalid),_peerInvalid:Bo(Tr.invalid),_groupChecked:Ba(Tr.checked),_peerChecked:Bo(Tr.checked),_groupFocusWithin:Ba(Tr.focusWithin),_peerFocusWithin:Bo(Tr.focusWithin),_peerPlaceholderShown:Bo(Tr.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},HV=Object.keys(hx);function wA(n,e){return Yt(String(n).replace(/\./g,"-"),void 0,e)}function jV(n,e){let t={};const r={};for(const[i,s]of Object.entries(n)){const{isSemantic:o,value:a}=s,{variable:l,reference:c}=wA(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const p=i.split("."),[m,...v]=p,g=`${m}.-${v.join(".")}`,x=yc.negate(a),_=yc.negate(c);r[g]={value:x,var:l,varRef:_}}t[l]=a,r[i]={value:a,var:l,varRef:c};continue}const u=p=>{const v=[String(i).split(".")[0],p].join(".");if(!n[v])return p;const{reference:x}=wA(v,e==null?void 0:e.cssVarPrefix);return x},h=Si(a)?a:{default:a};t=ys(t,Object.entries(h).reduce((p,[m,v])=>{var g,x;const _=u(v);if(m==="default")return p[l]=_,p;const b=(x=(g=hx)==null?void 0:g[m])!=null?x:m;return p[b]={[l]:_},p},{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:t,cssMap:r}}function WV(n,e=[]){const t=Object.assign({},n);for(const r of e)r in t&&delete t[r];return t}function GV(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}var $V=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function XV(n){return GV(n,$V)}function qV(n){return n.semanticTokens}function YV(n){const{__cssMap:e,__cssVars:t,__breakpoints:r,...i}=n;return i}function KV({tokens:n,semanticTokens:e}){var t,r;const i=Object.entries((t=lw(n))!=null?t:{}).map(([o,a])=>[o,{isSemantic:!1,value:a}]),s=Object.entries((r=lw(e,1))!=null?r:{}).map(([o,a])=>[o,{isSemantic:!0,value:a}]);return Object.fromEntries([...i,...s])}function lw(n,e=1/0){return!Si(n)&&!Array.isArray(n)||!e?n:Object.entries(n).reduce((t,[r,i])=>(Si(i)||Array.isArray(i)?Object.entries(lw(i,e-1)).forEach(([s,o])=>{t[`${r}.${s}`]=o}):t[r]=i,t),{})}function ZV(n){var e;const t=YV(n),r=XV(t),i=qV(t),s=KV({tokens:r,semanticTokens:i}),o=(e=t.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=jV(s,{cssVarPrefix:o});return Object.assign(t,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:VV(t.breakpoints)}),t}var B2=ys({},yv,Jt,mV,cy,ds,gV,TV,vV,yD,MV,Zh,sw,Mn,RV,PV,EV,CV,yV,AV);Object.assign({},Mn,ds,cy,yD,Zh);var JV=[...Object.keys(B2),...HV],QV={...B2,...hx},e9=n=>n in QV,t9=n=>e=>{if(!e.__breakpoints)return n;const{isResponsive:t,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in n){let a=vo(n[o],e);if(a==null)continue;if(a=Si(a)&&t(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let c=0;c<l;c+=1){const u=i==null?void 0:i[c];if(!u){s[o]=a[c];continue}s[u]=s[u]||{},a[c]!=null&&(s[u][o]=a[c])}}return s};function n9(n){const e=[];let t="",r=!1;for(let i=0;i<n.length;i++){const s=n[i];s==="("?(r=!0,t+=s):s===")"?(r=!1,t+=s):s===","&&!r?(e.push(t),t=""):t+=s}return t=t.trim(),t&&e.push(t),e}function r9(n){return/^var\(--.+\)$/.test(n)}var i9=(n,e)=>n.startsWith("--")&&typeof e=="string"&&!r9(e),s9=(n,e)=>{var t,r;if(e==null)return e;const i=l=>{var c,u;return(u=(c=n.__cssMap)==null?void 0:c[l])==null?void 0:u.varRef},s=l=>{var c;return(c=i(l))!=null?c:l},[o,a]=n9(e);return e=(r=(t=i(o))!=null?t:s(a))!=null?r:s(e),e};function o9(n){const{configs:e={},pseudos:t={},theme:r}=n,i=(s,o=!1)=>{var a,l,c;const u=vo(s,r),h=t9(u)(r);let p={};for(let m in h){const v=h[m];let g=vo(v,r);m in t&&(m=t[m]),i9(m,g)&&(g=s9(r,g));let x=e[m];if(x===!0&&(x={property:m}),Si(g)){p[m]=(a=p[m])!=null?a:{},p[m]=ys({},p[m],i(g,!0));continue}let _=(c=(l=x==null?void 0:x.transform)==null?void 0:l.call(x,g,r,u))!=null?c:g;_=x!=null&&x.processResult?i(_,!0):_;const b=vo(x==null?void 0:x.property,r);if(!o&&(x!=null&&x.static)){const S=vo(x.static,r);p=ys({},p,S)}if(b&&Array.isArray(b)){for(const S of b)p[S]=_;continue}if(b){b==="&"&&Si(_)?p=ys({},p,_):p[b]=_;continue}if(Si(_)){p=ys({},p,_);continue}p[m]=_}return p};return i}var SD=n=>e=>o9({theme:e,pseudos:hx,configs:B2})(n);function En(n){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:n,...e}}}}function a9(n,e){if(Array.isArray(n))return n;if(Si(n))return e(n);if(n!=null)return[n]}function l9(n,e){for(let t=e+1;t<n.length;t++)if(n[t]!=null)return t;return-1}function c9(n){const e=n.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const c={},u=a9(s,e.toArrayValue);if(!u)return c;const h=u.length,p=h===1,m=!!r.parts;for(let v=0;v<h;v++){const g=e.details[v],x=e.details[l9(u,v)],_=Oh(g.minW,x==null?void 0:x._minW),b=vo((a=r[i])==null?void 0:a[u[v]],o);if(b){if(m){(l=r.parts)==null||l.forEach(S=>{ys(c,{[S]:p?b[S]:{[_]:b[S]}})});continue}if(!m){p?ys(c,b):c[_]=b;continue}c[_]=b}}return c}}function u9(n){return e=>{var t;const{variant:r,size:i,theme:s}=e,o=c9(s);return ys({},vo((t=n.baseStyle)!=null?t:{},e),o(n,"sizes",i,e),o(n,"variants",r,e))}}function Sa(n){return WV(n,["styleConfig","size","variant","colorScheme"])}var d9=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function f9(n){return Si(n)?d9.every(e=>Object.prototype.hasOwnProperty.call(n,e)):!1}var h9={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},p9=h9,m9={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},g9=m9,v9={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},y9=v9,x9={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},_9=x9,b9={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},S9=b9,w9={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},M9={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},T9={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},E9={property:w9,easing:M9,duration:T9},C9=E9,A9={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},P9=A9,R9={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},k9=R9,L9={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},wD=L9,MD={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},I9={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},D9={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},O9={...MD,...I9,container:D9},TD=O9,ED={breakpoints:g9,zIndices:p9,radii:_9,blur:P9,colors:y9,...wD,sizes:TD,shadows:S9,space:MD,borders:k9,transition:C9};function sn(n,e={}){let t=!1;function r(){if(!t){t=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...u){r();for(const h of u)e[h]=l(h);return sn(n,e)}function s(...u){for(const h of u)h in e||(e[h]=l(h));return sn(n,e)}function o(){return Object.fromEntries(Object.entries(e).map(([h,p])=>[h,p.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([h,p])=>[h,p.className]))}function l(u){const m=`chakra-${(["container","root"].includes(u??"")?[n]:[n,u]).filter(Boolean).join("__")}`;return{className:m,selector:`.${m}`,toString:()=>u}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var N9=sn("accordion").parts("root","container","button","panel").extend("icon"),z9=sn("alert").parts("title","description","container").extend("icon","spinner"),F9=sn("avatar").parts("label","badge","container").extend("excessLabel","group"),B9=sn("breadcrumb").parts("link","item","container").extend("separator");sn("button").parts();var U9=sn("checkbox").parts("control","icon","container").extend("label");sn("progress").parts("track","filledTrack").extend("label");var V9=sn("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),H9=sn("editable").parts("preview","input","textarea"),j9=sn("form").parts("container","requiredIndicator","helperText"),W9=sn("formError").parts("text","icon"),G9=sn("input").parts("addon","field","element"),$9=sn("list").parts("container","item","icon"),X9=sn("menu").parts("button","list","item").extend("groupTitle","command","divider"),q9=sn("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Y9=sn("numberinput").parts("root","field","stepperGroup","stepper");sn("pininput").parts("field");var K9=sn("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),Z9=sn("progress").parts("label","filledTrack","track"),J9=sn("radio").parts("container","control","label"),Q9=sn("select").parts("field","icon"),eH=sn("slider").parts("container","track","thumb","filledTrack","mark"),tH=sn("stat").parts("container","label","helpText","number","icon"),nH=sn("switch").parts("container","track","thumb"),rH=sn("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),iH=sn("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),sH=sn("tag").parts("container","label","closeButton"),oH=sn("card").parts("container","header","body","footer");function Pc(n,e,t){return Math.min(Math.max(n,t),e)}class aH extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Nh=aH;function U2(n){if(typeof n!="string")throw new Nh(n);if(n.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=n.trim();e=mH.test(n)?uH(n):n;const t=dH.exec(e);if(t){const o=Array.from(t).slice(1);return[...o.slice(0,3).map(a=>parseInt(Up(a,2),16)),parseInt(Up(o[3]||"f",2),16)/255]}const r=fH.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=hH.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=pH.exec(e);if(s){const[o,a,l,c]=Array.from(s).slice(1).map(parseFloat);if(Pc(0,100,a)!==a)throw new Nh(n);if(Pc(0,100,l)!==l)throw new Nh(n);return[...gH(o,a,l),Number.isNaN(c)?1:c]}throw new Nh(n)}function lH(n){let e=5381,t=n.length;for(;t;)e=e*33^n.charCodeAt(--t);return(e>>>0)%2341}const MA=n=>parseInt(n.replace(/_/g,""),36),cH="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((n,e)=>{const t=MA(e.substring(0,3)),r=MA(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return n[t]=`${i}${r}`,n},{});function uH(n){const e=n.toLowerCase().trim(),t=cH[lH(e)];if(!t)throw new Nh(n);return`#${t}`}const Up=(n,e)=>Array.from(Array(e)).map(()=>n).join(""),dH=new RegExp(`^#${Up("([a-f0-9])",3)}([a-f0-9])?$`,"i"),fH=new RegExp(`^#${Up("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),hH=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Up(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),pH=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,mH=/^[a-z]+$/i,TA=n=>Math.round(n*255),gH=(n,e,t)=>{let r=t/100;if(e===0)return[r,r,r].map(TA);const i=(n%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,c=o):i>=3&&i<4?(l=o,c=s):i>=4&&i<5?(a=o,c=s):i>=5&&i<6&&(a=s,c=o);const u=r-s/2,h=a+u,p=l+u,m=c+u;return[h,p,m].map(TA)};function vH(n,e,t,r){return`rgba(${Pc(0,255,n).toFixed()}, ${Pc(0,255,e).toFixed()}, ${Pc(0,255,t).toFixed()}, ${parseFloat(Pc(0,1,r).toFixed(3))})`}function yH(n,e){const[t,r,i,s]=U2(n);return vH(t,r,i,s-e)}function xH(n){const[e,t,r,i]=U2(n);let s=o=>{const a=Pc(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(t)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function _H(n,e,t,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)n=n?n[e[r]]:i;return n===i?t:n}var bH=n=>Object.keys(n).length===0,ni=(n,e,t)=>{const r=_H(n,`colors.${e}`,e);try{return xH(r),r}catch{return t??"#000000"}},SH=n=>{const[e,t,r]=U2(n);return(e*299+t*587+r*114)/1e3},wH=n=>e=>{const t=ni(e,n);return SH(t)<128?"dark":"light"},MH=n=>e=>wH(n)(e)==="dark",Kd=(n,e)=>t=>{const r=ni(t,n);return yH(r,1-e)};function EA(n="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${n} ${n}`}}var TH=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function EH(n){const e=TH();return!n||bH(n)?e:n.string&&n.colors?AH(n.string,n.colors):n.string&&!n.colors?CH(n.string):n.colors&&!n.string?PH(n.colors):e}function CH(n){let e=0;if(n.length===0)return e.toString();for(let r=0;r<n.length;r+=1)e=n.charCodeAt(r)+((e<<5)-e),e=e&e;let t="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;t+=`00${i.toString(16)}`.substr(-2)}return t}function AH(n,e){let t=0;if(n.length===0)return e[0];for(let r=0;r<n.length;r+=1)t=n.charCodeAt(r)+((t<<5)-t),t=t&t;return t=(t%e.length+e.length)%e.length,e[t]}function PH(n){return n[Math.floor(Math.random()*n.length)]}function at(n,e){return t=>t.colorMode==="dark"?e:n}function V2(n){const{orientation:e,vertical:t,horizontal:r}=n;return e?e==="vertical"?t:r:{}}function CD(n){return Si(n)&&n.reference?n.reference:String(n)}var px=(n,...e)=>e.map(CD).join(` ${n} `).replace(/calc/g,""),CA=(...n)=>`calc(${px("+",...n)})`,AA=(...n)=>`calc(${px("-",...n)})`,cw=(...n)=>`calc(${px("*",...n)})`,PA=(...n)=>`calc(${px("/",...n)})`,RA=n=>{const e=CD(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:cw(e,-1)},Qo=Object.assign(n=>({add:(...e)=>Qo(CA(n,...e)),subtract:(...e)=>Qo(AA(n,...e)),multiply:(...e)=>Qo(cw(n,...e)),divide:(...e)=>Qo(PA(n,...e)),negate:()=>Qo(RA(n)),toString:()=>n.toString()}),{add:CA,subtract:AA,multiply:cw,divide:PA,negate:RA});function RH(n){return!Number.isInteger(parseFloat(n.toString()))}function kH(n,e="-"){return n.replace(/\s+/g,e)}function AD(n){const e=kH(n.toString());return e.includes("\\.")?n:RH(n)?e.replace(".","\\."):n}function LH(n,e=""){return[e,AD(n)].filter(Boolean).join("-")}function IH(n,e){return`var(${AD(n)}${e?`, ${e}`:""})`}function DH(n,e=""){return`--${LH(n,e)}`}function ur(n,e){const t=DH(n,e==null?void 0:e.prefix);return{variable:t,reference:IH(t,OH(e==null?void 0:e.fallback))}}function OH(n){return typeof n=="string"?n:n==null?void 0:n.reference}var{defineMultiStyleConfig:NH,definePartsStyle:xv}=En(nH.keys),Jh=ur("switch-track-width"),Bc=ur("switch-track-height"),k_=ur("switch-track-diff"),zH=Qo.subtract(Jh,Bc),uw=ur("switch-thumb-x"),rh=ur("switch-bg"),FH=n=>{const{colorScheme:e}=n;return{borderRadius:"full",p:"0.5",width:[Jh.reference],height:[Bc.reference],transitionProperty:"common",transitionDuration:"fast",[rh.variable]:"colors.gray.300",_dark:{[rh.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[rh.variable]:`colors.${e}.500`,_dark:{[rh.variable]:`colors.${e}.200`}},bg:rh.reference}},BH={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Bc.reference],height:[Bc.reference],_checked:{transform:`translateX(${uw.reference})`}},UH=xv(n=>({container:{[k_.variable]:zH,[uw.variable]:k_.reference,_rtl:{[uw.variable]:Qo(k_).negate().toString()}},track:FH(n),thumb:BH})),VH={sm:xv({container:{[Jh.variable]:"1.375rem",[Bc.variable]:"sizes.3"}}),md:xv({container:{[Jh.variable]:"1.875rem",[Bc.variable]:"sizes.4"}}),lg:xv({container:{[Jh.variable]:"2.875rem",[Bc.variable]:"sizes.6"}})},HH=NH({baseStyle:UH,sizes:VH,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:jH,definePartsStyle:kd}=En(rH.keys),WH=kd({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),uy={"&[data-is-numeric=true]":{textAlign:"end"}},GH=kd(n=>{const{colorScheme:e}=n;return{th:{color:at("gray.600","gray.400")(n),borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...uy},td:{borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...uy},caption:{color:at("gray.600","gray.100")(n)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),$H=kd(n=>{const{colorScheme:e}=n;return{th:{color:at("gray.600","gray.400")(n),borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...uy},td:{borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...uy},caption:{color:at("gray.600","gray.100")(n)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n)},td:{background:at(`${e}.100`,`${e}.700`)(n)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),XH={simple:GH,striped:$H,unstyled:{}},qH={sm:kd({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:kd({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:kd({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},YH=jH({baseStyle:WH,variants:XH,sizes:qH,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),gi=Yt("tabs-color"),Hs=Yt("tabs-bg"),i0=Yt("tabs-border-color"),{defineMultiStyleConfig:KH,definePartsStyle:So}=En(iH.keys),ZH=n=>{const{orientation:e}=n;return{display:e==="vertical"?"flex":"block"}},JH=n=>{const{isFitted:e}=n;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},QH=n=>{const{align:e="start",orientation:t}=n;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:t==="vertical"?"column":"row"}},e7={p:4},t7=So(n=>({root:ZH(n),tab:JH(n),tablist:QH(n),tabpanel:e7})),n7={sm:So({tab:{py:1,px:4,fontSize:"sm"}}),md:So({tab:{fontSize:"md",py:2,px:4}}),lg:So({tab:{fontSize:"lg",py:3,px:4}})},r7=So(n=>{const{colorScheme:e,orientation:t}=n,r=t==="vertical",i=t==="vertical"?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[gi.variable]:`colors.${e}.600`,_dark:{[gi.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Hs.variable]:"colors.gray.200",_dark:{[Hs.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:gi.reference,bg:Hs.reference}}}),i7=So(n=>{const{colorScheme:e}=n;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[i0.variable]:"transparent",_selected:{[gi.variable]:`colors.${e}.600`,[i0.variable]:"colors.white",_dark:{[gi.variable]:`colors.${e}.300`,[i0.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:i0.reference},color:gi.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),s7=So(n=>{const{colorScheme:e}=n;return{tab:{border:"1px solid",borderColor:"inherit",[Hs.variable]:"colors.gray.50",_dark:{[Hs.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Hs.variable]:"colors.white",[gi.variable]:`colors.${e}.600`,_dark:{[Hs.variable]:"colors.gray.800",[gi.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:gi.reference,bg:Hs.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),o7=So(n=>{const{colorScheme:e,theme:t}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ni(t,`${e}.700`),bg:ni(t,`${e}.100`)}}}}),a7=So(n=>{const{colorScheme:e}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",[gi.variable]:"colors.gray.600",_dark:{[gi.variable]:"inherit"},_selected:{[gi.variable]:"colors.white",[Hs.variable]:`colors.${e}.600`,_dark:{[gi.variable]:"colors.gray.800",[Hs.variable]:`colors.${e}.300`}},color:gi.reference,bg:Hs.reference}}}),l7=So({}),c7={line:r7,enclosed:i7,"enclosed-colored":s7,"soft-rounded":o7,"solid-rounded":a7,unstyled:l7},u7=KH({baseStyle:t7,sizes:n7,variants:c7,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),d7={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},Ld=Yt("badge-bg"),yo=Yt("badge-color"),f7=n=>{const{colorScheme:e,theme:t}=n,r=Kd(`${e}.500`,.6)(t);return{[Ld.variable]:`colors.${e}.500`,[yo.variable]:"colors.white",_dark:{[Ld.variable]:r,[yo.variable]:"colors.whiteAlpha.800"},bg:Ld.reference,color:yo.reference}},h7=n=>{const{colorScheme:e,theme:t}=n,r=Kd(`${e}.200`,.16)(t);return{[Ld.variable]:`colors.${e}.100`,[yo.variable]:`colors.${e}.800`,_dark:{[Ld.variable]:r,[yo.variable]:`colors.${e}.200`},bg:Ld.reference,color:yo.reference}},p7=n=>{const{colorScheme:e,theme:t}=n,r=Kd(`${e}.200`,.8)(t);return{[yo.variable]:`colors.${e}.500`,_dark:{[yo.variable]:r},color:yo.reference,boxShadow:`inset 0 0 0px 1px ${yo.reference}`}},m7={solid:f7,subtle:h7,outline:p7},Qh={baseStyle:d7,variants:m7,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:g7,definePartsStyle:Uc}=En(sH.keys),v7={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},y7={lineHeight:1.2,overflow:"visible"},x7={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},_7=Uc({container:v7,label:y7,closeButton:x7}),b7={sm:Uc({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Uc({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:Uc({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},S7={subtle:Uc(n=>{var e;return{container:(e=Qh.variants)==null?void 0:e.subtle(n)}}),solid:Uc(n=>{var e;return{container:(e=Qh.variants)==null?void 0:e.solid(n)}}),outline:Uc(n=>{var e;return{container:(e=Qh.variants)==null?void 0:e.outline(n)}})},w7=g7({variants:S7,baseStyle:_7,sizes:b7,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:ia,defineMultiStyleConfig:M7}=En(G9.keys),T7=ia({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Ua={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},E7={lg:ia({field:Ua.lg,addon:Ua.lg}),md:ia({field:Ua.md,addon:Ua.md}),sm:ia({field:Ua.sm,addon:Ua.sm}),xs:ia({field:Ua.xs,addon:Ua.xs})};function H2(n){const{focusBorderColor:e,errorBorderColor:t}=n;return{focusBorderColor:e||at("blue.500","blue.300")(n),errorBorderColor:t||at("red.500","red.300")(n)}}var C7=ia(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=H2(n);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:at("gray.300","whiteAlpha.400")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ni(e,r),boxShadow:`0 0 0 1px ${ni(e,r)}`},_focusVisible:{zIndex:1,borderColor:ni(e,t),boxShadow:`0 0 0 1px ${ni(e,t)}`}},addon:{border:"1px solid",borderColor:at("inherit","whiteAlpha.50")(n),bg:at("gray.100","whiteAlpha.300")(n)}}}),A7=ia(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=H2(n);return{field:{border:"2px solid",borderColor:"transparent",bg:at("gray.100","whiteAlpha.50")(n),_hover:{bg:at("gray.200","whiteAlpha.100")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ni(e,r)},_focusVisible:{bg:"transparent",borderColor:ni(e,t)}},addon:{border:"2px solid",borderColor:"transparent",bg:at("gray.100","whiteAlpha.50")(n)}}}),P7=ia(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=H2(n);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ni(e,r),boxShadow:`0px 1px 0px 0px ${ni(e,r)}`},_focusVisible:{borderColor:ni(e,t),boxShadow:`0px 1px 0px 0px ${ni(e,t)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),R7=ia({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),k7={outline:C7,filled:A7,flushed:P7,unstyled:R7},tn=M7({baseStyle:T7,sizes:E7,variants:k7,defaultProps:{size:"md",variant:"outline"}}),kA,L7={...(kA=tn.baseStyle)==null?void 0:kA.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},LA,IA,I7={outline:n=>{var e,t;return(t=(e=tn.variants)==null?void 0:e.outline(n).field)!=null?t:{}},flushed:n=>{var e,t;return(t=(e=tn.variants)==null?void 0:e.flushed(n).field)!=null?t:{}},filled:n=>{var e,t;return(t=(e=tn.variants)==null?void 0:e.filled(n).field)!=null?t:{}},unstyled:(IA=(LA=tn.variants)==null?void 0:LA.unstyled.field)!=null?IA:{}},DA,OA,NA,zA,FA,BA,UA,VA,D7={xs:(OA=(DA=tn.sizes)==null?void 0:DA.xs.field)!=null?OA:{},sm:(zA=(NA=tn.sizes)==null?void 0:NA.sm.field)!=null?zA:{},md:(BA=(FA=tn.sizes)==null?void 0:FA.md.field)!=null?BA:{},lg:(VA=(UA=tn.sizes)==null?void 0:UA.lg.field)!=null?VA:{}},O7={baseStyle:L7,sizes:D7,variants:I7,defaultProps:{size:"md",variant:"outline"}},s0=ur("tooltip-bg"),L_=ur("tooltip-fg"),N7=ur("popper-arrow-bg"),z7={bg:s0.reference,color:L_.reference,[s0.variable]:"colors.gray.700",[L_.variable]:"colors.whiteAlpha.900",_dark:{[s0.variable]:"colors.gray.300",[L_.variable]:"colors.gray.900"},[N7.variable]:s0.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},F7={baseStyle:z7},{defineMultiStyleConfig:B7,definePartsStyle:zh}=En(Z9.keys),U7=n=>{const{colorScheme:e,theme:t,isIndeterminate:r,hasStripe:i}=n,s=at(EA(),EA("1rem","rgba(0,0,0,0.1)"))(n),o=at(`${e}.500`,`${e}.200`)(n),a=`linear-gradient(
    to right,
    transparent 0%,
    ${ni(t,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},V7={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},H7=n=>({bg:at("gray.100","whiteAlpha.300")(n)}),j7=n=>({transitionProperty:"common",transitionDuration:"slow",...U7(n)}),W7=zh(n=>({label:V7,filledTrack:j7(n),track:H7(n)})),G7={xs:zh({track:{h:"1"}}),sm:zh({track:{h:"2"}}),md:zh({track:{h:"3"}}),lg:zh({track:{h:"4"}})},$7=B7({sizes:G7,baseStyle:W7,defaultProps:{size:"md",colorScheme:"blue"}}),X7=n=>typeof n=="function";function si(n,...e){return X7(n)?n(...e):n}var{definePartsStyle:_v,defineMultiStyleConfig:q7}=En(U9.keys),ep=Yt("checkbox-size"),Y7=n=>{const{colorScheme:e}=n;return{w:ep.reference,h:ep.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:at(`${e}.500`,`${e}.200`)(n),borderColor:at(`${e}.500`,`${e}.200`)(n),color:at("white","gray.900")(n),_hover:{bg:at(`${e}.600`,`${e}.300`)(n),borderColor:at(`${e}.600`,`${e}.300`)(n)},_disabled:{borderColor:at("gray.200","transparent")(n),bg:at("gray.200","whiteAlpha.300")(n),color:at("gray.500","whiteAlpha.500")(n)}},_indeterminate:{bg:at(`${e}.500`,`${e}.200`)(n),borderColor:at(`${e}.500`,`${e}.200`)(n),color:at("white","gray.900")(n)},_disabled:{bg:at("gray.100","whiteAlpha.100")(n),borderColor:at("gray.100","transparent")(n)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:at("red.500","red.300")(n)}}},K7={_disabled:{cursor:"not-allowed"}},Z7={userSelect:"none",_disabled:{opacity:.4}},J7={transitionProperty:"transform",transitionDuration:"normal"},Q7=_v(n=>({icon:J7,container:K7,control:si(Y7,n),label:Z7})),ej={sm:_v({control:{[ep.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:_v({control:{[ep.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:_v({control:{[ep.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},dy=q7({baseStyle:Q7,sizes:ej,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:tj,definePartsStyle:bv}=En(J9.keys),nj=n=>{var e;const t=(e=si(dy.baseStyle,n))==null?void 0:e.control;return{...t,borderRadius:"full",_checked:{...t==null?void 0:t._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},rj=bv(n=>{var e,t,r,i;return{label:(t=(e=dy).baseStyle)==null?void 0:t.call(e,n).label,container:(i=(r=dy).baseStyle)==null?void 0:i.call(r,n).container,control:nj(n)}}),ij={md:bv({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:bv({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:bv({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},sj=tj({baseStyle:rj,sizes:ij,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:oj,definePartsStyle:aj}=En(Q9.keys),o0=Yt("select-bg"),HA,lj={...(HA=tn.baseStyle)==null?void 0:HA.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:o0.reference,[o0.variable]:"colors.white",_dark:{[o0.variable]:"colors.gray.700"},"> option, > optgroup":{bg:o0.reference}},cj={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},uj=aj({field:lj,icon:cj}),a0={paddingInlineEnd:"8"},jA,WA,GA,$A,XA,qA,YA,KA,dj={lg:{...(jA=tn.sizes)==null?void 0:jA.lg,field:{...(WA=tn.sizes)==null?void 0:WA.lg.field,...a0}},md:{...(GA=tn.sizes)==null?void 0:GA.md,field:{...($A=tn.sizes)==null?void 0:$A.md.field,...a0}},sm:{...(XA=tn.sizes)==null?void 0:XA.sm,field:{...(qA=tn.sizes)==null?void 0:qA.sm.field,...a0}},xs:{...(YA=tn.sizes)==null?void 0:YA.xs,field:{...(KA=tn.sizes)==null?void 0:KA.xs.field,...a0},icon:{insetEnd:"1"}}},fj=oj({baseStyle:uj,sizes:dj,variants:tn.variants,defaultProps:tn.defaultProps}),I_=Yt("skeleton-start-color"),D_=Yt("skeleton-end-color"),hj={[I_.variable]:"colors.gray.100",[D_.variable]:"colors.gray.400",_dark:{[I_.variable]:"colors.gray.800",[D_.variable]:"colors.gray.600"},background:I_.reference,borderColor:D_.reference,opacity:.7,borderRadius:"sm"},pj={baseStyle:hj},O_=Yt("skip-link-bg"),mj={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[O_.variable]:"colors.white",_dark:{[O_.variable]:"colors.gray.700"},bg:O_.reference}},gj={baseStyle:mj},{defineMultiStyleConfig:vj,definePartsStyle:mx}=En(eH.keys),Vp=Yt("slider-thumb-size"),Hp=Yt("slider-track-size"),rl=Yt("slider-bg"),yj=n=>{const{orientation:e}=n;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...V2({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},xj=n=>({...V2({orientation:n.orientation,horizontal:{h:Hp.reference},vertical:{w:Hp.reference}}),overflow:"hidden",borderRadius:"sm",[rl.variable]:"colors.gray.200",_dark:{[rl.variable]:"colors.whiteAlpha.200"},_disabled:{[rl.variable]:"colors.gray.300",_dark:{[rl.variable]:"colors.whiteAlpha.300"}},bg:rl.reference}),_j=n=>{const{orientation:e}=n;return{...V2({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Vp.reference,h:Vp.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},bj=n=>{const{colorScheme:e}=n;return{width:"inherit",height:"inherit",[rl.variable]:`colors.${e}.500`,_dark:{[rl.variable]:`colors.${e}.200`},bg:rl.reference}},Sj=mx(n=>({container:yj(n),track:xj(n),thumb:_j(n),filledTrack:bj(n)})),wj=mx({container:{[Vp.variable]:"sizes.4",[Hp.variable]:"sizes.1"}}),Mj=mx({container:{[Vp.variable]:"sizes.3.5",[Hp.variable]:"sizes.1"}}),Tj=mx({container:{[Vp.variable]:"sizes.2.5",[Hp.variable]:"sizes.0.5"}}),Ej={lg:wj,md:Mj,sm:Tj},Cj=vj({baseStyle:Sj,sizes:Ej,defaultProps:{size:"md",colorScheme:"blue"}}),xc=ur("spinner-size"),Aj={width:[xc.reference],height:[xc.reference]},Pj={xs:{[xc.variable]:"sizes.3"},sm:{[xc.variable]:"sizes.4"},md:{[xc.variable]:"sizes.6"},lg:{[xc.variable]:"sizes.8"},xl:{[xc.variable]:"sizes.12"}},Rj={baseStyle:Aj,sizes:Pj,defaultProps:{size:"md"}},{defineMultiStyleConfig:kj,definePartsStyle:PD}=En(tH.keys),Lj={fontWeight:"medium"},Ij={opacity:.8,marginBottom:"2"},Dj={verticalAlign:"baseline",fontWeight:"semibold"},Oj={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},Nj=PD({container:{},label:Lj,helpText:Ij,number:Dj,icon:Oj}),zj={md:PD({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},Fj=kj({baseStyle:Nj,sizes:zj,defaultProps:{size:"md"}}),N_=Yt("kbd-bg"),Bj={[N_.variable]:"colors.gray.100",_dark:{[N_.variable]:"colors.whiteAlpha.100"},bg:N_.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},Uj={baseStyle:Bj},Vj={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},Hj={baseStyle:Vj},{defineMultiStyleConfig:jj,definePartsStyle:Wj}=En($9.keys),Gj={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},$j=Wj({icon:Gj}),Xj=jj({baseStyle:$j}),{defineMultiStyleConfig:qj,definePartsStyle:Yj}=En(X9.keys),fo=Yt("menu-bg"),z_=Yt("menu-shadow"),Kj={[fo.variable]:"#fff",[z_.variable]:"shadows.sm",_dark:{[fo.variable]:"colors.gray.700",[z_.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:fo.reference,boxShadow:z_.reference},Zj={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[fo.variable]:"colors.gray.100",_dark:{[fo.variable]:"colors.whiteAlpha.100"}},_active:{[fo.variable]:"colors.gray.200",_dark:{[fo.variable]:"colors.whiteAlpha.200"}},_expanded:{[fo.variable]:"colors.gray.100",_dark:{[fo.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:fo.reference},Jj={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},Qj={opacity:.6},eW={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},tW={transitionProperty:"common",transitionDuration:"normal"},nW=Yj({button:tW,list:Kj,item:Zj,groupTitle:Jj,command:Qj,divider:eW}),rW=qj({baseStyle:nW}),{defineMultiStyleConfig:iW,definePartsStyle:dw}=En(q9.keys),sW={bg:"blackAlpha.600",zIndex:"modal"},oW=n=>{const{isCentered:e,scrollBehavior:t}=n;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:t==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},aW=n=>{const{scrollBehavior:e}=n;return{borderRadius:"md",bg:at("white","gray.700")(n),color:"inherit",my:"16",zIndex:"modal",maxH:e==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:at("lg","dark-lg")(n)}},lW={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},cW={position:"absolute",top:"2",insetEnd:"3"},uW=n=>{const{scrollBehavior:e}=n;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},dW={px:"6",py:"4"},fW=dw(n=>({overlay:sW,dialogContainer:si(oW,n),dialog:si(aW,n),header:lW,closeButton:cW,body:si(uW,n),footer:dW}));function ks(n){return dw(n==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:n}})}var hW={xs:ks("xs"),sm:ks("sm"),md:ks("md"),lg:ks("lg"),xl:ks("xl"),"2xl":ks("2xl"),"3xl":ks("3xl"),"4xl":ks("4xl"),"5xl":ks("5xl"),"6xl":ks("6xl"),full:ks("full")},pW=iW({baseStyle:fW,sizes:hW,defaultProps:{size:"md"}}),{defineMultiStyleConfig:mW,definePartsStyle:RD}=En(Y9.keys),j2=ur("number-input-stepper-width"),kD=ur("number-input-input-padding"),gW=Qo(j2).add("0.5rem").toString(),F_=ur("number-input-bg"),B_=ur("number-input-color"),U_=ur("number-input-border-color"),vW={[j2.variable]:"sizes.6",[kD.variable]:gW},yW=n=>{var e,t;return(t=(e=si(tn.baseStyle,n))==null?void 0:e.field)!=null?t:{}},xW={width:j2.reference},_W={borderStart:"1px solid",borderStartColor:U_.reference,color:B_.reference,bg:F_.reference,[B_.variable]:"colors.chakra-body-text",[U_.variable]:"colors.chakra-border-color",_dark:{[B_.variable]:"colors.whiteAlpha.800",[U_.variable]:"colors.whiteAlpha.300"},_active:{[F_.variable]:"colors.gray.200",_dark:{[F_.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},bW=RD(n=>{var e;return{root:vW,field:(e=si(yW,n))!=null?e:{},stepperGroup:xW,stepper:_W}});function l0(n){var e,t,r;const i=(e=tn.sizes)==null?void 0:e[n],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(t=i.field)==null?void 0:t.fontSize)!=null?r:"md",a=wD.fontSizes[o];return RD({field:{...i.field,paddingInlineEnd:kD.reference,verticalAlign:"top"},stepper:{fontSize:Qo(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[n]},_last:{borderBottomEndRadius:s[n],mt:"-1px",borderTopWidth:1}}})}var SW={xs:l0("xs"),sm:l0("sm"),md:l0("md"),lg:l0("lg")},wW=mW({baseStyle:bW,sizes:SW,variants:tn.variants,defaultProps:tn.defaultProps}),ZA,MW={...(ZA=tn.baseStyle)==null?void 0:ZA.field,textAlign:"center"},TW={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},JA,QA,EW={outline:n=>{var e,t,r;return(r=(t=si((e=tn.variants)==null?void 0:e.outline,n))==null?void 0:t.field)!=null?r:{}},flushed:n=>{var e,t,r;return(r=(t=si((e=tn.variants)==null?void 0:e.flushed,n))==null?void 0:t.field)!=null?r:{}},filled:n=>{var e,t,r;return(r=(t=si((e=tn.variants)==null?void 0:e.filled,n))==null?void 0:t.field)!=null?r:{}},unstyled:(QA=(JA=tn.variants)==null?void 0:JA.unstyled.field)!=null?QA:{}},CW={baseStyle:MW,sizes:TW,variants:EW,defaultProps:tn.defaultProps},{defineMultiStyleConfig:AW,definePartsStyle:PW}=En(K9.keys),c0=ur("popper-bg"),RW=ur("popper-arrow-bg"),eP=ur("popper-arrow-shadow-color"),kW={zIndex:10},LW={[c0.variable]:"colors.white",bg:c0.reference,[RW.variable]:c0.reference,[eP.variable]:"colors.gray.200",_dark:{[c0.variable]:"colors.gray.700",[eP.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},IW={px:3,py:2,borderBottomWidth:"1px"},DW={px:3,py:2},OW={px:3,py:2,borderTopWidth:"1px"},NW={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},zW=PW({popper:kW,content:LW,header:IW,body:DW,footer:OW,closeButton:NW}),FW=AW({baseStyle:zW}),{definePartsStyle:fw,defineMultiStyleConfig:BW}=En(V9.keys),V_=Yt("drawer-bg"),H_=Yt("drawer-box-shadow");function Iu(n){return fw(n==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:n}})}var UW={bg:"blackAlpha.600",zIndex:"overlay"},VW={display:"flex",zIndex:"modal",justifyContent:"center"},HW=n=>{const{isFullHeight:e}=n;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[V_.variable]:"colors.white",[H_.variable]:"shadows.lg",_dark:{[V_.variable]:"colors.gray.700",[H_.variable]:"shadows.dark-lg"},bg:V_.reference,boxShadow:H_.reference}},jW={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},WW={position:"absolute",top:"2",insetEnd:"3"},GW={px:"6",py:"2",flex:"1",overflow:"auto"},$W={px:"6",py:"4"},XW=fw(n=>({overlay:UW,dialogContainer:VW,dialog:si(HW,n),header:jW,closeButton:WW,body:GW,footer:$W})),qW={xs:Iu("xs"),sm:Iu("md"),md:Iu("lg"),lg:Iu("2xl"),xl:Iu("4xl"),full:Iu("full")},YW=BW({baseStyle:XW,sizes:qW,defaultProps:{size:"xs"}}),{definePartsStyle:KW,defineMultiStyleConfig:ZW}=En(H9.keys),JW={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},QW={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},eG={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},tG=KW({preview:JW,input:QW,textarea:eG}),nG=ZW({baseStyle:tG}),{definePartsStyle:rG,defineMultiStyleConfig:iG}=En(j9.keys),Id=Yt("form-control-color"),sG={marginStart:"1",[Id.variable]:"colors.red.500",_dark:{[Id.variable]:"colors.red.300"},color:Id.reference},oG={mt:"2",[Id.variable]:"colors.gray.600",_dark:{[Id.variable]:"colors.whiteAlpha.600"},color:Id.reference,lineHeight:"normal",fontSize:"sm"},aG=rG({container:{width:"100%",position:"relative"},requiredIndicator:sG,helperText:oG}),lG=iG({baseStyle:aG}),{definePartsStyle:cG,defineMultiStyleConfig:uG}=En(W9.keys),Dd=Yt("form-error-color"),dG={[Dd.variable]:"colors.red.500",_dark:{[Dd.variable]:"colors.red.300"},color:Dd.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},fG={marginEnd:"0.5em",[Dd.variable]:"colors.red.500",_dark:{[Dd.variable]:"colors.red.300"},color:Dd.reference},hG=cG({text:dG,icon:fG}),pG=uG({baseStyle:hG}),mG={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},gG={baseStyle:mG},vG={fontFamily:"heading",fontWeight:"bold"},yG={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},xG={baseStyle:vG,sizes:yG,defaultProps:{size:"xl"}},{defineMultiStyleConfig:_G,definePartsStyle:bG}=En(B9.keys),SG={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},wG=bG({link:SG}),MG=_G({baseStyle:wG}),TG={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},LD=n=>{const{colorScheme:e,theme:t}=n;if(e==="gray")return{color:at("inherit","whiteAlpha.900")(n),_hover:{bg:at("gray.100","whiteAlpha.200")(n)},_active:{bg:at("gray.200","whiteAlpha.300")(n)}};const r=Kd(`${e}.200`,.12)(t),i=Kd(`${e}.200`,.24)(t);return{color:at(`${e}.600`,`${e}.200`)(n),bg:"transparent",_hover:{bg:at(`${e}.50`,r)(n)},_active:{bg:at(`${e}.100`,i)(n)}}},EG=n=>{const{colorScheme:e}=n,t=at("gray.200","whiteAlpha.300")(n);return{border:"1px solid",borderColor:e==="gray"?t:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...si(LD,n)}},CG={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},AG=n=>{var e;const{colorScheme:t}=n;if(t==="gray"){const l=at("gray.100","whiteAlpha.200")(n);return{bg:l,_hover:{bg:at("gray.200","whiteAlpha.300")(n),_disabled:{bg:l}},_active:{bg:at("gray.300","whiteAlpha.400")(n)}}}const{bg:r=`${t}.500`,color:i="white",hoverBg:s=`${t}.600`,activeBg:o=`${t}.700`}=(e=CG[t])!=null?e:{},a=at(r,`${t}.200`)(n);return{bg:a,color:at(i,"gray.800")(n),_hover:{bg:at(s,`${t}.300`)(n),_disabled:{bg:a}},_active:{bg:at(o,`${t}.400`)(n)}}},PG=n=>{const{colorScheme:e}=n;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:at(`${e}.500`,`${e}.200`)(n),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:at(`${e}.700`,`${e}.500`)(n)}}},RG={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},kG={ghost:LD,outline:EG,solid:AG,link:PG,unstyled:RG},LG={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},IG={baseStyle:TG,variants:kG,sizes:LG,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Vc,defineMultiStyleConfig:DG}=En(oH.keys),fy=Yt("card-bg"),ca=Yt("card-padding"),ID=Yt("card-shadow"),Sv=Yt("card-radius"),DD=Yt("card-border-width","0"),OD=Yt("card-border-color"),OG=Vc({container:{[fy.variable]:"colors.chakra-body-bg",backgroundColor:fy.reference,boxShadow:ID.reference,borderRadius:Sv.reference,color:"chakra-body-text",borderWidth:DD.reference,borderColor:OD.reference},body:{padding:ca.reference,flex:"1 1 0%"},header:{padding:ca.reference},footer:{padding:ca.reference}}),NG={sm:Vc({container:{[Sv.variable]:"radii.base",[ca.variable]:"space.3"}}),md:Vc({container:{[Sv.variable]:"radii.md",[ca.variable]:"space.5"}}),lg:Vc({container:{[Sv.variable]:"radii.xl",[ca.variable]:"space.7"}})},zG={elevated:Vc({container:{[ID.variable]:"shadows.base",_dark:{[fy.variable]:"colors.gray.700"}}}),outline:Vc({container:{[DD.variable]:"1px",[OD.variable]:"colors.chakra-border-color"}}),filled:Vc({container:{[fy.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[ca.variable]:0},header:{[ca.variable]:0},footer:{[ca.variable]:0}}},FG=DG({baseStyle:OG,variants:zG,sizes:NG,defaultProps:{variant:"elevated",size:"md"}}),tp=ur("close-button-size"),ih=ur("close-button-bg"),BG={w:[tp.reference],h:[tp.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[ih.variable]:"colors.blackAlpha.100",_dark:{[ih.variable]:"colors.whiteAlpha.100"}},_active:{[ih.variable]:"colors.blackAlpha.200",_dark:{[ih.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:ih.reference},UG={lg:{[tp.variable]:"sizes.10",fontSize:"md"},md:{[tp.variable]:"sizes.8",fontSize:"xs"},sm:{[tp.variable]:"sizes.6",fontSize:"2xs"}},VG={baseStyle:BG,sizes:UG,defaultProps:{size:"md"}},{variants:HG,defaultProps:jG}=Qh,WG={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},GG={baseStyle:WG,variants:HG,defaultProps:jG},$G={w:"100%",mx:"auto",maxW:"prose",px:"4"},XG={baseStyle:$G},qG={opacity:.6,borderColor:"inherit"},YG={borderStyle:"solid"},KG={borderStyle:"dashed"},ZG={solid:YG,dashed:KG},JG={baseStyle:qG,variants:ZG,defaultProps:{variant:"solid"}},{definePartsStyle:QG,defineMultiStyleConfig:e$}=En(N9.keys),t$={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},n$={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},r$={pt:"2",px:"4",pb:"5"},i$={fontSize:"1.25em"},s$=QG({container:t$,button:n$,panel:r$,icon:i$}),o$=e$({baseStyle:s$}),{definePartsStyle:vm,defineMultiStyleConfig:a$}=En(z9.keys),Gi=Yt("alert-fg"),va=Yt("alert-bg"),l$=vm({container:{bg:va.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Gi.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Gi.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function W2(n){const{theme:e,colorScheme:t}=n,r=Kd(`${t}.200`,.16)(e);return{light:`colors.${t}.100`,dark:r}}var c$=vm(n=>{const{colorScheme:e}=n,t=W2(n);return{container:{[Gi.variable]:`colors.${e}.500`,[va.variable]:t.light,_dark:{[Gi.variable]:`colors.${e}.200`,[va.variable]:t.dark}}}}),u$=vm(n=>{const{colorScheme:e}=n,t=W2(n);return{container:{[Gi.variable]:`colors.${e}.500`,[va.variable]:t.light,_dark:{[Gi.variable]:`colors.${e}.200`,[va.variable]:t.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Gi.reference}}}),d$=vm(n=>{const{colorScheme:e}=n,t=W2(n);return{container:{[Gi.variable]:`colors.${e}.500`,[va.variable]:t.light,_dark:{[Gi.variable]:`colors.${e}.200`,[va.variable]:t.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Gi.reference}}}),f$=vm(n=>{const{colorScheme:e}=n;return{container:{[Gi.variable]:"colors.white",[va.variable]:`colors.${e}.500`,_dark:{[Gi.variable]:"colors.gray.900",[va.variable]:`colors.${e}.200`},color:Gi.reference}}}),h$={subtle:c$,"left-accent":u$,"top-accent":d$,solid:f$},p$=a$({baseStyle:l$,variants:h$,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:ND,defineMultiStyleConfig:m$}=En(F9.keys),Od=Yt("avatar-border-color"),j_=Yt("avatar-bg"),g$={borderRadius:"full",border:"0.2em solid",[Od.variable]:"white",_dark:{[Od.variable]:"colors.gray.800"},borderColor:Od.reference},v$={[j_.variable]:"colors.gray.200",_dark:{[j_.variable]:"colors.whiteAlpha.400"},bgColor:j_.reference},tP=Yt("avatar-background"),y$=n=>{const{name:e,theme:t}=n,r=e?EH({string:e}):"colors.gray.400",i=MH(r)(t);let s="white";return i||(s="gray.800"),{bg:tP.reference,"&:not([data-loaded])":{[tP.variable]:r},color:s,[Od.variable]:"colors.white",_dark:{[Od.variable]:"colors.gray.800"},borderColor:Od.reference,verticalAlign:"top"}},x$=ND(n=>({badge:si(g$,n),excessLabel:si(v$,n),container:si(y$,n)}));function Va(n){const e=n!=="100%"?TD[n]:void 0;return ND({container:{width:n,height:n,fontSize:`calc(${e??n} / 2.5)`},excessLabel:{width:n,height:n},label:{fontSize:`calc(${e??n} / 2.5)`,lineHeight:n!=="100%"?e??n:void 0}})}var _$={"2xs":Va(4),xs:Va(6),sm:Va(8),md:Va(12),lg:Va(16),xl:Va(24),"2xl":Va(32),full:Va("100%")},b$=m$({baseStyle:x$,sizes:_$,defaultProps:{size:"md"}}),S$={Accordion:o$,Alert:p$,Avatar:b$,Badge:Qh,Breadcrumb:MG,Button:IG,Checkbox:dy,CloseButton:VG,Code:GG,Container:XG,Divider:JG,Drawer:YW,Editable:nG,Form:lG,FormError:pG,FormLabel:gG,Heading:xG,Input:tn,Kbd:Uj,Link:Hj,List:Xj,Menu:rW,Modal:pW,NumberInput:wW,PinInput:CW,Popover:FW,Progress:$7,Radio:sj,Select:fj,Skeleton:pj,SkipLink:gj,Slider:Cj,Spinner:Rj,Stat:Fj,Switch:HH,Table:YH,Tabs:u7,Tag:w7,Textarea:O7,Tooltip:F7,Card:FG},zD={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},FD={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},BD="ltr",UD={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},G2={semanticTokens:zD,direction:BD,...ED,components:S$,styles:FD,config:UD};({...ED});function Fh(n){return typeof n=="function"}function w$(...n){return e=>n.reduce((t,r)=>r(t),e)}var M$=n=>function(...t){let r=[...t],i=t[t.length-1];return f9(i)&&r.length>1?r=r.slice(0,r.length-1):i=n,w$(...r.map(s=>o=>Fh(s)?s(o):E$(o,s)))(i)},T$=M$(G2);function E$(...n){return ys({},...n,VD)}function VD(n,e,t,r){if((Fh(n)||Fh(e))&&Object.prototype.hasOwnProperty.call(r,t))return(...i)=>{const s=Fh(n)?n(...i):n,o=Fh(e)?e(...i):e;return ys({},s,o,VD)}}function C$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var A$=C$();function P$(n,e){const t={};return Object.keys(n).forEach(r=>{e.includes(r)||(t[r]=n[r])}),t}function R$(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}var k$=n=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=n(r,i,s,o);return a.set(i,l),l}},HD=k$(R$);function jD(n,e){const t={};return Object.keys(n).forEach(r=>{const i=n[r];e(i,r,n)&&(t[r]=i)}),t}var WD=n=>jD(n,e=>e!=null);function L$(n){return typeof n=="function"}function hy(n,...e){return L$(n)?n(...e):n}var I$=typeof Element<"u",D$=typeof Map=="function",O$=typeof Set=="function",N$=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wv(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!wv(n[r],e[r]))return!1;return!0}var s;if(D$&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!wv(r.value[1],e.get(r.value[0])))return!1;return!0}if(O$&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(N$&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(I$&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!wv(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}var z$=function(e,t){try{return wv(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};function GD(n,e={}){var t;const{styleConfig:r,...i}=e,{theme:s,colorMode:o}=hD(),a=n?HD(s,`components.${n}`):void 0,l=r||a,c=ys({theme:s,colorMode:o},(t=l==null?void 0:l.defaultProps)!=null?t:{},WD(P$(i,["children"]))),u=L.useRef({});if(l){const p=u9(l)(c);z$(u.current,p)||(u.current=p)}return u.current}function au(n,e={}){return GD(n,e)}function $2(n,e={}){return GD(n,e)}var F$=new Set([...JV,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),B$=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function U$(n){return B$.has(n)||!F$.has(n)}function V$(n){const e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function H$(n,...e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");const t={...n};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in t&&delete t[i],t[i]=r[i]);return t}var j$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,W$=ZL(function(n){return j$.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),G$=W$,$$=function(e){return e!=="theme"},nP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?G$:$$},rP=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},X$=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return nI(t,r,i),bB(function(){return rI(t,r,i)}),null},q$=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=rP(e,t,r),l=a||nP(i),c=!l("as");return function(){var u=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{h.push(u[0][0]);for(var p=u.length,m=1;m<p;m++)h.push(u[m],u[0][m])}var v=aI(function(g,x,_){var b=c&&g.as||i,S="",M=[],E=g;if(g.theme==null){E={};for(var P in g)E[P]=g[P];E.theme=L.useContext(xp)}typeof g.className=="string"?S=pB(x.registered,M,g.className):g.className!=null&&(S=g.className+" ");var R=GM(h.concat(M),x.registered,E);S+=x.key+"-"+R.name,o!==void 0&&(S+=" "+o);var C=c&&a===void 0?nP(b):l,k={};for(var D in g)c&&D==="as"||C(D)&&(k[D]=g[D]);return k.className=S,k.ref=_,L.createElement(L.Fragment,null,L.createElement(X$,{cache:x,serialized:R,isStringTag:typeof b=="string"}),L.createElement(b,k))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(g,x){return n(g,xl({},t,x,{shouldForwardProp:rP(v,x,!0)})).apply(void 0,h)},v}},Y$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],py=q$.bind();Y$.forEach(function(n){py[n]=py(n)});var iP,K$=(iP=py.default)!=null?iP:py,Z$=({baseStyle:n})=>e=>{const{theme:t,css:r,__css:i,sx:s,...o}=e,a=jD(o,(h,p)=>e9(p)),l=hy(n,e),c=H$({},i,l,WD(a),s),u=SD(c)(e.theme);return r?[u,r]:u};function W_(n,e){const{baseStyle:t,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=U$);const i=Z$({baseStyle:t}),s=K$(n,r)(i);return yi.forwardRef(function(l,c){const{colorMode:u,forced:h}=cr();return yi.createElement(s,{ref:c,"data-theme":h?u:void 0,...l})})}function J$(){const n=new Map;return new Proxy(W_,{apply(e,t,r){return W_(...r)},get(e,t){return n.has(t)||n.set(t,W_(t)),n.get(t)}})}var qt=J$();function on(n){return L.forwardRef(n)}function Q$(n={}){const{strict:e=!0,errorMessage:t="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=n,i=L.createContext(void 0);i.displayName=r;function s(){var o;const a=L.useContext(i);if(!a&&e){const l=new Error(t);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}function eX(n){const{cssVarsRoot:e,theme:t,children:r}=n,i=L.useMemo(()=>ZV(t),[t]);return F.jsxs(MB,{theme:i,children:[F.jsx(tX,{root:e}),r]})}function tX({root:n=":host, :root"}){const e=[n,"[data-theme]"].join(",");return F.jsx(Yy,{styles:t=>({[e]:t.__cssVars})})}Q$({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function nX(){const{colorMode:n}=cr();return F.jsx(Yy,{styles:e=>{const t=HD(e,"styles.global"),r=hy(t,{theme:e,colorMode:n});return r?SD(r)(e):void 0}})}var $D=L.createContext({getDocument(){return document},getWindow(){return window}});$D.displayName="EnvironmentContext";function XD(n){const{children:e,environment:t,disabled:r}=n,i=L.useRef(null),s=L.useMemo(()=>t||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[t]),o=!r||!t;return F.jsxs($D.Provider,{value:s,children:[e,o&&F.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}XD.displayName="EnvironmentProvider";var rX=n=>{const{children:e,colorModeManager:t,portalZIndex:r,resetCSS:i=!0,theme:s={},environment:o,cssVarsRoot:a,disableEnvironment:l}=n,c=F.jsx(XD,{environment:o,disabled:l,children:e});return F.jsx(eX,{theme:s,cssVarsRoot:a,children:F.jsxs(fD,{colorModeManager:t,options:s.config,children:[i?F.jsx(AB,{}):F.jsx(CB,{}),F.jsx(nX,{}),r?F.jsx(cI,{zIndex:r,children:c}):c]})})},iX=(n,e)=>n.find(t=>t.id===e);function sP(n,e){const t=qD(n,e),r=t?n[t].findIndex(i=>i.id===e):-1;return{position:t,index:r}}function qD(n,e){for(const[t,r]of Object.entries(n))if(iX(r,e))return t}function sX(n){const e=n.includes("right"),t=n.includes("left");let r="center";return e&&(r="flex-end"),t&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function oX(n){const t=n==="top"||n==="bottom"?"0 auto":void 0,r=n.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=n.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=n.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=n.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:t,top:r,bottom:i,right:s,left:o}}function aX(n,e=[]){const t=L.useRef(n);return L.useEffect(()=>{t.current=n}),L.useCallback((...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},e)}function lX(n,e){const t=aX(n);L.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{t()},e),()=>{r&&window.clearTimeout(r)}},[e,t])}function oP(n,e){const t=L.useRef(!1),r=L.useRef(!1);L.useEffect(()=>{if(t.current&&r.current)return n();r.current=!0},e),L.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[])}const X2=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),gx=L.createContext({});function cX(){return L.useContext(gx).visualElement}const vf=L.createContext(null),vx=typeof document<"u",my=vx?L.useLayoutEffect:L.useEffect,YD=L.createContext({strict:!1});function uX(n,e,t,r){const i=cX(),s=L.useContext(YD),o=L.useContext(vf),a=L.useContext(X2).reducedMotion,l=L.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return my(()=>{c&&c.render()}),(window.HandoffAppearAnimations?my:L.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function gd(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function dX(n,e,t){return L.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):gd(t)&&(t.current=r))},[e])}function jp(n){return typeof n=="string"||Array.isArray(n)}function yx(n){return typeof n=="object"&&typeof n.start=="function"}const fX=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function xx(n){return yx(n.animate)||fX.some(e=>jp(n[e]))}function KD(n){return Boolean(xx(n)||n.variants)}function hX(n,e){if(xx(n)){const{initial:t,animate:r}=n;return{initial:t===!1||jp(t)?t:void 0,animate:jp(r)?r:void 0}}return n.inherit!==!1?e:{}}function pX(n){const{initial:e,animate:t}=hX(n,L.useContext(gx));return L.useMemo(()=>({initial:e,animate:t}),[aP(e),aP(t)])}function aP(n){return Array.isArray(n)?n.join(" "):n}const Uo=n=>({isEnabled:e=>n.some(t=>!!e[t])}),Wp={measureLayout:Uo(["layout","layoutId","drag"]),animation:Uo(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Uo(["exit"]),drag:Uo(["drag","dragControls"]),focus:Uo(["whileFocus"]),hover:Uo(["whileHover","onHoverStart","onHoverEnd"]),tap:Uo(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Uo(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Uo(["whileInView","onViewportEnter","onViewportLeave"])};function mX(n){for(const e in n)e==="projectionNodeConstructor"?Wp.projectionNodeConstructor=n[e]:Wp[e].Component=n[e]}function _x(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const np={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let gX=1;function vX(){return _x(()=>{if(np.hasEverUpdated)return gX++})}const q2=L.createContext({});class yX extends yi.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const ZD=L.createContext({}),xX=Symbol.for("motionComponentSymbol");function _X({preloadedFeatures:n,createVisualElement:e,projectionNodeConstructor:t,useRender:r,useVisualState:i,Component:s}){n&&mX(n);function o(l,c){const u={...L.useContext(X2),...l,layoutId:bX(l)},{isStatic:h}=u;let p=null;const m=pX(l),v=h?void 0:vX(),g=i(l,h);if(!h&&vx){m.visualElement=uX(s,g,u,e);const x=L.useContext(ZD);m.visualElement&&(p=m.visualElement.loadFeatures(u,L.useContext(YD).strict,n,v,t||Wp.projectionNodeConstructor,x))}return L.createElement(yX,{visualElement:m.visualElement,props:u},p,L.createElement(gx.Provider,{value:m},r(s,l,v,dX(g,m.visualElement,c),g,h,m.visualElement)))}const a=L.forwardRef(o);return a[xX]=s,a}function bX({layoutId:n}){const e=L.useContext(q2).id;return e&&n!==void 0?e+"-"+n:n}function SX(n){function e(r,i={}){return _X(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const wX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y2(n){return typeof n!="string"||n.includes("-")?!1:!!(wX.indexOf(n)>-1||/[A-Z]/.test(n))}const gy={};function MX(n){Object.assign(gy,n)}const vy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yf=new Set(vy);function JD(n,{layout:e,layoutId:t}){return yf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!gy[n]||n==="opacity")}const Ti=n=>!!(n!=null&&n.getVelocity),TX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EX=(n,e)=>vy.indexOf(n)-vy.indexOf(e);function CX({transform:n,transformKeys:e},{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},i,s){let o="";e.sort(EX);for(const a of e)o+=`${TX[a]||a}(${n[a]}) `;return t&&!n.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(n,i?"":o):r&&i&&(o="none"),o}function QD(n){return n.startsWith("--")}const AX=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Zd=(n,e,t)=>Math.min(Math.max(t,n),e),lu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},rp={...lu,transform:n=>Zd(0,1,n)},u0={...lu,default:1},ip=n=>Math.round(n*1e5)/1e5,Gp=/(-)?([\d]*\.?[\d])+/g,hw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,PX=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ym(n){return typeof n=="string"}const xm=n=>({test:e=>ym(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),qa=xm("deg"),wo=xm("%"),ut=xm("px"),RX=xm("vh"),kX=xm("vw"),lP={...wo,parse:n=>wo.parse(n)/100,transform:n=>wo.transform(n*100)},cP={...lu,transform:Math.round},e5={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,size:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,rotate:qa,rotateX:qa,rotateY:qa,rotateZ:qa,scale:u0,scaleX:u0,scaleY:u0,scaleZ:u0,skew:qa,skewX:qa,skewY:qa,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:rp,originX:lP,originY:lP,originZ:ut,zIndex:cP,fillOpacity:rp,strokeOpacity:rp,numOctaves:cP};function K2(n,e,t,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=n;a.length=0;let c=!1,u=!1,h=!0;for(const p in e){const m=e[p];if(QD(p)){s[p]=m;continue}const v=e5[p],g=AX(m,v);if(yf.has(p)){if(c=!0,o[p]=g,a.push(p),!h)continue;m!==(v.default||0)&&(h=!1)}else p.startsWith("origin")?(u=!0,l[p]=g):i[p]=g}if(e.transform||(c||r?i.transform=CX(n,t,h,r):i.transform&&(i.transform="none")),u){const{originX:p="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${m} ${v}`}}const Z2=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function t5(n,e,t){for(const r in e)!Ti(e[r])&&!JD(r,t)&&(n[r]=e[r])}function LX({transformTemplate:n},e,t){return L.useMemo(()=>{const r=Z2();return K2(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function IX(n,e,t){const r=n.style||{},i={};return t5(i,r,n),Object.assign(i,LX(n,e,t)),n.transformValues?n.transformValues(i):i}function DX(n,e,t){const r={},i=IX(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const OX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function eu(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||OX.has(n)}let n5=n=>!eu(n);function NX(n){n&&(n5=e=>e.startsWith("on")?!eu(e):n(e))}try{NX(require("@emotion/is-prop-valid").default)}catch{}function zX(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(n5(i)||t===!0&&eu(i)||!e&&!eu(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function uP(n,e,t){return typeof n=="string"?n:ut.transform(e+t*n)}function FX(n,e,t){const r=uP(e,n.x,n.width),i=uP(t,n.y,n.height);return`${r} ${i}`}const BX={offset:"stroke-dashoffset",array:"stroke-dasharray"},UX={offset:"strokeDashoffset",array:"strokeDasharray"};function VX(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?BX:UX;n[s.offset]=ut.transform(-r);const o=ut.transform(e),a=ut.transform(t);n[s.array]=`${o} ${a}`}function J2(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,h){if(K2(n,l,c,h),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:v}=n;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=FX(v,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&VX(p,s,o,a,!1)}const r5=()=>({...Z2(),attrs:{}}),Q2=n=>typeof n=="string"&&n.toLowerCase()==="svg";function HX(n,e,t,r){const i=L.useMemo(()=>{const s=r5();return J2(s,e,{enableHardwareAcceleration:!1},Q2(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};t5(s,n.style,n),i.style={...s,...i.style}}return i}function jX(n=!1){return(t,r,i,s,{latestValues:o},a)=>{const c=(Y2(t)?HX:DX)(r,o,a,t),h={...zX(r,typeof t=="string",n),...c,ref:s},{children:p}=r,m=L.useMemo(()=>Ti(p)?p.get():p,[p]);return i&&(h["data-projection-id"]=i),L.createElement(t,{...h,children:m})}}const eT=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function i5(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const s5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o5(n,e,t,r){i5(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(s5.has(i)?i:eT(i),e.attrs[i])}function tT(n,e){const{style:t}=n,r={};for(const i in t)(Ti(t[i])||e.style&&Ti(e.style[i])||JD(i,n))&&(r[i]=t[i]);return r}function a5(n,e){const t=tT(n,e);for(const r in n)if(Ti(n[r])||Ti(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[i]=n[r]}return t}function nT(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const yy=n=>Array.isArray(n),WX=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),GX=n=>yy(n)?n[n.length-1]||0:n;function Mv(n){const e=Ti(n)?n.get():n;return WX(e)?e.toValue():e}function $X({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:XX(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const l5=n=>(e,t)=>{const r=L.useContext(gx),i=L.useContext(vf),s=()=>$X(n,e,r,i);return t?s():_x(s)};function XX(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=Mv(s[p]);let{initial:o,animate:a}=n;const l=xx(n),c=KD(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!yx(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=nT(n,m);if(!v)return;const{transitionEnd:g,transition:x,..._}=v;for(const b in _){let S=_[b];if(Array.isArray(S)){const M=u?S.length-1:0;S=S[M]}S!==null&&(i[b]=S)}for(const b in g)i[b]=g[b]}),i}const qX={useVisualState:l5({scrapeMotionValuesFromProps:a5,createRenderState:r5,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}J2(t,r,{enableHardwareAcceleration:!1},Q2(e.tagName),n.transformTemplate),o5(e,t)}})},YX={useVisualState:l5({scrapeMotionValuesFromProps:tT,createRenderState:Z2})};function KX(n,{forwardMotionProps:e=!1},t,r,i){return{...Y2(n)?qX:YX,preloadedFeatures:t,useRender:jX(e),createVisualElement:r,projectionNodeConstructor:i,Component:n}}var _n;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(_n||(_n={}));function Hc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function xy(n,e,t,r){L.useEffect(()=>{const i=n.current;if(t&&i)return Hc(i,e,t,r)},[n,e,t,r])}function ZX({whileFocus:n,visualElement:e}){const t=L.useRef(!1),{animationState:r}=e,i=L.useCallback(()=>{let o=!1;try{o=e.current.matches(":focus-visible")}catch{o=!0}!o||!r||(r.setActive(_n.Focus,!0),t.current=!0)},[r]),s=L.useCallback(()=>{!t.current||!r||(r.setActive(_n.Focus,!1),t.current=!1)},[r]);xy(e,"focus",n?i:void 0),xy(e,"blur",n?s:void 0)}const c5=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function bx(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const u5=n=>e=>c5(e)&&n(e,bx(e));function Nd(n,e,t,r){return Hc(n,e,u5(t),r)}function _y(n,e,t,r){return xy(n,e,t&&u5(t),r)}function d5(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const dP=d5("dragHorizontal"),fP=d5("dragVertical");function f5(n){let e=!1;if(n==="y")e=fP();else if(n==="x")e=dP();else{const t=dP(),r=fP();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function h5(){const n=f5(!0);return n?(n(),!1):!0}function hP(n,e,t,r){return(i,s)=>{i.type==="touch"||h5()||(t&&n.animationState&&n.animationState.setActive(_n.Hover,e),r&&r(i,s))}}function JX({onHoverStart:n,onHoverEnd:e,whileHover:t,visualElement:r}){_y(r,"pointerenter",L.useMemo(()=>n||t?hP(r,!0,Boolean(t),n):void 0,[n,Boolean(t),r]),{passive:!n}),_y(r,"pointerleave",L.useMemo(()=>e||t?hP(r,!1,Boolean(t),e):void 0,[n,Boolean(t),r]),{passive:!e})}const p5=(n,e)=>e?n===e?!0:p5(n,e.parentElement):!1;function rT(n){return L.useEffect(()=>()=>n(),[])}const QX=(n,e)=>t=>e(n(t)),Sx=(...n)=>n.reduce(QX);function G_(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,bx(t))}function eq({onTap:n,onTapStart:e,onTapCancel:t,whileTap:r,visualElement:i,...s}){const o=n||e||t||r,a=L.useRef(!1),l=L.useRef(null),c={passive:!(e||n||t||s.onPointerDown)};function u(){l.current&&l.current(),l.current=null}function h(){return u(),a.current=!1,i.getProps().whileTap&&i.animationState&&i.animationState.setActive(_n.Tap,!1),!h5()}function p(b,S){var M,E,P,R;h()&&(p5(i.current,b.target)?(R=(P=i.getProps()).onTap)===null||R===void 0||R.call(P,b,S):(E=(M=i.getProps()).onTapCancel)===null||E===void 0||E.call(M,b,S))}function m(b,S){var M,E;h()&&((E=(M=i.getProps()).onTapCancel)===null||E===void 0||E.call(M,b,S))}function v(b,S){var M;const E=i.getProps();E.whileTap&&i.animationState&&i.animationState.setActive(_n.Tap,!0),(M=E.onTapStart)===null||M===void 0||M.call(E,b,S)}const g=[Boolean(e),Boolean(n),Boolean(r),i],x=L.useCallback((b,S)=>{u(),!a.current&&(a.current=!0,l.current=Sx(Nd(window,"pointerup",p,c),Nd(window,"pointercancel",m,c)),v(b,S))},g);_y(i,"pointerdown",o?x:void 0,c);const _=L.useCallback(()=>{const b=Hc(i.current,"keydown",M=>{M.key!=="Enter"||a.current||(a.current=!0,l.current=Hc(i.current,"keyup",()=>{M.key!=="Enter"||!h()||G_("up",i.getProps().onTap)},c),G_("down",v))}),S=Hc(i.current,"blur",()=>{b(),S(),a.current&&G_("cancel",m)})},g);xy(i,"focus",o?_:void 0),rT(u)}const pw=new WeakMap,$_=new WeakMap,tq=n=>{const e=pw.get(n.target);e&&e(n)},nq=n=>{n.forEach(tq)};function rq({root:n,...e}){const t=n||document;$_.has(t)||$_.set(t,{});const r=$_.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nq,{root:n,...e})),r[i]}function iq(n,e,t){const r=rq(e);return pw.set(n,t),r.observe(n),()=>{pw.delete(n),r.unobserve(n)}}function sq({visualElement:n,whileInView:e,onViewportEnter:t,onViewportLeave:r,viewport:i={}}){const s=L.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||t||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?lq:aq)(o,s.current,n,i)}const oq={some:0,all:1};function aq(n,e,t,{root:r,margin:i,amount:s="some",once:o}){L.useEffect(()=>{if(!n||!t.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:oq[s]},l=c=>{const{isIntersecting:u}=c;if(e.isInView===u||(e.isInView=u,o&&!u&&e.hasEnteredView))return;u&&(e.hasEnteredView=!0),t.animationState&&t.animationState.setActive(_n.InView,u);const h=t.getProps(),p=u?h.onViewportEnter:h.onViewportLeave;p&&p(c)};return iq(t.current,a,l)},[n,r,i,s])}function lq(n,e,t,{fallback:r=!0}){L.useEffect(()=>{!n||!r||requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=t.getProps();i&&i(null),t.animationState&&t.animationState.setActive(_n.InView,!0)})},[n])}const ol=n=>e=>(n(e),null),cq={inView:ol(sq),tap:ol(eq),focus:ol(ZX),hover:ol(JX)};function m5(){const n=L.useContext(vf);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=L.useId();return L.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function uq(){return dq(L.useContext(vf))}function dq(n){return n===null?!0:n.isPresent}function g5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const fq=n=>/^\-?\d*\.?\d+$/.test(n),hq=n=>/^0[^.\s]+$/.test(n),ua={delta:0,timestamp:0},v5=1/60*1e3,pq=typeof performance<"u"?()=>performance.now():()=>Date.now(),y5=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(pq()),v5);function mq(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&i,p=h?e:t;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const gq=40;let mw=!0,$p=!1,gw=!1;const _m=["read","update","preRender","render","postRender"],wx=_m.reduce((n,e)=>(n[e]=mq(()=>$p=!0),n),{}),$r=_m.reduce((n,e)=>{const t=wx[e];return n[e]=(r,i=!1,s=!1)=>($p||yq(),t.schedule(r,i,s)),n},{}),Sl=_m.reduce((n,e)=>(n[e]=wx[e].cancel,n),{}),X_=_m.reduce((n,e)=>(n[e]=()=>wx[e].process(ua),n),{}),vq=n=>wx[n].process(ua),x5=n=>{$p=!1,ua.delta=mw?v5:Math.max(Math.min(n-ua.timestamp,gq),1),ua.timestamp=n,gw=!0,_m.forEach(vq),gw=!1,$p&&(mw=!1,y5(x5))},yq=()=>{$p=!0,mw=!0,gw||y5(x5)};function iT(n,e){n.indexOf(e)===-1&&n.push(e)}function sT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class oT{constructor(){this.subscriptions=[]}add(e){return iT(this.subscriptions,e),()=>sT(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aT(n,e){return e?n*(1e3/e):0}const xq=n=>!isNaN(parseFloat(n));class _q{constructor(e,t={}){this.version="9.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ua;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,$r.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>$r.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=xq(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oT);const r=this.events[e].add(t);return e==="change"?()=>{r(),$r.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?aT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jd(n,e){return new _q(n,e)}const lT=(n,e)=>t=>Boolean(ym(t)&&PX.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),_5=(n,e,t)=>r=>{if(!ym(r))return r;const[i,s,o,a]=r.match(Gp);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},bq=n=>Zd(0,255,n),q_={...lu,transform:n=>Math.round(bq(n))},Rc={test:lT("rgb","red"),parse:_5("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+q_.transform(n)+", "+q_.transform(e)+", "+q_.transform(t)+", "+ip(rp.transform(r))+")"};function Sq(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vw={test:lT("#"),parse:Sq,transform:Rc.transform},vd={test:lT("hsl","hue"),parse:_5("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+wo.transform(ip(e))+", "+wo.transform(ip(t))+", "+ip(rp.transform(r))+")"},ei={test:n=>Rc.test(n)||vw.test(n)||vd.test(n),parse:n=>Rc.test(n)?Rc.parse(n):vd.test(n)?vd.parse(n):vw.parse(n),transform:n=>ym(n)?n:n.hasOwnProperty("red")?Rc.transform(n):vd.transform(n)},b5="${c}",S5="${n}";function wq(n){var e,t;return isNaN(n)&&ym(n)&&(((e=n.match(Gp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(hw))===null||t===void 0?void 0:t.length)||0)>0}function by(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,r=0;const i=n.match(hw);i&&(t=i.length,n=n.replace(hw,b5),e.push(...i.map(ei.parse)));const s=n.match(Gp);return s&&(r=s.length,n=n.replace(Gp,S5),e.push(...s.map(lu.parse))),{values:e,numColors:t,numNumbers:r,tokenised:n}}function w5(n){return by(n).values}function M5(n){const{values:e,numColors:t,tokenised:r}=by(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?b5:S5,a<t?ei.transform(s[a]):ip(s[a]));return o}}const Mq=n=>typeof n=="number"?0:n;function Tq(n){const e=w5(n);return M5(n)(e.map(Mq))}const wl={test:wq,parse:w5,createTransformer:M5,getAnimatableNone:Tq},Eq=new Set(["brightness","contrast","saturate","opacity"]);function Cq(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Gp)||[];if(!r)return n;const i=t.replace(r,"");let s=Eq.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Aq=/([a-z-]*)\(.*?\)/g,yw={...wl,getAnimatableNone:n=>{const e=n.match(Aq);return e?e.map(Cq).join(" "):n}},Pq={...e5,color:ei,backgroundColor:ei,outlineColor:ei,fill:ei,stroke:ei,borderColor:ei,borderTopColor:ei,borderRightColor:ei,borderBottomColor:ei,borderLeftColor:ei,filter:yw,WebkitFilter:yw},cT=n=>Pq[n];function uT(n,e){var t;let r=cT(n);return r!==yw&&(r=wl),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}const T5=n=>e=>e.test(n),Rq={test:n=>n==="auto",parse:n=>n},E5=[lu,ut,wo,qa,kX,RX,Rq],sh=n=>E5.find(T5(n)),kq=[...E5,ei,wl],Lq=n=>kq.find(T5(n));function Iq(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Dq(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Mx(n,e,t){const r=n.getProps();return nT(r,e,t!==void 0?t:r.custom,Iq(n),Dq(n))}function Oq(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Jd(t))}function Nq(n,e){const t=Mx(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=GX(s[o]);Oq(n,o,a)}}function zq(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(fq(u)||hq(u))?u=parseFloat(u):!Lq(u)&&wl.test(c)&&(u=uT(l,c)),n.addValue(l,Jd(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Fq(n,e){return e?(e[n]||e.default||e).from:void 0}function Bq(n,e,t){var r;const i={};for(const s in n){const o=Fq(s,e);i[s]=o!==void 0?o:(r=t.getValue(s))===null||r===void 0?void 0:r.get()}return i}function Sy(n){return Boolean(Ti(n)&&n.add)}const Uq="framerAppearId",Vq="data-"+eT(Uq);var Hq=function(){},wy=function(){};const Tv=n=>n*1e3,jq={current:!1},dT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,fT=n=>e=>1-n(1-e),hT=n=>n*n,Wq=fT(hT),pT=dT(hT),Hn=(n,e,t)=>-t*n+t*e+n;function Y_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Gq({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=Y_(l,a,n+1/3),s=Y_(l,a,n),o=Y_(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const K_=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},$q=[vw,Rc,vd],Xq=n=>$q.find(e=>e.test(n));function pP(n){const e=Xq(n);let t=e.parse(n);return e===vd&&(t=Gq(t)),t}const C5=(n,e)=>{const t=pP(n),r=pP(e),i={...t};return s=>(i.red=K_(t.red,r.red,s),i.green=K_(t.green,r.green,s),i.blue=K_(t.blue,r.blue,s),i.alpha=Hn(t.alpha,r.alpha,s),Rc.transform(i))};function A5(n,e){return typeof n=="number"?t=>Hn(n,e,t):ei.test(n)?C5(n,e):R5(n,e)}const P5=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>A5(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},qq=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=A5(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},R5=(n,e)=>{const t=wl.createTransformer(e),r=by(n),i=by(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Sx(P5(r.values,i.values),t):o=>`${o>0?e:n}`},My=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},mP=(n,e)=>t=>Hn(n,e,t);function Yq(n){return typeof n=="number"?mP:typeof n=="string"?ei.test(n)?C5:R5:Array.isArray(n)?P5:typeof n=="object"?qq:mP}function Kq(n,e,t){const r=[],i=t||Yq(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Sx(l,a)}r.push(a)}return r}function k5(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;wy(s===e.length),wy(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Kq(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const h=My(n[u],n[u+1],c);return o[u](h)};return t?c=>l(Zd(n[0],n[s-1],c)):l}const mT=n=>n,L5=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Zq=1e-7,Jq=12;function Qq(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=L5(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Zq&&++a<Jq);return o}function I5(n,e,t,r){if(n===e&&t===r)return mT;const i=s=>Qq(s,0,1,n,t);return s=>s===0||s===1?s:L5(i(s),e,r)}const D5=n=>1-Math.sin(Math.acos(n)),gT=fT(D5),eY=dT(gT),O5=I5(.33,1.53,.69,.99),vT=fT(O5),tY=dT(vT),nY=n=>(n*=2)<1?.5*vT(n):.5*(2-Math.pow(2,-10*(n-1))),rY={linear:mT,easeIn:hT,easeInOut:pT,easeOut:Wq,circIn:D5,circInOut:eY,circOut:gT,backIn:vT,backInOut:tY,backOut:O5,anticipate:nY},gP=n=>{if(Array.isArray(n)){wy(n.length===4);const[e,t,r,i]=n;return I5(e,t,r,i)}else if(typeof n=="string")return rY[n];return n},iY=n=>Array.isArray(n)&&typeof n[0]!="number";function sY(n,e){return n.map(()=>e||pT).splice(0,n.length-1)}function oY(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function aY(n,e){return n.map(t=>t*e)}function xw({keyframes:n,ease:e=pT,times:t,duration:r=300}){n=[...n];const i=iY(e)?e.map(gP):gP(e),s={done:!1,value:n[0]},o=aY(t&&t.length===n.length?t:oY(n),r);function a(){return k5(o,n,{ease:Array.isArray(i)?i:sY(n,i)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=r,s),flipTarget:()=>{n.reverse(),l=a()}}}const Z_=.001,lY=.01,vP=10,cY=.05,uY=1;function dY({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Hq(n<=vP*1e3);let o=1-e;o=Zd(cY,uY,o),n=Zd(lY,vP,n/1e3),o<1?(i=c=>{const u=c*o,h=u*n,p=u-t,m=_w(c,o),v=Math.exp(-h);return Z_-p/m*v},s=c=>{const h=c*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-h),g=_w(Math.pow(c,2),o);return(-i(c)+Z_>0?-1:1)*((p-m)*v)/g}):(i=c=>{const u=Math.exp(-c*n),h=(c-t)*n+1;return-Z_+u*h},s=c=>{const u=Math.exp(-c*n),h=(t-c)*(n*n);return u*h});const a=5/n,l=hY(i,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const fY=12;function hY(n,e,t){let r=t;for(let i=1;i<fY;i++)r=r-n(r)/e(r);return r}function _w(n,e){return n*Math.sqrt(1-e*e)}const pY=["duration","bounce"],mY=["stiffness","damping","mass"];function yP(n,e){return e.some(t=>n[t]!==void 0)}function gY(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!yP(n,mY)&&yP(n,pY)){const t=dY(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const vY=5;function N5({keyframes:n,restDelta:e,restSpeed:t,...r}){let i=n[0],s=n[n.length-1];const o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:h,isResolvedFromDuration:p}=gY(r);let m=yY,v=u?-(u/1e3):0;const g=l/(2*Math.sqrt(a*c));function x(){const _=s-i,b=Math.sqrt(a/c)/1e3,S=Math.abs(_)<5;if(t||(t=S?.01:2),e||(e=S?.005:.5),g<1){const M=_w(b,g);m=E=>{const P=Math.exp(-g*b*E);return s-P*((v+g*b*_)/M*Math.sin(M*E)+_*Math.cos(M*E))}}else if(g===1)m=M=>s-Math.exp(-b*M)*(_+(v+b*_)*M);else{const M=b*Math.sqrt(g*g-1);m=E=>{const P=Math.exp(-g*b*E),R=Math.min(M*E,300);return s-P*((v+g*b*_)*Math.sinh(R)+M*_*Math.cosh(R))/M}}}return x(),{next:_=>{const b=m(_);if(p)o.done=_>=h;else{let S=v;if(_!==0)if(g<1){const P=Math.max(0,_-vY);S=aT(b-m(P),_-P)}else S=0;const M=Math.abs(S)<=t,E=Math.abs(s-b)<=e;o.done=M&&E}return o.value=o.done?s:b,o},flipTarget:()=>{v=-v,[i,s]=[s,i],x()}}}N5.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const yY=n=>0;function xY({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const c=o+l,u=s===void 0?c:s(c);return u!==c&&(l=u-o),{next:h=>{const p=-l*Math.exp(-h/r);return a.done=!(p>i||p<-i),a.value=a.done?u:u+p,a},flipTarget:()=>{}}}const _Y={decay:xY,keyframes:xw,tween:xw,spring:N5};function z5(n,e,t=0){return n-e-t}function bY(n,e=0,t=0,r=!0){return r?z5(e+-n,e,t):e-(n-e)+t}function SY(n,e,t,r){return r?n>=e+t:n<=-t}const wY=n=>{const e=({delta:t})=>n(t);return{start:()=>$r.update(e,!0),stop:()=>Sl.update(e)}};function Ty({duration:n,driver:e=wY,elapsed:t=0,repeat:r=0,repeatType:i="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:h,onUpdate:p,type:m="keyframes",...v}){var g,x;const _=t;let b,S=0,M=n,E=!1,P=!0,R;const C=_Y[o.length>2?"keyframes":m]||xw,k=o[0],D=o[o.length-1];let $={done:!1,value:k};!((x=(g=C).needsInterpolation)===null||x===void 0)&&x.call(g,k,D)&&(R=k5([0,100],[k,D],{clamp:!1}),o=[0,100]);const le=C({...v,duration:n,keyframes:o});function Y(){S++,i==="reverse"?(P=S%2===0,t=bY(t,M,s,P)):(t=z5(t,M,s),i==="mirror"&&le.flipTarget()),E=!1,h&&h()}function I(){b&&b.stop(),u&&u()}function H(oe){P||(oe=-oe),t+=oe,E||($=le.next(Math.max(0,t)),R&&($.value=R($.value)),E=P?$.done:t<=0),p&&p($.value),E&&(S===0&&(M=M!==void 0?M:t),S<r?SY(t,M,s,P)&&Y():I())}function K(){l&&l(),b=e(H),b.start()}return a&&K(),{stop:()=>{c&&c(),b&&b.stop()},set currentTime(oe){t=_,H(oe)},sample:oe=>{t=_;const N=n&&typeof n=="number"?Math.max(n*.5,50):50;let X=0;for(H(0);X<=oe;){const J=oe-X;H(Math.min(J,N)),X+=N}return $}}}function MY(n){return!n||Array.isArray(n)||typeof n=="string"&&F5[n]}const Bh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,F5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bh([0,.65,.55,1]),circOut:Bh([.55,0,1,.45]),backIn:Bh([.31,.01,.66,-.59]),backOut:Bh([.33,1.53,.69,.99])};function TY(n){if(n)return Array.isArray(n)?Bh(n):F5[n]}function EY(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:r,duration:i,easing:TY(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const xP={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},J_={},B5={};for(const n in xP)B5[n]=()=>(J_[n]===void 0&&(J_[n]=xP[n]()),J_[n]);function CY(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const AY=new Set(["opacity"]),d0=10;function PY(n,e,{onUpdate:t,onComplete:r,...i}){if(!(B5.waapi()&&AY.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=i;if(i.type==="spring"||!MY(i.ease)){if(i.repeat===1/0)return;const h=Ty({...i,elapsed:0});let p={done:!1,value:o[0]};const m=[];let v=0;for(;!p.done&&v<2e4;)p=h.sample(v),m.push(p.value),v+=d0;o=m,a=v-d0,c="linear"}const u=EY(n.owner.current,e,o,{...i,delay:-l,duration:a,ease:c});return u.onfinish=()=>{n.set(CY(o,i)),$r.update(()=>u.cancel()),r&&r()},{get currentTime(){return u.currentTime||0},set currentTime(h){u.currentTime=h},stop:()=>{const{currentTime:h}=u;if(h){const p=Ty({...i,autoplay:!1});n.setWithVelocity(p.sample(h-d0).value,p.sample(h).value,d0)}$r.update(()=>u.cancel())}}}function U5(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Sl.read(r),n(s-e))};return $r.read(r,!0),()=>Sl.read(r)}function RY({keyframes:n,elapsed:e,onUpdate:t,onComplete:r}){const i=()=>{t&&t(n[n.length-1]),r&&r()};return e?{stop:U5(i,-e)}:i()}function kY({keyframes:n,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:h,onComplete:p,onStop:m}){const v=n[0];let g;function x(M){return t!==void 0&&M<t||r!==void 0&&M>r}function _(M){return t===void 0?r:r===void 0||Math.abs(t-M)<Math.abs(r-M)?t:r}function b(M){g==null||g.stop(),g=Ty({keyframes:[0,1],velocity:0,...M,driver:u,onUpdate:E=>{var P;h==null||h(E),(P=M.onUpdate)===null||P===void 0||P.call(M,E)},onComplete:p,onStop:m})}function S(M){b({type:"spring",stiffness:o,damping:a,restDelta:l,...M})}if(x(v))S({velocity:e,keyframes:[v,_(v)]});else{let M=i*e+v;typeof c<"u"&&(M=c(M));const E=_(M),P=E===t?-1:1;let R,C;const k=D=>{R=C,C=D,e=aT(D-R,ua.delta),(P===1&&D>E||P===-1&&D<E)&&S({keyframes:[D,E],velocity:e})};b({type:"decay",keyframes:[v,0],velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:c,onUpdate:x(M)?k:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const nc=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),f0=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Q_=()=>({type:"keyframes",ease:"linear",duration:.3}),LY={type:"keyframes",duration:.8},_P={x:nc,y:nc,z:nc,rotate:nc,rotateX:nc,rotateY:nc,rotateZ:nc,scaleX:f0,scaleY:f0,scale:f0,opacity:Q_,backgroundColor:Q_,color:Q_,default:f0},IY=(n,{keyframes:e})=>e.length>2?LY:(_P[n]||_P.default)(e[1]),bw=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&wl.test(e)&&!e.startsWith("url("));function DY({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function bP(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function SP(n){return typeof n=="number"?0:uT("",n)}function V5(n,e){return n[e]||n.default||n}function OY(n,e,t,r){const i=bw(e,t);let s=r.from!==void 0?r.from:n.get();return s==="none"&&i&&typeof t=="string"?s=uT(e,t):bP(s)&&typeof t=="string"?s=SP(t):!Array.isArray(t)&&bP(t)&&typeof s=="string"&&(t=SP(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const yT=(n,e,t,r={})=>i=>{const s=V5(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Tv(o);const l=OY(e,n,t,s),c=l[0],u=l[l.length-1],h=bw(n,c),p=bw(n,u);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:x=>{e.set(x),s.onUpdate&&s.onUpdate(x)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!h||!p||jq.current||s.type===!1)return RY(m);if(s.type==="inertia")return kY(m);DY(s)||(m={...m,...IY(n,m)}),m.duration&&(m.duration=Tv(m.duration)),m.repeatDelay&&(m.repeatDelay=Tv(m.repeatDelay));const v=e.owner,g=v&&v.current;if(v&&g instanceof HTMLElement&&!(v!=null&&v.getProps().onUpdate)){const x=PY(e,n,m);if(x)return x}return Ty(m)};function NY(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Sw(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=Sw(n,e,t);else{const i=typeof e=="function"?Mx(n,e,t.custom):e;r=H5(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function Sw(n,e,t={}){var r;const i=Mx(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>H5(n,i,t):()=>Promise.resolve(),a=!((r=n.variantChildren)===null||r===void 0)&&r.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=s;return zY(n,e,u+c,h,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(u)}else return Promise.all([o(),a(t.delay)])}function H5(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=n.makeTargetAnimatable(e);const c=n.getValue("willChange");r&&(o=r);const u=[],h=i&&((s=n.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const p in l){const m=n.getValue(p),v=l[p];if(!m||v===void 0||h&&BY(h,p))continue;const g={delay:t,elapsed:0,...o};if(window.HandoffAppearAnimations&&!m.hasAnimated){const _=n.getProps()[Vq];_&&(g.elapsed=window.HandoffAppearAnimations(_,p,m,$r))}let x=m.start(yT(p,m,v,n.shouldReduceMotion&&yf.has(p)?{type:!1}:g));Sy(c)&&(c.add(p),x=x.then(()=>c.remove(p))),u.push(x)}return Promise.all(u).then(()=>{a&&Nq(n,a)})}function zY(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(FY).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Sw(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function FY(n,e){return n.sortNodePosition(e)}function BY({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const xT=[_n.Animate,_n.InView,_n.Focus,_n.Hover,_n.Tap,_n.Drag,_n.Exit],UY=[...xT].reverse(),VY=xT.length;function HY(n){return e=>Promise.all(e.map(({animation:t,options:r})=>NY(n,t,r)))}function jY(n){let e=HY(n);const t=GY();let r=!0;const i=(l,c)=>{const u=Mx(n,c);if(u){const{transition:h,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),h=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let _=0;_<VY;_++){const b=UY[_],S=t[b],M=u[b]!==void 0?u[b]:h[b],E=jp(M),P=b===c?S.isActive:null;P===!1&&(g=_);let R=M===h[b]&&M!==u[b]&&E;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...v},!S.isActive&&P===null||!M&&!S.prevProp||yx(M)||typeof M=="boolean")continue;const C=WY(S.prevProp,M);let k=C||b===c&&S.isActive&&!R&&E||_>g&&E;const D=Array.isArray(M)?M:[M];let $=D.reduce(i,{});P===!1&&($={});const{prevResolvedValues:le={}}=S,Y={...le,...$},I=H=>{k=!0,m.delete(H),S.needsAnimating[H]=!0};for(const H in Y){const K=$[H],oe=le[H];v.hasOwnProperty(H)||(K!==oe?yy(K)&&yy(oe)?!g5(K,oe)||C?I(H):S.protectedKeys[H]=!0:K!==void 0?I(H):m.add(H):K!==void 0&&m.has(H)?I(H):S.protectedKeys[H]=!0)}S.prevProp=M,S.prevResolvedValues=$,S.isActive&&(v={...v,...$}),r&&n.blockInitialAnimation&&(k=!1),k&&!R&&p.push(...D.map(H=>({animation:H,options:{type:b,...l}})))}if(m.size){const _={};m.forEach(b=>{const S=n.getBaseTarget(b);S!==void 0&&(_[b]=S)}),p.push({animation:_})}let x=Boolean(p.length);return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,c,u){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function WY(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!g5(e,n):!1}function rc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GY(){return{[_n.Animate]:rc(!0),[_n.InView]:rc(),[_n.Hover]:rc(),[_n.Tap]:rc(),[_n.Drag]:rc(),[_n.Focus]:rc(),[_n.Exit]:rc()}}const $Y={animation:ol(({visualElement:n,animate:e})=>{n.animationState||(n.animationState=jY(n)),yx(e)&&L.useEffect(()=>e.subscribe(n),[e])}),exit:ol(n=>{const{custom:e,visualElement:t}=n,[r,i]=m5(),s=L.useContext(vf);L.useEffect(()=>{t.isPresent=r;const o=t.animationState&&t.animationState.setActive(_n.Exit,!r,{custom:s&&s.custom||e});o&&!r&&o.then(i)},[r])})},wP=(n,e)=>Math.abs(n-e);function XY(n,e){const t=wP(n.x,e.x),r=wP(n.y,e.y);return Math.sqrt(t**2+r**2)}class j5{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=tb(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=XY(c.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:p}=c,{timestamp:m}=ua;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;u||(v&&v(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=eb(u,this.transformPagePoint),$r.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=tb(c.type==="pointercancel"?this.lastMoveEventInfo:eb(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,m),p&&p(c,m)},!c5(e))return;this.handlers=t,this.transformPagePoint=r;const i=bx(e),s=eb(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=ua;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,tb(s,this.history)),this.removeListeners=Sx(Nd(window,"pointermove",this.handlePointerMove),Nd(window,"pointerup",this.handlePointerUp),Nd(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sl.update(this.updatePoint)}}function eb(n,e){return e?{point:e(n.point)}:n}function MP(n,e){return{x:n.x-e.x,y:n.y-e.y}}function tb({point:n},e){return{point:n,delta:MP(n,W5(e)),offset:MP(n,qY(e)),velocity:YY(e,.1)}}function qY(n){return n[0]}function W5(n){return n[n.length-1]}function YY(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=W5(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Tv(e)));)t--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qi(n){return n.max-n.min}function ww(n,e=0,t=.01){return Math.abs(n-e)<=t}function TP(n,e,t,r=.5){n.origin=r,n.originPoint=Hn(e.min,e.max,n.origin),n.scale=qi(t)/qi(e),(ww(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Hn(t.min,t.max,n.origin)-n.originPoint,(ww(n.translate)||isNaN(n.translate))&&(n.translate=0)}function sp(n,e,t,r){TP(n.x,e.x,t.x,r==null?void 0:r.originX),TP(n.y,e.y,t.y,r==null?void 0:r.originY)}function EP(n,e,t){n.min=t.min+e.min,n.max=n.min+qi(e)}function KY(n,e,t){EP(n.x,e.x,t.x),EP(n.y,e.y,t.y)}function CP(n,e,t){n.min=e.min-t.min,n.max=n.min+qi(e)}function op(n,e,t){CP(n.x,e.x,t.x),CP(n.y,e.y,t.y)}function ZY(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Hn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Hn(t,n,r.max):Math.min(n,t)),n}function AP(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function JY(n,{top:e,left:t,bottom:r,right:i}){return{x:AP(n.x,t,i),y:AP(n.y,e,r)}}function PP(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function QY(n,e){return{x:PP(n.x,e.x),y:PP(n.y,e.y)}}function eK(n,e){let t=.5;const r=qi(n),i=qi(e);return i>r?t=My(e.min,e.max-r,n.min):r>i&&(t=My(n.min,n.max-i,e.min)),Zd(0,1,t)}function tK(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Mw=.35;function nK(n=Mw){return n===!1?n=0:n===!0&&(n=Mw),{x:RP(n,"left","right"),y:RP(n,"top","bottom")}}function RP(n,e,t){return{min:kP(n,e),max:kP(n,t)}}function kP(n,e){return typeof n=="number"?n:n[e]||0}const LP=()=>({translate:0,scale:1,origin:0,originPoint:0}),ap=()=>({x:LP(),y:LP()}),IP=()=>({min:0,max:0}),ir=()=>({x:IP(),y:IP()});function uo(n){return[n("x"),n("y")]}function G5({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function rK({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function iK(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function nb(n){return n===void 0||n===1}function Tw({scale:n,scaleX:e,scaleY:t}){return!nb(n)||!nb(e)||!nb(t)}function pc(n){return Tw(n)||$5(n)||n.z||n.rotate||n.rotateX||n.rotateY}function $5(n){return DP(n.x)||DP(n.y)}function DP(n){return n&&n!=="0%"}function Ey(n,e,t){const r=n-t,i=e*r;return t+i}function OP(n,e,t,r,i){return i!==void 0&&(n=Ey(n,i,r)),Ey(n,t,r)+e}function Ew(n,e=0,t=1,r,i){n.min=OP(n.min,e,t,r,i),n.max=OP(n.max,e,t,r,i)}function X5(n,{x:e,y:t}){Ew(n.x,e.translate,e.scale,e.originPoint),Ew(n.y,t.translate,t.scale,t.originPoint)}function sK(n,e,t,r=!1){var i,s;const o=t.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++)a=t[c],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&yd(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,X5(n,l)),r&&pc(a.latestValues)&&yd(n,a.latestValues));e.x=NP(e.x),e.y=NP(e.y)}function NP(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ja(n,e){n.min=n.min+e,n.max=n.max+e}function zP(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Hn(n.min,n.max,s);Ew(n,e[t],e[r],o,e.scale)}const oK=["x","scaleX","originX"],aK=["y","scaleY","originY"];function yd(n,e){zP(n.x,e,oK),zP(n.y,e,aK)}function q5(n,e){return G5(iK(n.getBoundingClientRect(),e))}function lK(n,e,t){const r=q5(n,t),{scroll:i}=e;return i&&(Ja(r.x,i.offset.x),Ja(r.y,i.offset.y)),r}const cK=new WeakMap;class uK{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ir(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),t&&this.snapToCursor(bx(a,"page").point)},i=(a,l)=>{var c;const{drag:u,dragPropagation:h,onDragStart:p}=this.getProps();u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=f5(u),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uo(m=>{var v,g;let x=this.getAxisMotionValue(m).get()||0;if(wo.test(x)){const _=(g=(v=this.visualElement.projection)===null||v===void 0?void 0:v.layout)===null||g===void 0?void 0:g.layoutBox[m];_&&(x=qi(_)*(parseFloat(x)/100))}this.originPoint[m]=x}),p==null||p(a,l),(c=this.visualElement.animationState)===null||c===void 0||c.setActive(_n.Drag,!0))},s=(a,l)=>{const{dragPropagation:c,dragDirectionLock:u,onDirectionLock:h,onDrag:p}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=l;if(u&&this.currentDirection===null){this.currentDirection=dK(m),this.currentDirection!==null&&(h==null||h(this.currentDirection));return}this.updateAxis("x",l.point,m),this.updateAxis("y",l.point,m),this.visualElement.render(),p==null||p(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new j5(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(_n.Drag,!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!h0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=ZY(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&gd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=JY(r.layoutBox,e):this.constraints=!1,this.elastic=nK(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&uo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=tK(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lK(r,i.root,this.visualElement.getTransformPagePoint());let o=QY(i.layout.layoutBox,s);if(t){const a=t(rK(o));this.hasMutatedConstraints=!!a,a&&(o=G5(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=uo(u=>{if(!h0(u,t,this.currentDirection))return;let h=(l==null?void 0:l[u])||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(yT(e,r,0,t))}stopAnimation(){uo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var t;const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,((t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])||0)}snapToCursor(e){uo(t=>{const{drag:r}=this.getProps();if(!h0(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Hn(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!gd(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};uo(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=eK({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),uo(a=>{if(!h0(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Hn(c,u,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;cK.set(this.visualElement,this);const t=this.visualElement.current,r=Nd(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();gd(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),i();const a=Hc(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(uo(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=c[h].translate,p.set(p.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Mw,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function h0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function dK(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function fK(n){const{dragControls:e,visualElement:t}=n,r=_x(()=>new uK(t));L.useEffect(()=>e&&e.subscribe(r),[r,e]),L.useEffect(()=>r.addListeners(),[r])}function hK({onPan:n,onPanStart:e,onPanEnd:t,onPanSessionStart:r,visualElement:i}){const s=n||e||t||r,o=L.useRef(null),{transformPagePoint:a}=L.useContext(X2),l={onSessionStart:r,onStart:e,onMove:n,onEnd:(u,h)=>{o.current=null,t&&t(u,h)}};L.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function c(u){o.current=new j5(u,l,{transformPagePoint:a})}_y(i,"pointerdown",s&&c),rT(()=>o.current&&o.current.end())}const pK={pan:ol(hK),drag:ol(fK)};function Cw(n){return typeof n=="string"&&n.startsWith("var(--")}const Y5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mK(n){const e=Y5.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Aw(n,e,t=1){const[r,i]=mK(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():Cw(i)?Aw(i,e,t+1):i}function gK(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!Cw(s))return;const o=Aw(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Cw(s))continue;const o=Aw(s,r);o&&(e[i]=o,t&&t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const vK=new Set(["width","height","top","left","right","bottom","x","y"]),K5=n=>vK.has(n),yK=n=>Object.keys(n).some(K5),FP=n=>n===lu||n===ut;var BP;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(BP||(BP={}));const UP=(n,e)=>parseFloat(n.split(", ")[e]),VP=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return UP(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?UP(s[1],n):0}},xK=new Set(["x","y","z"]),_K=vy.filter(n=>!xK.has(n));function bK(n){const e=[];return _K.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const HP={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:VP(4,13),y:VP(5,14)},SK=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=HP[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=HP[c](l,s)}),n},wK=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(K5);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],h=sh(u);const p=e[l];let m;if(yy(p)){const v=p.length,g=p[0]===null?1:0;u=p[g],h=sh(u);for(let x=g;x<v;x++)m?wy(sh(p[x])===m):m=sh(p[x])}else m=sh(p);if(h!==m)if(FP(h)&&FP(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===ut&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=h.transform(p):(o||(s=bK(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=SK(e,n,a);return s.length&&s.forEach(([u,h])=>{n.getValue(u).set(h)}),n.render(),vx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function MK(n,e,t,r){return yK(e)?wK(n,e,t,r):{target:e,transitionEnd:r}}const TK=(n,e,t,r)=>{const i=gK(n,e,r);return e=i.target,r=i.transitionEnd,MK(n,e,t,r)},Pw={current:null},Z5={current:!1};function EK(){if(Z5.current=!0,!!vx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pw.current=n.matches;n.addListener(e),e()}else Pw.current=!1}function CK(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Ti(s))n.addValue(i,s),Sy(r)&&r.add(i);else if(Ti(o))n.addValue(i,Jd(s,{owner:n})),Sy(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Jd(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const J5=Object.keys(Wp),AK=J5.length,jP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PK{constructor({parent:e,props:t,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$r.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=xx(t),this.isVariantNode=KD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(t,{});for(const u in c){const h=c[u];o[u]!==void 0&&Ti(h)&&(h.set(o[u],!1),Sy(l)&&l.add(u))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(t=this.parent)===null||t===void 0?void 0:t.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Z5.current||EK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pw.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,r;(e=this.projection)===null||e===void 0||e.unmount(),Sl.update(this.notifyUpdate),Sl.render(this.render),this.valueSubscriptions.forEach(i=>i()),(t=this.removeFromVariantTree)===null||t===void 0||t.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,t){const r=yf.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&$r.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s,o,a){const l=[];for(let c=0;c<AK;c++){const u=J5[c],{isEnabled:h,Component:p}=Wp[u];h(t)&&p&&l.push(L.createElement(p,{key:u,...t,visualElement:this}))}if(!this.projection&&o){this.projection=new o(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:v}=t;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(h)||p&&gd(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:v})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const t=this.props;this.props=e;for(let r=0;r<jP.length;r++){const i=jP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=CK(this,this.scrapeMotionValuesFromProps(e,t),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){var t;return(t=this.props.variants)===null||t===void 0?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,r;if(e)return(t=this.parent)===null||t===void 0?void 0:t.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<RK;s++){const o=Q5[s],a=this.props[o];(jp(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(e){var t;const r=this.getClosestVariantNode();if(r)return(t=r.variantChildren)===null||t===void 0||t.add(e),()=>r.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){var t;this.values.delete(e),(t=this.valueSubscriptions.get(e))===null||t===void 0||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Jd(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=nT(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ti(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new oT),this.events[e].add(t)}notify(e,...t){var r;(r=this.events[e])===null||r===void 0||r.notify(...t)}}const Q5=["initial",...xT],RK=Q5.length;class eO extends PK{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Bq(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){zq(this,r,o);const a=TK(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function kK(n){return window.getComputedStyle(n)}class LK extends eO{readValueFromInstance(e,t){if(yf.has(t)){const r=cT(t);return r&&r.default||0}else{const r=kK(e),i=(QD(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return q5(e,t)}build(e,t,r,i){K2(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return tT(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ti(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){i5(e,t,r,i)}}class IK extends eO{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var r;return yf.has(t)?((r=cT(t))===null||r===void 0?void 0:r.default)||0:(t=s5.has(t)?t:eT(t),e.getAttribute(t))}measureInstanceViewportBox(){return ir()}scrapeMotionValuesFromProps(e,t){return a5(e,t)}build(e,t,r,i){J2(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){o5(e,t,r,i)}mount(e){this.isSVGTag=Q2(e.tagName),super.mount(e)}}const DK=(n,e)=>Y2(n)?new IK(e,{enableHardwareAcceleration:!1}):new LK(e,{enableHardwareAcceleration:!0});function WP(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const oh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ut.test(n))n=parseFloat(n);else return n;const t=WP(n,e.target.x),r=WP(n,e.target.y);return`${t}% ${r}%`}},GP="_$css",OK={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),s=[];i&&(n=n.replace(Y5,m=>(s.push(m),GP)));const o=wl.parse(n);if(o.length>5)return r;const a=wl.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const h=Hn(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let p=a(o);if(i){let m=0;p=p.replace(GP,()=>{const v=s[m];return m++,v})}return p}};class NK extends yi.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;MX(FK),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),np.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$r.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t!=null&&t.group&&t.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function zK(n){const[e,t]=m5(),r=L.useContext(q2);return yi.createElement(NK,{...n,layoutGroup:r,switchLayoutGroup:L.useContext(ZD),isPresent:e,safeToRemove:t})}const FK={borderRadius:{...oh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oh,borderTopRightRadius:oh,borderBottomLeftRadius:oh,borderBottomRightRadius:oh,boxShadow:OK},BK={measureLayout:zK};function UK(n,e,t={}){const r=Ti(n)?n:Jd(n);return r.start(yT("",r,e,t)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const tO=["TopLeft","TopRight","BottomLeft","BottomRight"],VK=tO.length,$P=n=>typeof n=="string"?parseFloat(n):n,XP=n=>typeof n=="number"||ut.test(n);function HK(n,e,t,r,i,s){i?(n.opacity=Hn(0,t.opacity!==void 0?t.opacity:1,jK(r)),n.opacityExit=Hn(e.opacity!==void 0?e.opacity:1,0,WK(r))):s&&(n.opacity=Hn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<VK;o++){const a=`border${tO[o]}Radius`;let l=qP(e,a),c=qP(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||XP(l)===XP(c)?(n[a]=Math.max(Hn($P(l),$P(c),r),0),(wo.test(c)||wo.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Hn(e.rotate||0,t.rotate||0,r))}function qP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const jK=nO(0,.5,gT),WK=nO(.5,.95,mT);function nO(n,e,t){return r=>r<n?0:r>e?1:t(My(n,e,r))}function YP(n,e){n.min=e.min,n.max=e.max}function Ls(n,e){YP(n.x,e.x),YP(n.y,e.y)}function KP(n,e,t,r,i){return n-=e,n=Ey(n,1/t,r),i!==void 0&&(n=Ey(n,1/i,r)),n}function GK(n,e=0,t=1,r=.5,i,s=n,o=n){if(wo.test(e)&&(e=parseFloat(e),e=Hn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Hn(s.min,s.max,r);n===s&&(a-=e),n.min=KP(n.min,e,t,a,i),n.max=KP(n.max,e,t,a,i)}function ZP(n,e,[t,r,i],s,o){GK(n,e[t],e[r],e[i],e.scale,s,o)}const $K=["x","scaleX","originX"],XK=["y","scaleY","originY"];function JP(n,e,t,r){ZP(n.x,e,$K,t==null?void 0:t.x,r==null?void 0:r.x),ZP(n.y,e,XK,t==null?void 0:t.y,r==null?void 0:r.y)}function QP(n){return n.translate===0&&n.scale===1}function rO(n){return QP(n.x)&&QP(n.y)}function iO(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function eR(n){return qi(n.x)/qi(n.y)}class qK{constructor(){this.members=[]}add(e){iT(this.members,e),e.scheduleRender()}remove(e){if(sT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var t,r,i,s,o;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tR(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const YK=(n,e)=>n.depth-e.depth;class KK{constructor(){this.children=[],this.isDirty=!1}add(e){iT(this.children,e),this.isDirty=!0}remove(e){sT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YK),this.isDirty=!1,this.children.forEach(e)}}const nR=["","X","Y","Z"],rR=1e3;let ZK=0;function sO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=ZK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(eZ),this.nodes.forEach(rZ),this.nodes.forEach(iZ)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new KK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new oT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||c)&&(this.isLayoutDirty=!0),n){let p;const m=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=U5(m,250),np.hasAnimatedSinceResize&&(np.hasAnimatedSinceResize=!1,this.nodes.forEach(sR))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:g})=>{var x,_,b,S,M;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=(_=(x=this.options.transition)!==null&&x!==void 0?x:h.getDefaultTransition())!==null&&_!==void 0?_:cZ,{onLayoutAnimationStart:P,onLayoutAnimationComplete:R}=h.getProps(),C=!this.targetLayout||!iO(this.targetLayout,g)||v,k=!m&&v;if(this.options.layoutRoot||!((b=this.resumeFrom)===null||b===void 0)&&b.instance||k||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const D={...V5(E,"layout"),onPlay:P,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else!m&&this.animationProgress===0&&sR(this),this.isLead()&&((M=(S=this.options).onExitComplete)===null||M===void 0||M.call(S));this.targetLayout=g})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Sl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(sZ),this.animationId++)}getTransformTemplate(){var o;return(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate}willUpdate(o=!0){var a,l,c;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;u===void 0&&!h||(this.prevTransformTemplateValue=(c=this.getTransformTemplate())===null||c===void 0?void 0:c(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iR);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(uZ),this.potentialNodes.clear()),this.nodes.forEach(nZ),this.nodes.forEach(JK),this.nodes.forEach(QK),this.clearAllSnapshots(),X_.update(),X_.preRender(),X_.render())}clearAllSnapshots(){this.nodes.forEach(tZ),this.sharedNodes.forEach(oZ)}scheduleUpdateProjection(){$r.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){$r.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!rO(this.projectionDelta),c=(o=this.getTransformTemplate())===null||o===void 0?void 0:o(this.latestValues,""),u=c!==this.prevTransformTemplateValue;a&&(l||pc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),dZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ir();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ja(a.x,l.offset.x),Ja(a.y,l.offset.y)),a}removeElementScroll(o){const a=ir();Ls(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){Ls(a,o);const{scroll:p}=this.root;p&&(Ja(a.x,-p.offset.x),Ja(a.y,-p.offset.y))}Ja(a.x,u.offset.x),Ja(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=ir();Ls(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&yd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),pc(u.latestValues)&&yd(l,u.latestValues)}return pc(this.latestValues)&&yd(l,this.latestValues),l}removeTransform(o){var a;const l=ir();Ls(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!pc(u.latestValues))continue;Tw(u.latestValues)&&u.updateSnapshot();const h=ir(),p=u.measurePageBox();Ls(h,p),JP(l,u.latestValues,(a=u.snapshot)===null||a===void 0?void 0:a.layoutBox,h)}return pc(this.latestValues)&&JP(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:c}=this.options;if(!(!this.layout||!(l||c))){if(!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout?(this.relativeParent=u,this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),op(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ir(),this.targetWithTransforms=ir()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?KY(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),X5(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&Boolean(u.resumingFrom)===Boolean(this.resumingFrom)&&!u.options.layoutScroll&&u.target?(this.relativeParent=u,this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),op(this.relativeTargetOrigin,this.target,u.target),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tw(this.parent.latestValues)||$5(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const c=this.getLead(),u=Boolean(this.resumingFrom)||this!==c;let h=!0;if(a&&(h=!1),u&&l&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Ls(this.layoutCorrected,this.layout.layoutBox),sK(this.layoutCorrected,this.treeScale,this.path,u);const{target:v}=c;if(!v)return;this.projectionDelta||(this.projectionDelta=ap(),this.projectionDeltaWithTransform=ap());const g=this.treeScale.x,x=this.treeScale.y,_=this.projectionTransform;sp(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=tR(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==g||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,c;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,c;const u=this.snapshot,h=(u==null?void 0:u.latestValues)||{},p={...this.latestValues},m=ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const v=ir(),g=(u==null?void 0:u.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),x=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,_=Boolean(g&&!x&&this.options.crossfade===!0&&!this.path.some(lZ));this.animationProgress=0,this.mixTargetDelta=b=>{var S;const M=b/1e3;oR(m.x,o.x,M),oR(m.y,o.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((S=this.relativeParent)===null||S===void 0)&&S.layout)&&(op(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aZ(this.relativeTarget,this.relativeTargetOrigin,v,M)),g&&(this.animationValues=p,HK(p,h,this.latestValues,M,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Sl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$r.update(()=>{np.hasAnimatedSinceResize=!0,this.currentAnimation=UK(0,rR,{...o,onUpdate:c=>{var u;this.mixTargetDelta(c),(u=o.onUpdate)===null||u===void 0||u.call(o,c)},onComplete:()=>{var c;(c=o.onComplete)===null||c===void 0||c.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,rR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&oO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ir();const h=qi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=qi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ls(a,l),yd(a,u),sp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){var l,c,u;this.sharedNodes.has(o)||this.sharedNodes.set(o,new qK),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(u=(c=a.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||u===void 0?void 0:u.call(c,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<nR.length;u++){const h="rotate"+nR[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o==null||o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Mv(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Mv(o.pointerEvents)||""),this.hasProjected&&!pc(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=tR(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in gy){if(p[g]===void 0)continue;const{correct:x,applyTo:_}=gy[g],b=c.transform==="none"?p[g]:x(p[g],h);if(_){const S=_.length;for(let M=0;M<S;M++)c[_[M]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=h===this?Mv(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(iR),this.root.sharedNodes.clear()}}}function JK(n){n.updateLayout()}function QK(n){var e,t,r;const i=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:a}=n.options,l=i.source!==n.layout.source;a==="size"?uo(m=>{const v=l?i.measuredBox[m]:i.layoutBox[m],g=qi(v);v.min=s[m].min,v.max=v.min+g}):oO(a,i.layoutBox,s)&&uo(m=>{const v=l?i.measuredBox[m]:i.layoutBox[m],g=qi(s[m]);v.max=v.min+g});const c=ap();sp(c,s,i.layoutBox);const u=ap();l?sp(u,n.applyTransform(o,!0),i.measuredBox):sp(u,s,i.layoutBox);const h=!rO(c);let p=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:g}=m;if(v&&g){const x=ir();op(x,i.layoutBox,v.layoutBox);const _=ir();op(_,s,g.layoutBox),iO(x,_)||(p=!0),m.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=x,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else n.isLead()&&((r=(t=n.options).onExitComplete)===null||r===void 0||r.call(t));n.options.transition=void 0}function eZ(n){n.isProjectionDirty||(n.isProjectionDirty=Boolean(n.parent&&n.parent.isProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=Boolean(n.parent&&n.parent.isTransformDirty))}function tZ(n){n.clearSnapshot()}function iR(n){n.clearMeasurements()}function nZ(n){const{visualElement:e}=n.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function sR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function rZ(n){n.resolveTargetDelta()}function iZ(n){n.calcProjection()}function sZ(n){n.resetRotation()}function oZ(n){n.removeLeadSnapshot()}function oR(n,e,t){n.translate=Hn(e.translate,0,t),n.scale=Hn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function aR(n,e,t,r){n.min=Hn(e.min,t.min,r),n.max=Hn(e.max,t.max,r)}function aZ(n,e,t,r){aR(n.x,e.x,t.x,r),aR(n.y,e.y,t.y,r)}function lZ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const cZ={duration:.45,ease:[.4,0,.1,1]};function uZ(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function lR(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function dZ(n){lR(n.x),lR(n.y)}function oO(n,e,t){return n==="position"||n==="preserve-aspect"&&!ww(eR(e),eR(t),.2)}const fZ=sO({attachResizeListener:(n,e)=>Hc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rb={current:void 0},hZ=sO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rb.current){const n=new fZ(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),rb.current=n}return rb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),pZ={...$Y,...cq,...pK,...BK},Tx=SX((n,e)=>KX(n,e,pZ,DK,hZ));function aO(){const n=L.useRef(!1);return my(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function mZ(){const n=aO(),[e,t]=L.useState(0),r=L.useCallback(()=>{n.current&&t(e+1)},[e]);return[L.useCallback(()=>$r.postRender(r),[r]),e]}class gZ extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vZ({children:n,isPresent:e}){const t=L.useId(),r=L.useRef(null),i=L.useRef({width:0,height:0,top:0,left:0});return L.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),L.createElement(gZ,{isPresent:e,childRef:r,sizeRef:i},L.cloneElement(n,{ref:r}))}const ib=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=_x(yZ),l=L.useId(),c=L.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[t]);return L.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[t]),L.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=L.createElement(vZ,{isPresent:t},n)),L.createElement(vf.Provider,{value:c},n)};function yZ(){return new Map}const ed=n=>n.key||"";function xZ(n,e){n.forEach(t=>{const r=ed(t);e.set(r,t)})}function _Z(n){const e=[];return L.Children.forEach(n,t=>{L.isValidElement(t)&&e.push(t)}),e}const bZ=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{i&&(o="wait");let[a]=mZ();const l=L.useContext(q2).forceRender;l&&(a=l);const c=aO(),u=_Z(n);let h=u;const p=new Set,m=L.useRef(h),v=L.useRef(new Map).current,g=L.useRef(!0);if(my(()=>{g.current=!1,xZ(u,v),m.current=h}),rT(()=>{g.current=!0,v.clear(),p.clear()}),g.current)return L.createElement(L.Fragment,null,h.map(S=>L.createElement(ib,{key:ed(S),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},S)));h=[...h];const x=m.current.map(ed),_=u.map(ed),b=x.length;for(let S=0;S<b;S++){const M=x[S];_.indexOf(M)===-1&&p.add(M)}return o==="wait"&&p.size&&(h=[]),p.forEach(S=>{if(_.indexOf(S)!==-1)return;const M=v.get(S);if(!M)return;const E=x.indexOf(S),P=()=>{v.delete(S),p.delete(S);const R=m.current.findIndex(C=>C.key===S);if(m.current.splice(R,1),!p.size){if(m.current=u,c.current===!1)return;a(),r&&r()}};h.splice(E,0,L.createElement(ib,{key:ed(M),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:s,mode:o},M))}),h=h.map(S=>{const M=S.key;return p.has(M)?S:L.createElement(ib,{key:ed(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),L.createElement(L.Fragment,null,p.size?h:h.map(S=>L.cloneElement(S)))};var SZ={initial:n=>{const{position:e}=n,t=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[t]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},lO=L.memo(n=>{const{id:e,message:t,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=SZ,toastSpacing:u="0.5rem"}=n,[h,p]=L.useState(a),m=uq();oP(()=>{m||r==null||r()},[m]),oP(()=>{p(a)},[a]);const v=()=>p(null),g=()=>p(a),x=()=>{m&&i()};L.useEffect(()=>{m&&s&&i()},[m,s,i]),lX(x,h);const _=L.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l}),[l,u]),b=L.useMemo(()=>sX(o),[o]);return F.jsx(Tx.li,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:v,onHoverEnd:g,custom:{position:o},style:b,children:F.jsx(qt.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:_,children:vo(t,{id:e,onClose:x})})})});lO.displayName="ToastComponent";function wZ(n,e){var t;const r=n??"bottom",s={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(t=s==null?void 0:s[e])!=null?t:r}var cR={path:F.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[F.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),F.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),F.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Dl=on((n,e)=>{const{as:t,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=n,u=Ei("chakra-icon",a),h=au("Icon",n),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...h},m={ref:e,focusable:s,className:u,__css:p},v=r??cR.viewBox;if(t&&typeof t!="string")return F.jsx(qt.svg,{as:t,...m,...c});const g=o??cR.path;return F.jsx(qt.svg,{verticalAlign:"middle",viewBox:v,...m,...c,children:g})});Dl.displayName="Icon";function MZ(n){return F.jsx(Dl,{viewBox:"0 0 24 24",...n,children:F.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function TZ(n){return F.jsx(Dl,{viewBox:"0 0 24 24",...n,children:F.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function uR(n){return F.jsx(Dl,{viewBox:"0 0 24 24",...n,children:F.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var EZ=EB({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),_T=on((n,e)=>{const t=au("Spinner",n),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=Sa(n),c=Ei("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${EZ} ${s} linear infinite`,...t};return F.jsx(qt.div,{ref:e,__css:u,className:c,...l,children:r&&F.jsx(qt.span,{srOnly:!0,children:r})})});_T.displayName="Spinner";var[CZ,AZ]=Rl({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[PZ,bT]=Rl({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),cO={info:{icon:TZ,colorScheme:"blue"},warning:{icon:uR,colorScheme:"orange"},success:{icon:MZ,colorScheme:"green"},error:{icon:uR,colorScheme:"red"},loading:{icon:_T,colorScheme:"blue"}};function RZ(n){return cO[n].colorScheme}function kZ(n){return cO[n].icon}var uO=on(function(e,t){const i={display:"inline",...bT().description};return F.jsx(qt.div,{ref:t,...e,className:Ei("chakra-alert__desc",e.className),__css:i})});uO.displayName="AlertDescription";function dO(n){const{status:e}=AZ(),t=kZ(e),r=bT(),i=e==="loading"?r.spinner:r.icon;return F.jsx(qt.span,{display:"inherit",...n,className:Ei("chakra-alert__icon",n.className),__css:i,children:n.children||F.jsx(t,{h:"100%",w:"100%"})})}dO.displayName="AlertIcon";var fO=on(function(e,t){const r=bT();return F.jsx(qt.div,{ref:t,...e,className:Ei("chakra-alert__title",e.className),__css:r.title})});fO.displayName="AlertTitle";var hO=on(function(e,t){var r;const{status:i="info",addRole:s=!0,...o}=Sa(e),a=(r=e.colorScheme)!=null?r:RZ(i),l=$2("Alert",{...e,colorScheme:a}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return F.jsx(CZ,{value:{status:i},children:F.jsx(PZ,{value:l,children:F.jsx(qt.div,{role:s?"alert":void 0,ref:t,...o,className:Ei("chakra-alert",e.className),__css:c})})})});hO.displayName="Alert";function LZ(n){return F.jsx(Dl,{focusable:"false","aria-hidden":!0,...n,children:F.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var pO=on(function(e,t){const r=au("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=Sa(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return F.jsx(qt.button,{type:"button","aria-label":"Close",ref:t,disabled:s,__css:{...l,...r,...o},...a,children:i||F.jsx(LZ,{width:"1em",height:"1em"})})});pO.displayName="CloseButton";var IZ={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},go=DZ(IZ);function DZ(n){let e=n;const t=new Set,r=i=>{e=i(e),t.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(t.add(i),()=>{r(()=>n),t.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=OZ(i,s),{position:a,id:l}=o;return r(c=>{var u,h;const m=a.includes("top")?[o,...(u=c[a])!=null?u:[]]:[...(h=c[a])!=null?h:[],o];return{...c,[a]:m}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:c}=sP(a,i);return l&&c!==-1&&(a[l][c]={...a[l][c],...s,message:mO(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=s[c].map(u=>({...u,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=qD(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>Boolean(sP(go.getState(),i).position)}}var dR=0;function OZ(n,e={}){var t,r;dR+=1;const i=(t=e.id)!=null?t:dR,s=(r=e.position)!=null?r:"bottom";return{id:i,message:n,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>go.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var NZ=n=>{const{status:e,variant:t="solid",id:r,title:i,isClosable:s,onClose:o,description:a,icon:l}=n,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return F.jsxs(hO,{addRole:!1,status:e,variant:t,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",children:[F.jsx(dO,{children:l}),F.jsxs(qt.div,{flex:"1",maxWidth:"100%",children:[i&&F.jsx(fO,{id:c==null?void 0:c.title,children:i}),a&&F.jsx(uO,{id:c==null?void 0:c.description,display:"block",children:a})]}),s&&F.jsx(pO,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function mO(n={}){const{render:e,toastComponent:t=NZ}=n;return i=>typeof e=="function"?e({...i,...n}):F.jsx(t,{...i,...n})}function zZ(n,e){const t=i=>{var s;return{...e,...i,position:wZ((s=i==null?void 0:i.position)!=null?s:e==null?void 0:e.position,n)}},r=i=>{const s=t(i),o=mO(s);return go.notify(o,s)};return r.update=(i,s)=>{go.update(i,t(s))},r.promise=(i,s)=>{const o=r({...s.loading,status:"loading",duration:null});i.then(a=>r.update(o,{status:"success",duration:5e3,...vo(s.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...vo(s.error,a)}))},r.closeAll=go.closeAll,r.close=go.close,r.isActive=go.isActive,r}var[FZ,BZ]=Rl({name:"ToastOptionsContext",strict:!1}),UZ=n=>{const e=L.useSyncExternalStore(go.subscribe,go.getState,go.getState),{motionVariants:t,component:r=lO,portalProps:i}=n,o=Object.keys(e).map(a=>{const l=e[a];return F.jsx("ul",{role:"region","aria-live":"polite",id:`chakra-toast-manager-${a}`,style:oX(a),children:F.jsx(bZ,{initial:!1,children:l.map(c=>F.jsx(r,{motionVariants:t,...c},c.id))})},a)});return F.jsx(dx,{...i,children:o})};function VZ(n){const{theme:e}=hD(),t=BZ();return L.useMemo(()=>zZ(e.direction,{...t,...n}),[n,e.direction,t])}var HZ=n=>function({children:t,theme:r=n,toastOptions:i,...s}){return F.jsxs(rX,{theme:r,...s,children:[F.jsx(FZ,{value:i==null?void 0:i.defaultOptions,children:t}),F.jsx(UZ,{...i})]})},jZ=HZ(G2);function WZ(n,e){if(n!=null){if(typeof n=="function"){n(e);return}try{n.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${n}'`)}}}function GZ(...n){return e=>{n.forEach(t=>{WZ(t,e)})}}function $Z(...n){return L.useMemo(()=>GZ(...n),n)}var[XZ,qZ]=Rl({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function YZ(n){const[e,t]=n.split(" ");return e&&t?`${e.charAt(0)}${t.charAt(0)}`:e.charAt(0)}function gO(n){const{name:e,getInitials:t,...r}=n,i=qZ();return F.jsx(qt.div,{role:"img","aria-label":e,...r,__css:i.label,children:e?t==null?void 0:t(e):null})}gO.displayName="AvatarName";var vO=n=>F.jsxs(qt.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...n,children:[F.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),F.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),Rw=on(function(e,t){const{htmlWidth:r,htmlHeight:i,alt:s,...o}=e;return F.jsx("img",{width:r,height:i,ref:t,alt:s,...o})});Rw.displayName="NativeImage";function yO(n){const{loading:e,src:t,srcSet:r,onLoad:i,onError:s,crossOrigin:o,sizes:a,ignoreFallback:l}=n,[c,u]=L.useState("pending");L.useEffect(()=>{u(t?"loading":"pending")},[t]);const h=L.useRef(),p=L.useCallback(()=>{if(!t)return;m();const v=new Image;v.src=t,o&&(v.crossOrigin=o),r&&(v.srcset=r),a&&(v.sizes=a),e&&(v.loading=e),v.onload=g=>{m(),u("loaded"),i==null||i(g)},v.onerror=g=>{m(),u("failed"),s==null||s(g)},h.current=v},[t,o,r,a,i,s,e]),m=()=>{h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return _p(()=>{if(!l)return c==="loading"&&p(),()=>{m()}},[c,p,l]),l?"loaded":c}var KZ=(n,e)=>n!=="loaded"&&e==="beforeLoadOrError"||n==="failed"&&e==="onError";function ZZ(n,e=[]){const t=Object.assign({},n);for(const r of e)r in t&&delete t[r];return t}var bm=on(function(e,t){const{fallbackSrc:r,fallback:i,src:s,srcSet:o,align:a,fit:l,loading:c,ignoreFallback:u,crossOrigin:h,fallbackStrategy:p="beforeLoadOrError",referrerPolicy:m,...v}=e,g=r!==void 0||i!==void 0,x=c!=null||u||!g,_=yO({...e,ignoreFallback:x}),b=KZ(_,p),S={ref:t,objectFit:l,objectPosition:a,...x?v:ZZ(v,["onError","onLoad"])};return b?i||F.jsx(qt.img,{as:Rw,className:"chakra-image__placeholder",src:r,...S}):F.jsx(qt.img,{as:Rw,src:s,srcSet:o,crossOrigin:h,loading:c,referrerPolicy:m,className:"chakra-image",...S})});bm.displayName="Image";function xO(n){const{src:e,srcSet:t,onError:r,onLoad:i,getInitials:s,name:o,borderRadius:a,loading:l,iconLabel:c,icon:u=F.jsx(vO,{}),ignoreFallback:h,referrerPolicy:p}=n,v=yO({src:e,onError:r,ignoreFallback:h})==="loaded";return!e||!v?o?F.jsx(gO,{className:"chakra-avatar__initials",getInitials:s,name:o}):L.cloneElement(u,{role:"img","aria-label":c}):F.jsx(qt.img,{src:e,srcSet:t,alt:o,onLoad:i,referrerPolicy:p,className:"chakra-avatar__img",loading:l,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:a}})}xO.displayName="AvatarImage";var JZ={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},_O=on((n,e)=>{const t=$2("Avatar",n),[r,i]=L.useState(!1),{src:s,srcSet:o,name:a,showBorder:l,borderRadius:c="full",onError:u,onLoad:h,getInitials:p=YZ,icon:m=F.jsx(vO,{}),iconLabel:v=" avatar",loading:g,children:x,borderColor:_,ignoreFallback:b,...S}=Sa(n),M={borderRadius:c,borderWidth:l?"2px":void 0,...JZ,...t.container};return _&&(M.borderColor=_),F.jsx(qt.span,{ref:e,...S,className:Ei("chakra-avatar",n.className),"data-loaded":rw(r),__css:M,children:F.jsxs(XZ,{value:t,children:[F.jsx(xO,{src:s,srcSet:o,loading:g,onLoad:YU(h,()=>{i(!0)}),onError:u,getInitials:p,name:a,borderRadius:c,icon:m,iconLabel:v,ignoreFallback:b}),x]})})});_O.displayName="Avatar";function QZ(n){return L.Children.toArray(n).filter(e=>L.isValidElement(e))}var[Ehe,eJ]=Rl({strict:!1,name:"ButtonGroupContext"});function tJ(n){const[e,t]=L.useState(!n);return{ref:L.useCallback(s=>{s&&t(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}function kw(n){const{children:e,className:t,...r}=n,i=L.isValidElement(e)?L.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=Ei("chakra-button__icon",t);return F.jsx(qt.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}kw.displayName="ButtonIcon";function Lw(n){const{label:e,placement:t,spacing:r="0.5rem",children:i=F.jsx(_T,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=n,l=Ei("chakra-button__spinner",s),c=t==="start"?"marginEnd":"marginStart",u=L.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return F.jsx(qt.div,{className:l,...a,__css:u,children:i})}Lw.displayName="ButtonSpinner";var bO=on((n,e)=>{const t=eJ(),r=au("Button",{...t,...n}),{isDisabled:i=t==null?void 0:t.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:u,iconSpacing:h="0.5rem",type:p,spinner:m,spinnerPlacement:v="start",className:g,as:x,..._}=Sa(n),b=L.useMemo(()=>{const P={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!t&&{_focus:P}}},[r,t]),{ref:S,type:M}=tJ(x),E={rightIcon:c,leftIcon:l,iconSpacing:h,children:a};return F.jsxs(qt.button,{ref:$Z(e,S),as:x,type:p??M,"data-active":rw(o),"data-loading":rw(s),__css:b,className:Ei("chakra-button",g),..._,disabled:i||s,children:[s&&v==="start"&&F.jsx(Lw,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:h,children:m}),s?u||F.jsx(qt.span,{opacity:0,children:F.jsx(fR,{...E})}):F.jsx(fR,{...E}),s&&v==="end"&&F.jsx(Lw,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:h,children:m})]})});bO.displayName="Button";function fR(n){const{leftIcon:e,rightIcon:t,children:r,iconSpacing:i}=n;return F.jsxs(F.Fragment,{children:[e&&F.jsx(kw,{marginEnd:i,children:e}),r,t&&F.jsx(kw,{marginStart:i,children:t})]})}var Ex=on((n,e)=>{const{icon:t,children:r,isRound:i,"aria-label":s,...o}=n,a=t||r,l=L.isValidElement(a)?L.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return F.jsx(bO,{padding:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o,children:l})});Ex.displayName="IconButton";var nJ=A$?L.useLayoutEffect:L.useEffect;function rJ(n,e=[]){const t=L.useRef(n);return nJ(()=>{t.current=n}),L.useCallback((...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},e)}function iJ(n,e,t,r){const i=rJ(e);return L.useEffect(()=>{var s;const o=(s=hy(t))!=null?s:document;if(e)return o.addEventListener(n,i,r),()=>{o.removeEventListener(n,i,r)}},[n,t,r,i,e]),()=>{var s;((s=hy(t))!=null?s:document).removeEventListener(n,i,r)}}var SO=on(function(e,t){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:c,autoRows:u,templateRows:h,autoColumns:p,templateColumns:m,...v}=e,g={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:p,gridColumn:a,gridRow:l,gridAutoFlow:c,gridAutoRows:u,gridTemplateRows:h,gridTemplateColumns:m};return F.jsx(qt.div,{ref:t,__css:g,...v})});SO.displayName="Grid";function Cx(n,e){return Array.isArray(n)?n.map(t=>t===null?null:e(t)):Si(n)?Object.keys(n).reduce((t,r)=>(t[r]=e(n[r]),t),{}):n!=null?e(n):null}var wO=on(function(e,t){const{columns:r,spacingX:i,spacingY:s,spacing:o,minChildWidth:a,...l}=e,c=dD(),u=a?oJ(a,c):aJ(r);return F.jsx(SO,{ref:t,gap:o,columnGap:i,rowGap:s,templateColumns:u,...l})});wO.displayName="SimpleGrid";function sJ(n){return typeof n=="number"?`${n}px`:n}function oJ(n,e){return Cx(n,t=>{const r=XU("sizes",t,sJ(t))(e);return t===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function aJ(n){return Cx(n,e=>e===null?null:`repeat(${e}, minmax(0, 1fr))`)}var To=on(function(e,t){const r=au("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=Sa(e),c=V$({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return F.jsx(qt.p,{ref:t,className:Ei("chakra-text",e.className),...c,...l,__css:r})});To.displayName="Text";var MO=n=>F.jsx(qt.div,{className:"chakra-stack__item",...n,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...n.__css}});MO.displayName="StackItem";var Iw="& > *:not(style) ~ *:not(style)";function lJ(n){const{spacing:e,direction:t}=n,r={column:{marginTop:e,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:e},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:e,marginStart:0},"row-reverse":{marginTop:0,marginEnd:e,marginBottom:0,marginStart:0}};return{flexDirection:t,[Iw]:Cx(t,i=>r[i])}}function cJ(n){const{spacing:e,direction:t}=n,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Cx(t,i=>r[i])}}var Yi=on((n,e)=>{const{isInline:t,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:u,shouldWrapChildren:h,...p}=n,m=t?"row":r??"column",v=L.useMemo(()=>lJ({direction:m,spacing:o}),[m,o]),g=L.useMemo(()=>cJ({spacing:o,direction:m}),[o,m]),x=!!c,_=!h&&!x,b=L.useMemo(()=>{const M=QZ(l);return _?M:M.map((E,P)=>{const R=typeof E.key<"u"?E.key:P,C=P+1===M.length,D=h?F.jsx(MO,{children:E},R):E;if(!x)return D;const $=L.cloneElement(c,{__css:g}),le=C?null:$;return F.jsxs(L.Fragment,{children:[D,le]},R)})},[c,g,x,_,h,l]),S=Ei("chakra-stack",u);return F.jsx(qt.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:v.flexDirection,flexWrap:a,className:S,__css:x?{}:{[Iw]:v[Iw]},...p,children:b})});Yi.displayName="Stack";var Dw=on((n,e)=>F.jsx(Yi,{align:"center",...n,direction:"column",ref:e}));Dw.displayName="VStack";var TO=on((n,e)=>F.jsx(Yi,{align:"center",...n,direction:"row",ref:e}));TO.displayName="HStack";var Ss=on(function(e,t){const r=au("Heading",e),{className:i,...s}=Sa(e);return F.jsx(qt.h2,{ref:t,className:Ei("chakra-heading",e.className),...s,__css:r})});Ss.displayName="Heading";var gr=qt("div");gr.displayName="Box";var EO=on(function(e,t){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return F.jsx(gr,{ref:t,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});EO.displayName="Square";var uJ=on(function(e,t){const{size:r,...i}=e;return F.jsx(EO,{size:r,ref:t,borderRadius:"9999px",...i})});uJ.displayName="Circle";var CO=on(function(e,t){const r=au("Link",e),{className:i,isExternal:s,...o}=Sa(e);return F.jsx(qt.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:t,className:Ei("chakra-link",i),...o,__css:r})});CO.displayName="Link";var _r=on(function(e,t){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:c,...u}=e,h={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return F.jsx(qt.div,{ref:t,__css:h,...u})});_r.displayName="Flex";function Xp(n){return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(n)}function dJ(n,e){if(Xp(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fJ(n){var e=dJ(n,"string");return Xp(e)==="symbol"?e:String(e)}function _t(n,e,t){return e=fJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var[hJ,AO]=Rl({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),ST=on((n,e)=>{const t=$2("Tag",n),r=Sa(n),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...t.container};return F.jsx(hJ,{value:t,children:F.jsx(qt.span,{ref:e,...r,__css:i})})});ST.displayName="Tag";var pJ=on((n,e)=>{const t=AO();return F.jsx(qt.span,{ref:e,noOfLines:1,...n,__css:t.label})});pJ.displayName="TagLabel";var mJ=on((n,e)=>F.jsx(Dl,{ref:e,verticalAlign:"top",marginEnd:"0.5rem",...n}));mJ.displayName="TagLeftIcon";var gJ=on((n,e)=>F.jsx(Dl,{ref:e,verticalAlign:"top",marginStart:"0.5rem",...n}));gJ.displayName="TagRightIcon";var PO=n=>F.jsx(Dl,{verticalAlign:"inherit",viewBox:"0 0 512 512",...n,children:F.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});PO.displayName="TagCloseIcon";var vJ=on((n,e)=>{const{isDisabled:t,children:r,...i}=n,o={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...AO().closeButton};return F.jsx(qt.button,{ref:e,"aria-label":"close",...i,type:"button",disabled:t,__css:o,children:r||F.jsx(PO,{})})});vJ.displayName="TagCloseButton";var Ow={},RO,hR=bp;RO=Ow.createRoot=hR.createRoot,Ow.hydrateRoot=hR.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function en(){return en=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},en.apply(this,arguments)}var Jn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Jn||(Jn={}));const pR="popstate";function yJ(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Po(i.location.hash.substr(1));return qp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:ya(s))}function r(i,s){xJ(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return bJ(e,t,r,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xJ(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _J(){return Math.random().toString(36).substr(2,8)}function mR(n,e){return{usr:n.state,key:n.key,idx:e}}function qp(n,e,t,r){return t===void 0&&(t=null),en({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Po(e):e,{state:t,key:e&&e.key||r||_J()})}function ya(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Po(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function bJ(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Jn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(en({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Jn.Pop;let x=u(),_=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:_})}function p(x,_){a=Jn.Push;let b=qp(g.location,x,_);t&&t(b,x),c=u()+1;let S=mR(b,c),M=g.createHref(b);try{o.pushState(S,"",M)}catch{i.location.assign(M)}s&&l&&l({action:a,location:g.location,delta:1})}function m(x,_){a=Jn.Replace;let b=qp(g.location,x,_);t&&t(b,x),c=u();let S=mR(b,c),M=g.createHref(b);o.replaceState(S,"",M),s&&l&&l({action:a,location:g.location,delta:0})}function v(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:ya(x);return Et(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let g={get action(){return a},get location(){return n(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pR,h),l=x,()=>{i.removeEventListener(pR,h),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(x){return o.go(x)}};return g}var Cr;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Cr||(Cr={}));function SJ(n){return n.index===!0}function kO(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((r,i)=>{let s=[...e,i],o=typeof r.id=="string"?r.id:s.join("-");return Et(r.index!==!0||!r.children,"Cannot specify children on an index route"),Et(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),SJ(r)?en({},r,{id:o}):en({},r,{id:o,children:r.children?kO(r.children,s,t):void 0})})}function Uh(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Po(e):e,i=DO(r.pathname||"/",t);if(i==null)return null;let s=LO(n);wJ(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=LJ(s[a],OJ(i));return o}function LO(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Et(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=da([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),LO(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:RJ(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of IO(s.path))i(s,o,l)}),e}function IO(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=IO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function wJ(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kJ(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const MJ=/^:\w+$/,TJ=3,EJ=2,CJ=1,AJ=10,PJ=-2,gR=n=>n==="*";function RJ(n,e){let t=n.split("/"),r=t.length;return t.some(gR)&&(r+=PJ),e&&(r+=EJ),t.filter(i=>!gR(i)).reduce((i,s)=>i+(MJ.test(s)?TJ:s===""?CJ:AJ),r)}function kJ(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function LJ(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=IJ({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;s.push({params:r,pathname:da([i,u.pathname]),pathnameBase:BJ(da([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=da([i,u.pathnameBase]))}return s}function IJ(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=DJ(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[u]=NJ(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:n}}function DJ(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Yp(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OJ(n){try{return decodeURI(n)}catch(e){return Yp(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function NJ(n,e){try{return decodeURIComponent(n)}catch(t){return Yp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function DO(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Yp(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zJ(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Po(n):n;return{pathname:t?t.startsWith("/")?t:FJ(t,e):e,search:UJ(r),hash:VJ(i)}}function FJ(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function sb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ax(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wT(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Po(n):(i=en({},n),Et(!i.pathname||!i.pathname.includes("?"),sb("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),sb("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),sb("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=zJ(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const da=n=>n.join("/").replace(/\/\/+/g,"/"),BJ=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UJ=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VJ=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class vR extends Error{}class HJ{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Et(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new vR("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([t,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,i){return this.controller.signal.aborted&&r instanceof vR?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,t),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,t),i))}emit(e,t){this.subscribers.forEach(r=>r(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Et(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,i]=t;return Object.assign(e,{[r]:WJ(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function jJ(n){return n instanceof Promise&&n._tracked===!0}function WJ(n){if(!jJ(n))return n;if(n._error)throw n._error;return n._data}class MT{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function OO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const NO=["post","put","patch","delete"],GJ=new Set(NO),$J=["get",...NO],XJ=new Set($J),qJ=new Set([301,302,303,307,308]),YJ=new Set([307,308]),ob={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},KJ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},yR={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZJ=!FO;function JJ(n){Et(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=kO(n.routes),t=null,r=new Set,i=null,s=null,o=null,a=n.hydrationData!=null,l=Uh(e,n.history.location,n.basename),c=null;if(l==null){let V=Ya(404,{pathname:n.history.location.pathname}),{matches:q,route:re}=MR(e);l=q,c={[re.id]:V}}let u=!l.some(V=>V.route.loader)||n.hydrationData!=null,h,p={historyAction:n.history.action,location:n.history.location,matches:l,initialized:u,navigation:ob,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||c,fetchers:new Map,blockers:new Map},m=Jn.Pop,v=!1,g,x=!1,_=!1,b=[],S=[],M=new Map,E=0,P=-1,R=new Map,C=new Set,k=new Map,D=new Map,$=new Map,le=!1;function Y(){return t=n.history.listen(V=>{let{action:q,location:re,delta:ge}=V;if(le){le=!1;return}Yp($.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=Ze({currentLocation:p.location,nextLocation:re,historyAction:q});if(Te&&ge!=null){le=!0,n.history.go(ge*-1),Qe(Te,{state:"blocked",location:re,proceed(){Qe(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),n.history.go(ge)},reset(){tt(Te),K({blockers:new Map(h.state.blockers)})}});return}return J(q,re)}),p.initialized||J(Jn.Pop,p.location),h}function I(){t&&t(),r.clear(),g&&g.abort(),p.fetchers.forEach((V,q)=>Fe(q)),p.blockers.forEach((V,q)=>tt(q))}function H(V){return r.add(V),()=>r.delete(V)}function K(V){p=en({},p,V),r.forEach(q=>q(p))}function oe(V,q){var re,ge;let Te=p.actionData!=null&&p.navigation.formMethod!=null&&Ko(p.navigation.formMethod)&&p.navigation.state==="loading"&&((re=V.state)==null?void 0:re._isRedirect)!==!0,Me;q.actionData?Object.keys(q.actionData).length>0?Me=q.actionData:Me=null:Te?Me=p.actionData:Me=null;let ae=q.loaderData?wR(p.loaderData,q.loaderData,q.matches||[],q.errors):p.loaderData;for(let[G]of $)tt(G);let Ie=v===!0||p.navigation.formMethod!=null&&Ko(p.navigation.formMethod)&&((ge=V.state)==null?void 0:ge._isRedirect)!==!0;K(en({},q,{actionData:Me,loaderData:ae,historyAction:m,location:V,initialized:!0,navigation:ob,revalidation:"idle",restoreScrollPosition:O(V,q.matches||p.matches),preventScrollReset:Ie,blockers:new Map(p.blockers)})),x||m===Jn.Pop||(m===Jn.Push?n.history.push(V,V.state):m===Jn.Replace&&n.history.replace(V,V.state)),m=Jn.Pop,v=!1,x=!1,_=!1,b=[],S=[]}async function N(V,q){if(typeof V=="number"){n.history.go(V);return}let{path:re,submission:ge,error:Te}=xR(V,q),Me=p.location,ae=qp(p.location,re,q&&q.state);ae=en({},ae,n.history.encodeLocation(ae));let Ie=q&&q.replace!=null?q.replace:void 0,G=Jn.Push;Ie===!0?G=Jn.Replace:Ie===!1||ge!=null&&Ko(ge.formMethod)&&ge.formAction===p.location.pathname+p.location.search&&(G=Jn.Replace);let fe=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,be=Ze({currentLocation:Me,nextLocation:ae,historyAction:G});if(be){Qe(be,{state:"blocked",location:ae,proceed(){Qe(be,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),N(V,q)},reset(){tt(be),K({blockers:new Map(p.blockers)})}});return}return await J(G,ae,{submission:ge,pendingError:Te,preventScrollReset:fe,replace:q&&q.replace})}function X(){if($e(),K({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){J(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}J(m||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function J(V,q,re){g&&g.abort(),g=null,m=V,x=(re&&re.startUninterruptedRevalidation)===!0,W(p.location,p.matches),v=(re&&re.preventScrollReset)===!0;let ge=re&&re.overrideNavigation,Te=Uh(e,q,n.basename);if(!Te){let Pe=Ya(404,{pathname:q.pathname}),{matches:Xe,route:st}=MR(e);ht(),oe(q,{matches:Xe,loaderData:{},errors:{[st.id]:Pe}});return}if(rQ(p.location,q)&&!(re&&re.submission&&Ko(re.submission.formMethod))){oe(q,{matches:Te});return}g=new AbortController;let Me=lh(n.history,q,g.signal,re&&re.submission),ae,Ie;if(re&&re.pendingError)Ie={[xd(Te).route.id]:re.pendingError};else if(re&&re.submission&&Ko(re.submission.formMethod)){let Pe=await he(Me,q,re.submission,Te,{replace:re.replace});if(Pe.shortCircuited)return;ae=Pe.pendingActionData,Ie=Pe.pendingActionError,ge=en({state:"loading",location:q},re.submission),Me=new Request(Me.url,{signal:Me.signal})}let{shortCircuited:G,loaderData:fe,errors:be}=await Z(Me,q,Te,ge,re&&re.submission,re&&re.replace,ae,Ie);G||(g=null,oe(q,en({matches:Te},ae?{actionData:ae}:{},{loaderData:fe,errors:be})))}async function he(V,q,re,ge,Te){$e();let Me=en({state:"submitting",location:q},re);K({navigation:Me});let ae,Ie=AR(ge,q);if(!Ie.route.action)ae={type:Cr.error,error:Ya(405,{method:V.method,pathname:q.pathname,routeId:Ie.route.id})};else if(ae=await ah("action",V,Ie,ge,h.basename),V.signal.aborted)return{shortCircuited:!0};if(zd(ae)){let G;return Te&&Te.replace!=null?G=Te.replace:G=ae.location===p.location.pathname+p.location.search,await Be(p,ae,{submission:re,replace:G}),{shortCircuited:!0}}if(lp(ae)){let G=xd(ge,Ie.route.id);return(Te&&Te.replace)!==!0&&(m=Jn.Push),{pendingActionData:{},pendingActionError:{[G.route.id]:ae.error}}}if(kc(ae))throw Ya(400,{type:"defer-action"});return{pendingActionData:{[Ie.route.id]:ae.data}}}async function Z(V,q,re,ge,Te,Me,ae,Ie){let G=ge;G||(G=en({state:"loading",location:q,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Te));let fe=Te||(G.formMethod&&G.formAction&&G.formData&&G.formEncType?{formMethod:G.formMethod,formAction:G.formAction,formData:G.formData,formEncType:G.formEncType}:void 0),[be,Pe]=_R(n.history,p,re,fe,q,_,b,S,ae,Ie,k);if(ht(je=>!(re&&re.some(lt=>lt.route.id===je))||be&&be.some(lt=>lt.route.id===je)),be.length===0&&Pe.length===0)return oe(q,en({matches:re,loaderData:{},errors:Ie||null},ae?{actionData:ae}:{})),{shortCircuited:!0};if(!x){Pe.forEach(lt=>{let Kt=p.fetchers.get(lt.key),Sn={state:"loading",data:Kt&&Kt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(lt.key,Sn)});let je=ae||p.actionData;K(en({navigation:G},je?Object.keys(je).length===0?{actionData:null}:{actionData:je}:{},Pe.length>0?{fetchers:new Map(p.fetchers)}:{}))}P=++E,Pe.forEach(je=>M.set(je.key,g));let{results:Xe,loaderResults:st,fetcherResults:Ut}=await Ue(p.matches,re,be,Pe,V);if(V.signal.aborted)return{shortCircuited:!0};Pe.forEach(je=>M.delete(je.key));let Q=TR(Xe);if(Q)return await Be(p,Q,{replace:Me}),{shortCircuited:!0};let{loaderData:ye,errors:Ae}=SR(p,re,be,st,Ie,Pe,Ut,D);D.forEach((je,lt)=>{je.subscribe(Kt=>{(Kt||je.done)&&D.delete(lt)})}),De();let Ve=Ye(P);return en({loaderData:ye,errors:Ae},Ve||Pe.length>0?{fetchers:new Map(p.fetchers)}:{})}function se(V){return p.fetchers.get(V)||KJ}function Re(V,q,re,ge){if(ZJ)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");M.has(V)&&_e(V);let Te=Uh(e,re,n.basename);if(!Te){Le(V,q,Ya(404,{pathname:re}));return}let{path:Me,submission:ae}=xR(re,ge,!0),Ie=AR(Te,Me);if(v=(ge&&ge.preventScrollReset)===!0,ae&&Ko(ae.formMethod)){ke(V,q,Me,Ie,Te,ae);return}k.set(V,{routeId:q,path:Me,match:Ie,matches:Te}),ce(V,q,Me,Ie,Te,ae)}async function ke(V,q,re,ge,Te,Me){if($e(),k.delete(V),!ge.route.action){let zt=Ya(405,{method:Me.formMethod,pathname:re,routeId:q});Le(V,q,zt);return}let ae=p.fetchers.get(V),Ie=en({state:"submitting"},Me,{data:ae&&ae.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(V,Ie),K({fetchers:new Map(p.fetchers)});let G=new AbortController,fe=lh(n.history,re,G.signal,Me);M.set(V,G);let be=await ah("action",fe,ge,Te,h.basename);if(fe.signal.aborted){M.get(V)===G&&M.delete(V);return}if(zd(be)){M.delete(V),C.add(V);let zt=en({state:"loading"},Me,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(V,zt),K({fetchers:new Map(p.fetchers)}),Be(p,be,{isFetchActionRedirect:!0})}if(lp(be)){Le(V,q,be.error);return}if(kc(be))throw Ya(400,{type:"defer-action"});let Pe=p.navigation.location||p.location,Xe=lh(n.history,Pe,G.signal),st=p.navigation.state!=="idle"?Uh(e,p.navigation.location,n.basename):p.matches;Et(st,"Didn't find any matches after fetcher action");let Ut=++E;R.set(V,Ut);let Q=en({state:"loading",data:be.data},Me,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(V,Q);let[ye,Ae]=_R(n.history,p,st,Me,Pe,_,b,S,{[ge.route.id]:be.data},void 0,k);Ae.filter(zt=>zt.key!==V).forEach(zt=>{let eo=zt.key,Ta=p.fetchers.get(eo),Ea={state:"loading",data:Ta&&Ta.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(eo,Ea),M.set(eo,G)}),K({fetchers:new Map(p.fetchers)});let{results:Ve,loaderResults:je,fetcherResults:lt}=await Ue(p.matches,st,ye,Ae,Xe);if(G.signal.aborted)return;R.delete(V),M.delete(V),Ae.forEach(zt=>M.delete(zt.key));let Kt=TR(Ve);if(Kt)return Be(p,Kt);let{loaderData:Sn,errors:Lr}=SR(p,p.matches,ye,je,void 0,Ae,lt,D),Zt={state:"idle",data:be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(V,Zt);let Ir=Ye(Ut);p.navigation.state==="loading"&&Ut>P?(Et(m,"Expected pending action"),g&&g.abort(),oe(p.navigation.location,{matches:st,loaderData:Sn,errors:Lr,fetchers:new Map(p.fetchers)})):(K(en({errors:Lr,loaderData:wR(p.loaderData,Sn,st,Lr)},Ir?{fetchers:new Map(p.fetchers)}:{})),_=!1)}async function ce(V,q,re,ge,Te,Me){let ae=p.fetchers.get(V),Ie=en({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Me,{data:ae&&ae.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(V,Ie),K({fetchers:new Map(p.fetchers)});let G=new AbortController,fe=lh(n.history,re,G.signal);M.set(V,G);let be=await ah("loader",fe,ge,Te,h.basename);if(kc(be)&&(be=await HO(be,fe.signal,!0)||be),M.get(V)===G&&M.delete(V),fe.signal.aborted)return;if(zd(be)){await Be(p,be);return}if(lp(be)){let Xe=xd(p.matches,q);p.fetchers.delete(V),K({fetchers:new Map(p.fetchers),errors:{[Xe.route.id]:be.error}});return}Et(!kc(be),"Unhandled fetcher deferred data");let Pe={state:"idle",data:be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(V,Pe),K({fetchers:new Map(p.fetchers)})}async function Be(V,q,re){var ge;let{submission:Te,replace:Me,isFetchActionRedirect:ae}=re===void 0?{}:re;q.revalidate&&(_=!0);let Ie=qp(V.location,q.location,en({_isRedirect:!0},ae?{_isFetchActionRedirect:!0}:{}));if(Et(Ie,"Expected a location on the redirect navigation"),zO.test(q.location)&&FO&&typeof((ge=window)==null?void 0:ge.location)<"u"){let st=n.history.createURL(q.location).origin;if(window.location.origin!==st){Me?window.location.replace(q.location):window.location.assign(q.location);return}}g=null;let G=Me===!0?Jn.Replace:Jn.Push,{formMethod:fe,formAction:be,formEncType:Pe,formData:Xe}=V.navigation;!Te&&fe&&be&&Xe&&Pe&&(Te={formMethod:fe,formAction:be,formEncType:Pe,formData:Xe}),YJ.has(q.status)&&Te&&Ko(Te.formMethod)?await J(G,Ie,{submission:en({},Te,{formAction:q.location}),preventScrollReset:v}):await J(G,Ie,{overrideNavigation:{state:"loading",location:Ie,formMethod:Te?Te.formMethod:void 0,formAction:Te?Te.formAction:void 0,formEncType:Te?Te.formEncType:void 0,formData:Te?Te.formData:void 0},preventScrollReset:v})}async function Ue(V,q,re,ge,Te){let Me=await Promise.all([...re.map(G=>ah("loader",Te,G,q,h.basename)),...ge.map(G=>ah("loader",lh(n.history,G.path,Te.signal),G.match,G.matches,h.basename))]),ae=Me.slice(0,re.length),Ie=Me.slice(re.length);return await Promise.all([ER(V,re,ae,Te.signal,!1,p.loaderData),ER(V,ge.map(G=>G.match),Ie,Te.signal,!0)]),{results:Me,loaderResults:ae,fetcherResults:Ie}}function $e(){_=!0,b.push(...ht()),k.forEach((V,q)=>{M.has(q)&&(S.push(q),_e(q))})}function Le(V,q,re){let ge=xd(p.matches,q);Fe(V),K({errors:{[ge.route.id]:re},fetchers:new Map(p.fetchers)})}function Fe(V){M.has(V)&&_e(V),k.delete(V),R.delete(V),C.delete(V),p.fetchers.delete(V)}function _e(V){let q=M.get(V);Et(q,"Expected fetch controller: "+V),q.abort(),M.delete(V)}function ve(V){for(let q of V){let ge={state:"idle",data:se(q).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(q,ge)}}function De(){let V=[];for(let q of C){let re=p.fetchers.get(q);Et(re,"Expected fetcher: "+q),re.state==="loading"&&(C.delete(q),V.push(q))}ve(V)}function Ye(V){let q=[];for(let[re,ge]of R)if(ge<V){let Te=p.fetchers.get(re);Et(Te,"Expected fetcher: "+re),Te.state==="loading"&&(_e(re),R.delete(re),q.push(re))}return ve(q),q.length>0}function ze(V,q){let re=p.blockers.get(V)||yR;return $.get(V)!==q&&$.set(V,q),re}function tt(V){p.blockers.delete(V),$.delete(V)}function Qe(V,q){let re=p.blockers.get(V)||yR;Et(re.state==="unblocked"&&q.state==="blocked"||re.state==="blocked"&&q.state==="blocked"||re.state==="blocked"&&q.state==="proceeding"||re.state==="blocked"&&q.state==="unblocked"||re.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+q.state),p.blockers.set(V,q),K({blockers:new Map(p.blockers)})}function Ze(V){let{currentLocation:q,nextLocation:re,historyAction:ge}=V;if($.size===0)return;$.size>1&&Yp(!1,"A router only supports one blocker at a time");let Te=Array.from($.entries()),[Me,ae]=Te[Te.length-1],Ie=p.blockers.get(Me);if(!(Ie&&Ie.state==="proceeding")&&ae({currentLocation:q,nextLocation:re,historyAction:ge}))return Me}function ht(V){let q=[];return D.forEach((re,ge)=>{(!V||V(ge))&&(re.cancel(),q.push(ge),D.delete(ge))}),q}function bt(V,q,re){if(i=V,o=q,s=re||(ge=>ge.key),!a&&p.navigation===ob){a=!0;let ge=O(p.location,p.matches);ge!=null&&K({restoreScrollPosition:ge})}return()=>{i=null,o=null,s=null}}function W(V,q){if(i&&s&&o){let re=q.map(Te=>CR(Te,p.loaderData)),ge=s(V,re)||V.key;i[ge]=o()}}function O(V,q){if(i&&s&&o){let re=q.map(Me=>CR(Me,p.loaderData)),ge=s(V,re)||V.key,Te=i[ge];if(typeof Te=="number")return Te}return null}return h={get basename(){return n.basename},get state(){return p},get routes(){return e},initialize:Y,subscribe:H,enableScrollRestoration:bt,navigate:N,fetch:Re,revalidate:X,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:se,deleteFetcher:Fe,dispose:I,getBlocker:ze,deleteBlocker:tt,_internalFetchControllers:M,_internalActiveDeferreds:D},h}function QJ(n){return n!=null&&"formData"in n}function xR(n,e,t){t===void 0&&(t=!1);let r=typeof n=="string"?n:ya(n);if(!e||!QJ(e))return{path:r};if(e.formMethod&&!sQ(e.formMethod))return{path:r,error:Ya(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:VO(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Ko(i.formMethod)))return{path:r,submission:i};let s=Po(r),o=UO(e.formData);return t&&s.search&&jO(s.search)&&o.append("index",""),s.search="?"+o,{path:ya(s),submission:i}}function eQ(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function _R(n,e,t,r,i,s,o,a,l,c,u){let h=c?Object.values(c)[0]:l?Object.values(l)[0]:void 0,p=n.createURL(e.location),m=n.createURL(i),v=s||p.toString()===m.toString()||p.search!==m.search,g=c?Object.keys(c)[0]:void 0,_=eQ(t,g).filter((S,M)=>{if(S.route.loader==null)return!1;if(tQ(e.loaderData,e.matches[M],S)||o.some(R=>R===S.route.id))return!0;let E=e.matches[M],P=S;return bR(S,en({currentUrl:p,currentParams:E.params,nextUrl:m,nextParams:P.params},r,{actionResult:h,defaultShouldRevalidate:v||BO(E,P)}))}),b=[];return u&&u.forEach((S,M)=>{if(t.some(E=>E.route.id===S.routeId))a.includes(M)?b.push(en({key:M},S)):bR(S.match,en({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:t[t.length-1].params},r,{actionResult:h,defaultShouldRevalidate:v}))&&b.push(en({key:M},S));else return}),[_,b]}function tQ(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function BO(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function bR(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function ah(n,e,t,r,i,s,o,a){i===void 0&&(i="/"),s===void 0&&(s=!1),o===void 0&&(o=!1);let l,c,u,h=new Promise((m,v)=>u=v),p=()=>u();e.signal.addEventListener("abort",p);try{let m=t.route[n];Et(m,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),c=await Promise.race([m({request:e,params:t.params,context:a}),h]),Et(c!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(m){l=Cr.error,c=m}finally{e.signal.removeEventListener("abort",p)}if(iQ(c)){let m=c.status;if(qJ.has(m)){let x=c.headers.get("Location");if(Et(x,"Redirects returned/thrown from loaders/actions must have a Location header"),zO.test(x)){if(!s){let _=new URL(e.url),b=x.startsWith("//")?new URL(_.protocol+x):new URL(x);b.origin===_.origin&&(x=b.pathname+b.search+b.hash)}}else{let _=r.slice(0,r.indexOf(t)+1),b=Ax(_).map(M=>M.pathnameBase),S=wT(x,b,new URL(e.url).pathname);if(Et(ya(S),"Unable to resolve redirect location: "+x),i){let M=S.pathname;S.pathname=M==="/"?i:da([i,M])}x=ya(S)}if(s)throw c.headers.set("Location",x),c;return{type:Cr.redirect,status:m,location:x,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||Cr.data,response:c};let v,g=c.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?v=await c.json():v=await c.text(),l===Cr.error?{type:l,error:new MT(m,c.statusText,v),headers:c.headers}:{type:Cr.data,data:v,statusCode:c.status,headers:c.headers}}return l===Cr.error?{type:l,error:c}:c instanceof HJ?{type:Cr.deferred,deferredData:c}:{type:Cr.data,data:c}}function lh(n,e,t,r){let i=n.createURL(VO(e)).toString(),s={signal:t};if(r&&Ko(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?UO(l):l}return new Request(i,s)}function UO(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,r instanceof File?r.name:r);return e}function nQ(n,e,t,r,i){let s={},o=null,a,l=!1,c={};return t.forEach((u,h)=>{let p=e[h].route.id;if(Et(!zd(u),"Cannot handle redirect results in processLoaderData"),lp(u)){let m=xd(n,p),v=u.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=v),s[p]=void 0,l||(l=!0,a=OO(u.error)?u.error.status:500),u.headers&&(c[p]=u.headers)}else kc(u)?(i.set(p,u.deferredData),s[p]=u.deferredData.data):s[p]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[p]=u.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function SR(n,e,t,r,i,s,o,a){let{loaderData:l,errors:c}=nQ(e,t,r,i,a);for(let u=0;u<s.length;u++){let{key:h,match:p}=s[u];Et(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let m=o[u];if(lp(m)){let v=xd(n.matches,p.route.id);c&&c[v.route.id]||(c=en({},c,{[v.route.id]:m.error})),n.fetchers.delete(h)}else if(zd(m))Et(!1,"Unhandled fetcher revalidation redirect");else if(kc(m))Et(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(h,v)}}return{loaderData:l,errors:c}}function wR(n,e,t,r){let i=en({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function xd(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function MR(n){let e=n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ya(n,e){let{pathname:t,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&t&&r?a="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):n===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",i&&t&&r?a="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new MT(n||500,o,new Error(a),!0)}function TR(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(zd(t))return t}}function VO(n){let e=typeof n=="string"?Po(n):n;return ya(en({},e,{hash:""}))}function rQ(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function kc(n){return n.type===Cr.deferred}function lp(n){return n.type===Cr.error}function zd(n){return(n&&n.type)===Cr.redirect}function iQ(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function sQ(n){return XJ.has(n)}function Ko(n){return GJ.has(n)}async function ER(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],c=n.find(h=>h.route.id===l.route.id),u=c!=null&&!BO(c,l)&&(s&&s[l.route.id])!==void 0;kc(a)&&(i||u)&&await HO(a,r,i).then(h=>{h&&(t[o]=h||t[o])})}}async function HO(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Cr.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Cr.error,error:i}}return{type:Cr.data,data:n.deferredData.data}}}function jO(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function CR(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function AR(n,e){let t=typeof e=="string"?Po(e).search:e.search;if(n[n.length-1].route.index&&jO(t||""))return n[n.length-1];let r=Ax(n);return r[r.length-1]}/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cy(){return Cy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cy.apply(this,arguments)}function oQ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const aQ=typeof Object.is=="function"?Object.is:oQ,{useState:lQ,useEffect:cQ,useLayoutEffect:uQ,useDebugValue:dQ}=mp;function fQ(n,e,t){const r=e(),[{inst:i},s]=lQ({inst:{value:r,getSnapshot:e}});return uQ(()=>{i.value=r,i.getSnapshot=e,ab(i)&&s({inst:i})},[n,r,e]),cQ(()=>(ab(i)&&s({inst:i}),n(()=>{ab(i)&&s({inst:i})})),[n]),dQ(r),r}function ab(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!aQ(t,r)}catch{return!0}}function hQ(n,e,t){return e()}const pQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mQ=!pQ,gQ=mQ?hQ:fQ,vQ="useSyncExternalStore"in mp?(n=>n.useSyncExternalStore)(mp):gQ,TT=L.createContext(null),Px=L.createContext(null),Sm=L.createContext(null),Rx=L.createContext(null),cu=L.createContext({outlet:null,matches:[]}),WO=L.createContext(null);function yQ(n,e){let{relative:t}=e===void 0?{}:e;wm()||Et(!1);let{basename:r,navigator:i}=L.useContext(Sm),{hash:s,pathname:o,search:a}=ET(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:da([r,o])),i.createHref({pathname:l,search:a,hash:s})}function wm(){return L.useContext(Rx)!=null}function Mm(){return wm()||Et(!1),L.useContext(Rx).location}function xQ(){wm()||Et(!1);let{basename:n,navigator:e}=L.useContext(Sm),{matches:t}=L.useContext(cu),{pathname:r}=Mm(),i=JSON.stringify(Ax(t).map(a=>a.pathnameBase)),s=L.useRef(!1);return L.useEffect(()=>{s.current=!0}),L.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=wT(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(c.pathname=c.pathname==="/"?n:da([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[n,e,i,r])}const _Q=L.createContext(null);function bQ(n){let e=L.useContext(cu).outlet;return e&&L.createElement(_Q.Provider,{value:n},e)}function ET(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=L.useContext(cu),{pathname:i}=Mm(),s=JSON.stringify(Ax(r).map(o=>o.pathnameBase));return L.useMemo(()=>wT(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function SQ(n,e){wm()||Et(!1);let{navigator:t}=L.useContext(Sm),r=L.useContext(Px),{matches:i}=L.useContext(cu),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Mm(),c;if(e){var u;let g=typeof e=="string"?Po(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||Et(!1),c=g}else c=l;let h=c.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",m=Uh(n,{pathname:p}),v=EQ(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:da([a,t.encodeLocation?t.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:da([a,t.encodeLocation?t.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return e&&v?L.createElement(Rx.Provider,{value:{location:Cy({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Jn.Pop}},v):v}function wQ(){let n=GO(),e=OO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,s)}class MQ extends L.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?L.createElement(cu.Provider,{value:this.props.routeContext},L.createElement(WO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TQ(n){let{routeContext:e,match:t,children:r}=n,i=L.useContext(TT);return i&&i.static&&i.staticContext&&t.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(cu.Provider,{value:e},r)}function EQ(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Et(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=t?o.route.errorElement||L.createElement(wQ,null):null,u=e.concat(r.slice(0,a+1)),h=()=>L.createElement(TQ,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?L.createElement(MQ,{location:t.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()},null)}var PR;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(PR||(PR={}));var Ay;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Ay||(Ay={}));function CQ(n){let e=L.useContext(Px);return e||Et(!1),e}function AQ(n){let e=L.useContext(cu);return e||Et(!1),e}function PQ(n){let e=AQ(),t=e.matches[e.matches.length-1];return t.route.id||Et(!1),t.route.id}function GO(){var n;let e=L.useContext(WO),t=CQ(Ay.UseRouteError),r=PQ(Ay.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function RQ(n){let{fallbackElement:e,router:t}=n,r=vQ(t.subscribe,()=>t.state,()=>t.state),i=L.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[t]),s=t.basename||"/";return L.createElement(L.Fragment,null,L.createElement(TT.Provider,{value:{router:t,navigator:i,static:!1,basename:s}},L.createElement(Px.Provider,{value:r},L.createElement(IQ,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:i},t.state.initialized?L.createElement(DQ,null):e))),null)}function kQ(n){return bQ(n.context)}function LQ(n){Et(!1)}function IQ(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Jn.Pop,navigator:s,static:o=!1}=n;wm()&&Et(!1);let a=e.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Po(r));let{pathname:c="/",search:u="",hash:h="",state:p=null,key:m="default"}=r,v=L.useMemo(()=>{let g=DO(c,a);return g==null?null:{pathname:g,search:u,hash:h,state:p,key:m}},[a,c,u,h,p,m]);return v==null?null:L.createElement(Sm.Provider,{value:l},L.createElement(Rx.Provider,{children:t,value:{location:v,navigationType:i}}))}function DQ(n){let{children:e,location:t}=n,r=L.useContext(TT),i=r&&!e?r.router.routes:Nw(e);return SQ(i,t)}var RR;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(RR||(RR={}));new Promise(()=>{});function Nw(n,e){e===void 0&&(e=[]);let t=[];return L.Children.forEach(n,(r,i)=>{if(!L.isValidElement(r))return;if(r.type===L.Fragment){t.push.apply(t,Nw(r.props.children,e));return}r.type!==LQ&&Et(!1),!r.props.index||!r.props.children||Et(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=Nw(r.props.children,s)),t.push(o)}),t}function $O(n){return n.map(e=>{let t=Cy({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=$O(t.children)),t})}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kp(){return Kp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kp.apply(this,arguments)}function XO(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function OQ(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NQ(n,e){return n.button===0&&(!e||e==="_self")&&!OQ(n)}const zQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],FQ=["aria-current","caseSensitive","className","end","style","to","children"];function BQ(n,e){return JJ({basename:e==null?void 0:e.basename,history:yJ({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||UQ(),routes:$O(n)}).initialize()}function UQ(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Kp({},e,{errors:VQ(e.errors)})),e}function VQ(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new MT(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",t[r]=s}else t[r]=i;return t}const HQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qO=L.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=XO(e,zQ),p,m=!1;if(HQ&&typeof c=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(c)){p=c;let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c);b.origin===_.origin?c=b.pathname+b.search+b.hash:m=!0}let v=yQ(c,{relative:i}),g=WQ(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function x(_){r&&r(_),_.defaultPrevented||g(_)}return L.createElement("a",Kp({},h,{href:p||v,onClick:m||s?r:x,ref:t,target:l}))}),jQ=L.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,u=XO(e,FQ),h=ET(l,{relative:u.relative}),p=Mm(),m=L.useContext(Px),{navigator:v}=L.useContext(Sm),g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,x=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase());let b=x===g||!o&&x.startsWith(g)&&x.charAt(g.length)==="/",S=_!=null&&(_===g||!o&&_.startsWith(g)&&_.charAt(g.length)==="/"),M=b?r:void 0,E;typeof s=="function"?E=s({isActive:b,isPending:S}):E=[s,b?"active":null,S?"pending":null].filter(Boolean).join(" ");let P=typeof a=="function"?a({isActive:b,isPending:S}):a;return L.createElement(qO,Kp({},u,{"aria-current":M,className:E,ref:t,style:P,to:l}),typeof c=="function"?c({isActive:b,isPending:S}):c)});var kR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(kR||(kR={}));var LR;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(LR||(LR={}));function WQ(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=xQ(),l=Mm(),c=ET(n,{relative:o});return L.useCallback(u=>{if(NQ(u,t)){u.preventDefault();let h=r!==void 0?r:ya(l)===ya(c);a(n,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,t,n,s,o])}var YO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IR=yi.createContext&&yi.createContext(YO),vl=globalThis&&globalThis.__assign||function(){return vl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vl.apply(this,arguments)},GQ=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function KO(n){return n&&n.map(function(e,t){return yi.createElement(e.tag,vl({key:t},e.attr),KO(e.child))})}function Ci(n){return function(e){return yi.createElement($Q,vl({attr:vl({},n.attr)},e),KO(n.child))}}function $Q(n){var e=function(t){var r=n.attr,i=n.size,s=n.title,o=GQ(n,["attr","size","title"]),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),yi.createElement("svg",vl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:vl(vl({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&yi.createElement("title",null,s),n.children)};return IR!==void 0?yi.createElement(IR.Consumer,null,function(t){return e(t)}):e(YO)}function XQ(n){return Ci({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M185.7 268.1h76.2l-38.1-91.6-38.1 91.6zM223.8 32L16 106.4l31.8 275.7 176 97.9 176-97.9 31.8-275.7zM354 373.8h-48.6l-26.2-65.4H168.6l-26.2 65.4H93.7L223.8 81.5z"}}]})(n)}function qQ(n){return Ci({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"}}]})(n)}function YQ(n){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.4,115.83a5.72,5.72,0,0,0-.28-.68,8.52,8.52,0,0,0-.53-1.25,6,6,0,0,0-.54-.71,9.36,9.36,0,0,0-.72-.94c-.23-.22-.52-.4-.77-.6a8.84,8.84,0,0,0-.9-.68L404.4,55.55a8,8,0,0,0-8,0L300.12,111h0a8.07,8.07,0,0,0-.88.69,7.68,7.68,0,0,0-.78.6,8.23,8.23,0,0,0-.72.93c-.17.24-.39.45-.54.71a9.7,9.7,0,0,0-.52,1.25c-.08.23-.21.44-.28.68a8.08,8.08,0,0,0-.28,2.08V223.18l-80.22,46.19V63.44a7.8,7.8,0,0,0-.28-2.09c-.06-.24-.2-.45-.28-.68a8.35,8.35,0,0,0-.52-1.24c-.14-.26-.37-.47-.54-.72a9.36,9.36,0,0,0-.72-.94,9.46,9.46,0,0,0-.78-.6,9.8,9.8,0,0,0-.88-.68h0L115.61,1.07a8,8,0,0,0-8,0L11.34,56.49h0a6.52,6.52,0,0,0-.88.69,7.81,7.81,0,0,0-.79.6,8.15,8.15,0,0,0-.71.93c-.18.25-.4.46-.55.72a7.88,7.88,0,0,0-.51,1.24,6.46,6.46,0,0,0-.29.67,8.18,8.18,0,0,0-.28,2.1v329.7a8,8,0,0,0,4,6.95l192.5,110.84a8.83,8.83,0,0,0,1.33.54c.21.08.41.2.63.26a7.92,7.92,0,0,0,4.1,0c.2-.05.37-.16.55-.22a8.6,8.6,0,0,0,1.4-.58L404.4,400.09a8,8,0,0,0,4-6.95V287.88l92.24-53.11a8,8,0,0,0,4-7V117.92A8.63,8.63,0,0,0,504.4,115.83ZM111.6,17.28h0l80.19,46.15-80.2,46.18L31.41,63.44Zm88.25,60V278.6l-46.53,26.79-33.69,19.4V123.5l46.53-26.79Zm0,412.78L23.37,388.5V77.32L57.06,96.7l46.52,26.8V338.68a6.94,6.94,0,0,0,.12.9,8,8,0,0,0,.16,1.18h0a5.92,5.92,0,0,0,.38.9,6.38,6.38,0,0,0,.42,1v0a8.54,8.54,0,0,0,.6.78,7.62,7.62,0,0,0,.66.84l0,0c.23.22.52.38.77.58a8.93,8.93,0,0,0,.86.66l0,0,0,0,92.19,52.18Zm8-106.17-80.06-45.32,84.09-48.41,92.26-53.11,80.13,46.13-58.8,33.56Zm184.52,4.57L215.88,490.11V397.8L346.6,323.2l45.77-26.15Zm0-119.13L358.68,250l-46.53-26.79V131.79l33.69,19.4L392.37,178Zm8-105.28-80.2-46.17,80.2-46.16,80.18,46.15Zm8,105.28V178L455,151.19l33.68-19.4v91.39h0Z"}}]})(n)}function KQ(n){return Ci({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"}}]})(n)}function ZQ(n){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"}}]})(n)}function JQ(n){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(n)}function QQ(n){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"}}]})(n)}function eee(n){return Ci({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(n)}function ZO(n){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(n)}function tee(n){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}}]})(n)}function nee(n){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(n)}function JO(n){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(n)}const lb=({to:n,title:e,onClick:t})=>{const{colorMode:r}=cr();return F.jsx(CO,{as:jQ,to:n,_activeLink:{background:Yd("#000","#252424e0"),color:"#fff"},borderRadius:{sm:"5px"},mr:{sm:"0",md:"3"},mt:{sm:"2",md:"0"},color:`mode.${r}.color`,padding:"0.7rem",display:{sm:"block"},_visited:{outline:"none"},_hover:{background:Yd("rgba(0, 0, 0, 0.7)","#463d3de0"),color:"#fff"},textTransform:"capitalize",onClick:()=>t(!1),children:e})};function ree(n){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}}]})(n)}const cb="azaria",iee=()=>{const[n,e]=L.useState(""),[t,r]=L.useState(!1);return iJ("keydown",i=>{e(s=>s+i.key)}),L.useEffect(()=>{console.log(n.includes(cb),n,cb),n.includes(cb)&&r(!0)},[n]),t?F.jsx(qO,{to:"my-beloved",children:F.jsx(Ex,{"aria-label":"My Favorite",icon:F.jsx(ree,{fill:"red"}),size:"lg",isRound:!0,variant:"ghost"})}):F.jsx(F.Fragment,{})},see=()=>{const[n,e]=L.useState(!1),t=()=>e(i=>!i),{toggleColorMode:r}=cr();return F.jsxs(_r,{as:"nav",align:"center",justify:"space-between",wrap:"wrap",padding:"1.5rem",color:"#2D3748",marginLeft:"auto",marginRight:"auto",maxWidth:"48rem",children:[F.jsxs(_r,{align:"center",mr:{md:"5"},width:{sm:"100%",md:"auto"},justifyContent:{sm:"space-between",md:"flex-start"},children:[F.jsx(gr,{}),F.jsx(gr,{display:{sm:"block",md:"none"},onClick:t,children:F.jsx(nee,{fontSize:"2.5rem",color:Yd("#2D3748","#ffffffde")})})]}),F.jsxs(gr,{display:{sm:n?"block":"none",md:"flex"},flexDirection:{sm:"column",md:"row"},width:{sm:"100px",md:"auto"},alignItems:"center",flexGrow:1,children:[F.jsx(lb,{to:"/",title:"home",onClick:e}),F.jsx(lb,{to:"projects",title:"projects",onClick:e}),F.jsx(lb,{to:"articles",title:"articles",onClick:e})]}),F.jsxs(gr,{position:{sm:"absolute",md:"unset"},top:"1.25rem",right:"5.5rem",children:[F.jsx(Ex,{"aria-label":"Color Mode",icon:Yd(F.jsx(ZO,{}),F.jsx(JO,{})),onClick:r,size:"lg",isRound:!0,variant:"ghost"}),F.jsx(iee,{})]})]})},oee=()=>{const{colorMode:n}=cr();return F.jsxs(gr,{bg:`mode.${n}.background`,minH:"100vh",children:[F.jsx(see,{}),F.jsx(kQ,{})]})},aee=({article:n})=>{const{colorMode:e}=cr(),t=r=>{window.open(r,"_blank")};return F.jsxs(gr,{p:5,_hover:{shadow:"md"},cursor:"pointer",borderWidth:"1px",borderColor:"#e2e8f0",position:"relative",rounded:"md",onClick:()=>t(n.url),children:[F.jsx(gr,{as:tee,size:"25px",width:"1.5rem",height:"1.5rem",position:"absolute",color:`mode.${e}.text`,fill:`mode.${e}.text`,right:"0.5rem",top:"-8px",marginBottom:"1rem"}),F.jsx(Ss,{fontSize:"xl",color:`mode.${e}.text`,children:n.title}),F.jsx(Yi,{spacing:1,mt:1,isInline:!0,alignItems:"center",children:n.tag_list.map(r=>F.jsx(ST,{size:"sm",color:"#4299E1",bgColor:"#EBF8FF",children:r},r))}),F.jsx(To,{mt:2,color:`mode.${e}.text`,children:n.description.replace(/\s+/g," ").trim()})]})},CT=({children:n})=>{const{colorMode:e}=cr();return F.jsx(_r,{padding:"1.5rem 3rem",color:"#2D3748",bg:`mode.${e}.background`,marginLeft:"auto",marginRight:"auto",maxWidth:"48rem",paddingTop:"3rem",gap:10,flexDirection:"column",children:n})},lee=()=>{const[n,e]=L.useState(),t=VZ();return L.useEffect(()=>{fetch("https://dev.to/api/articles?username=fadilmuh22").then(async r=>{e(await r.json())}).catch(r=>{t({title:"Error getting articles",description:r.message,status:"error",duration:2e3,isClosable:!0})})},[]),F.jsx(CT,{children:n&&n.map(r=>F.jsx(aee,{article:r},r.id))})},cee=()=>{const n=GO();return F.jsxs("div",{id:"error-page",children:[F.jsx("h1",{children:"Oops!"}),F.jsx("p",{children:"Sorry, an unexpected error has occurred."}),F.jsx("p",{children:F.jsx("i",{children:n.statusText||n.message})})]})};var uee=Object.defineProperty,dee=Object.defineProperties,fee=Object.getOwnPropertyDescriptors,DR=Object.getOwnPropertySymbols,hee=Object.prototype.hasOwnProperty,pee=Object.prototype.propertyIsEnumerable,OR=(n,e,t)=>e in n?uee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ub=(n,e)=>{for(var t in e||(e={}))hee.call(e,t)&&OR(n,t,e[t]);if(DR)for(var t of DR(e))pee.call(e,t)&&OR(n,t,e[t]);return n},db=(n,e)=>dee(n,fee(e));const kx=L.createContext(void 0),mee=kx.Provider;kx.Consumer;function gee(){const n=L.useContext(kx);if(n===void 0)throw Error("No client has been specified using Provider.");return n}kx.displayName="SupabaseContext";const NR={count:void 0,data:void 0,error:void 0,fetching:!1};function Lx(n,e={columns:"*",options:{}}){const t=gee(),r=L.useRef(!1),[i,s]=L.useState(db(ub({},NR),{stale:!1})),o=L.useCallback(async()=>{if(e.pause)return null;s(p=>db(ub({},NR),{data:p.data,stale:!0,fetching:!0}));const a=t.from(n).select(e.columns,e.options),{count:l,data:c,error:u}=await(e.filter?e.filter(a):a),h={count:l,data:c,error:u};return r.current&&s(db(ub({},h),{stale:!1,fetching:!1})),h},[t,e,n]);return L.useEffect(()=>(r.current=!0,o(),()=>{r.current=!1}),[e==null?void 0:e.filter]),[i,o]}const AT=({title:n,Icon:e,size:t})=>{const{colorMode:r}=cr();return F.jsx(Ss,{color:`mode.${r}.text`,children:F.jsxs(_r,{alignItems:"center",gap:2,children:[F.jsx(To,{as:"span",color:`mode.${r}.text`,children:n}),F.jsx(Yi,{children:e&&F.jsx(e,{size:t,color:`mode.${r}.subtext`})})]})})},Qd=({tags:n,display:e})=>{const{colorMode:t}=cr();return F.jsx(Yi,{display:e,spacing:2,mt:3,isInline:!0,alignItems:"center",children:n&&n.split(",").map(r=>F.jsx(ST,{size:"sm",padding:"0 3px",color:`mode.${t}.text`,bgColor:`mode.${t}.career.tagBG`,children:r},r))})},vee=({education:n})=>{const{colorMode:e}=cr();return F.jsxs(gr,{paddingX:4,paddingY:5,_hover:{boxShadow:`var(--chakra-colors-mode-${e}-shadow)`},borderWidth:"1px",borderColor:`mode.${e}.border`,bg:`mode.${e}.background`,position:"relative",rounded:"md",children:[F.jsxs(_r,{justifyContent:"space-between",children:[F.jsxs(_r,{children:[F.jsx(bm,{rounded:"full",width:"4rem",height:"4rem",objectFit:"cover",src:n.photo,alt:n.name}),F.jsxs(Yi,{spacing:2,pl:3,children:[F.jsx(Ss,{fontSize:"xl",color:`mode.${e}.text`,children:n.name}),F.jsx(Ss,{fontSize:"sm",color:`mode.${e}.subtext`,children:n.major}),F.jsx(Qd,{display:{sm:"none",md:"block"},tags:n.skills})]})]}),F.jsx(Yi,{children:F.jsx(To,{fontSize:14,color:`mode.${e}.subtext`,children:`${new Date(n.start_date).getFullYear()} - ${new Date(n.end_date).getFullYear()}`})})]}),F.jsx(Qd,{display:{sm:"block",md:"none"},tags:n.skills})]})},yee=()=>{const[{count:n,data:e,error:t,fetching:r},i]=Lx("educations");return t?F.jsx("div",{children:t.message}):r?F.jsx("div",{children:"Loading educations"}):(e==null?void 0:e.length)===0?F.jsx("div",{children:"No educations"}):F.jsxs(_r,{gap:4,flexDirection:"column",children:[F.jsx(AT,{title:"Educations",Icon:eee,size:24}),e&&e.map(s=>F.jsx(vee,{education:s},s.id))]})};function Ro(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Ev(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ev=function(t){return typeof t}:Ev=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(n)}function Gr(n){Ro(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Ev(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var xee={};function _ee(){return xee}function zR(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Cv(n,e){Ro(2,arguments);var t=Gr(n),r=Gr(e),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function bee(n,e){Ro(2,arguments);var t=Gr(n),r=Gr(e),i=t.getFullYear()-r.getFullYear(),s=t.getMonth()-r.getMonth();return i*12+s}function See(n,e){return Ro(2,arguments),Gr(n).getTime()-Gr(e).getTime()}var FR={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},wee="trunc";function Mee(n){return n?FR[n]:FR[wee]}function Tee(n){Ro(1,arguments);var e=Gr(n);return e.setHours(23,59,59,999),e}function Eee(n){Ro(1,arguments);var e=Gr(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Cee(n){Ro(1,arguments);var e=Gr(n);return Tee(e).getTime()===Eee(e).getTime()}function Aee(n,e){Ro(2,arguments);var t=Gr(n),r=Gr(e),i=Cv(t,r),s=Math.abs(bee(t,r)),o;if(s<1)o=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*s);var a=Cv(t,r)===-i;Cee(Gr(n))&&s===1&&Cv(n,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function Pee(n,e,t){Ro(2,arguments);var r=See(n,e)/1e3;return Mee(t==null?void 0:t.roundingMethod)(r)}var Ree={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kee=function(e,t,r){var i,s=Ree[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Lee=kee;function fb(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}var Iee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nee={date:fb({formats:Iee,defaultWidth:"full"}),time:fb({formats:Dee,defaultWidth:"full"}),dateTime:fb({formats:Oee,defaultWidth:"full"})};const zee=Nee;var Fee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bee=function(e,t,r,i){return Fee[e]};const Uee=Bee;function ch(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):s;i=n.formattingValues[o]||n.formattingValues[s]}else{var a=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[a]}var c=n.argumentCallback?n.argumentCallback(e):e;return i[c]}}var Vee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$ee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xee=function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qee={ordinalNumber:Xee,era:ch({values:Vee,defaultWidth:"wide"}),quarter:ch({values:Hee,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ch({values:jee,defaultWidth:"wide"}),day:ch({values:Wee,defaultWidth:"wide"}),dayPeriod:ch({values:Gee,defaultWidth:"wide",formattingValues:$ee,defaultFormattingWidth:"wide"})};const Yee=qee;function uh(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?Zee(a,function(h){return h.test(o)}):Kee(a,function(h){return h.test(o)}),c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function Kee(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function Zee(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function Jee(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var i=r[0],s=e.match(n.parsePattern);if(!s)return null;var o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Qee=/^(\d+)(th|st|nd|rd)?/i,ete=/\d+/i,tte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nte={any:[/^b/i,/^(a|c)/i]},rte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ite={any:[/1/i,/2/i,/3/i,/4/i]},ste={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ote={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ate={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ute={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dte={ordinalNumber:Jee({matchPattern:Qee,parsePattern:ete,valueCallback:function(e){return parseInt(e,10)}}),era:uh({matchPatterns:tte,defaultMatchWidth:"wide",parsePatterns:nte,defaultParseWidth:"any"}),quarter:uh({matchPatterns:rte,defaultMatchWidth:"wide",parsePatterns:ite,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:uh({matchPatterns:ste,defaultMatchWidth:"wide",parsePatterns:ote,defaultParseWidth:"any"}),day:uh({matchPatterns:ate,defaultMatchWidth:"wide",parsePatterns:lte,defaultParseWidth:"any"}),dayPeriod:uh({matchPatterns:cte,defaultMatchWidth:"any",parsePatterns:ute,defaultParseWidth:"any"})};const fte=dte;var hte={code:"en-US",formatDistance:Lee,formatLong:zee,formatRelative:Uee,localize:Yee,match:fte,options:{weekStartsOn:0,firstWeekContainsDate:1}};const pte=hte;function QO(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function mte(n){return QO({},n)}var BR=1440,gte=2520,hb=43200,vte=86400;function eN(n,e,t){var r,i;Ro(2,arguments);var s=_ee(),o=(r=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:s.locale)!==null&&r!==void 0?r:pte;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=Cv(n,e);if(isNaN(a))throw new RangeError("Invalid time value");var l=QO(mte(t),{addSuffix:Boolean(t==null?void 0:t.addSuffix),comparison:a}),c,u;a>0?(c=Gr(e),u=Gr(n)):(c=Gr(n),u=Gr(e));var h=Pee(u,c),p=(zR(u)-zR(c))/1e3,m=Math.round((h-p)/60),v;if(m<2)return t!=null&&t.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,l):h<10?o.formatDistance("lessThanXSeconds",10,l):h<20?o.formatDistance("lessThanXSeconds",20,l):h<40?o.formatDistance("halfAMinute",0,l):h<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):m===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",m,l);if(m<45)return o.formatDistance("xMinutes",m,l);if(m<90)return o.formatDistance("aboutXHours",1,l);if(m<BR){var g=Math.round(m/60);return o.formatDistance("aboutXHours",g,l)}else{if(m<gte)return o.formatDistance("xDays",1,l);if(m<hb){var x=Math.round(m/BR);return o.formatDistance("xDays",x,l)}else if(m<vte)return v=Math.round(m/hb),o.formatDistance("aboutXMonths",v,l)}if(v=Aee(u,c),v<12){var _=Math.round(m/hb);return o.formatDistance("xMonths",_,l)}else{var b=v%12,S=Math.floor(v/12);return b<3?o.formatDistance("aboutXYears",S,l):b<9?o.formatDistance("overXYears",S,l):o.formatDistance("almostXYears",S+1,l)}}const yte=({experience:n})=>{const{colorMode:e}=cr();return F.jsxs(gr,{paddingX:4,paddingY:5,_hover:{boxShadow:`var(--chakra-colors-mode-${e}-shadow)`},borderWidth:"1px",borderColor:`mode.${e}.border`,bg:`mode.${e}.background`,position:"relative",rounded:"md",children:[F.jsxs(_r,{justifyContent:"space-between",children:[F.jsxs(_r,{children:[F.jsx(bm,{rounded:"full",width:"4rem",height:"4rem",objectFit:"cover",src:n.photo,alt:n.name}),F.jsxs(Yi,{spacing:2,pl:3,children:[F.jsx(Ss,{fontSize:"xl",color:`mode.${e}.text`,children:n.company_name}),F.jsx(Ss,{fontSize:"sm",color:`mode.${e}.subtext`,children:n.name}),F.jsx(Qd,{display:{sm:"none",md:"block"},tags:n.techs})]})]}),F.jsx(Yi,{children:F.jsx(To,{fontSize:14,color:`mode.${e}.subtext`,children:eN(new Date(n.start_date),new Date(n.end_date))})})]}),F.jsx(Qd,{display:{sm:"block",md:"none"},tags:n.techs})]})},xte=()=>{const[{count:n,data:e,error:t,fetching:r},i]=Lx("experiences");return t?F.jsx("div",{children:t.message}):r?F.jsx("div",{children:"Loading experiences"}):(e==null?void 0:e.length)===0?F.jsx("div",{children:"No experiences"}):F.jsxs(_r,{gap:4,flexDirection:"column",children:[F.jsx(AT,{title:"Experiences",Icon:QQ,size:18}),e&&e.map(s=>F.jsx(yte,{experience:s},s.id))]})},_te="/assets/profile-04822187.jpg",bte=()=>{const{colorMode:n}=cr();return F.jsxs(F.Fragment,{children:[F.jsx(Ss,{as:"h1",size:"lg",letterSpacing:"-.1rem",children:F.jsx(_O,{name:"Fadil Muh",size:"lg",src:_te})}),F.jsxs(Yi,{spacing:2,marginBottom:8,children:[F.jsx(Ss,{color:`mode.${n}.text`,display:"flex",children:"Hi, I'm Fadil"}),F.jsx(_r,{flexDirection:"row",alignItems:"center",children:F.jsx(gr,{children:F.jsx(To,{color:`mode.${n}.subtext`,children:"I am a Mobile developer from Indonesia"})})})]})]})},Ste=()=>F.jsx(_r,{gap:4,children:F.jsx(bte,{})});function wte(n){return Ci({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M14.314 0L2.3 12 6 15.7 21.684.013h-7.357zm.014 11.072L7.857 17.53l6.47 6.47H21.7l-6.46-6.468 6.46-6.46h-7.37z"}}]})(n)}const Mte={react:ZQ,angular:XQ,python:KQ,flutter:wte,java:qQ,laravel:YQ},UR=Tx(on((n,e)=>{const t=Object.fromEntries(Object.entries(n).filter(([r])=>!eu(r)));return F.jsx(gr,{ref:e,...t})}));Tx(on((n,e)=>{const t=Object.fromEntries(Object.entries(n).filter(([r])=>!eu(r)));return F.jsx(_r,{ref:e,...t})}));Tx(on((n,e)=>{const t=Object.fromEntries(Object.entries(n).filter(([r])=>!eu(r)));return F.jsx(bm,{ref:e,fallback:F.jsx(JQ,{}),...t})}));const Tte={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},Ete=({name:n,Icon:e,description:t})=>{const{colorMode:r}=cr();return F.jsx(UR,{variants:Tte,children:F.jsx(UR,{whileHover:{y:-5},children:F.jsxs(TO,{p:4,bg:`mode.${r}.background`,rounded:"xl",borderWidth:"1px",borderColor:`mode.${r}.border`,w:"100%",textAlign:"left",align:"start",spacing:4,_hover:{shadow:"md"},children:[F.jsx(gr,{rounded:"lg",p:2,position:"relative",overflow:"hidden",lineHeight:0,boxShadow:"inset 0 0 1px 1px rgba(0, 0, 0, 0.03)",children:F.jsx(e,{size:26,color:Yd("#2D3748","#ffffffde")})}),F.jsx(Dw,{align:"start",justify:"flex-start",spacing:1,maxW:"lg",h:"100%",children:F.jsxs(Dw,{spacing:0,align:"start",flexGrow:"1",children:[F.jsx(To,{fontWeight:"bold",fontSize:"md",noOfLines:2,color:`mode.${r}.text`,children:n}),F.jsx(To,{fontSize:"sm",color:`mode.${r}.text`,children:t})]})})]})})})},Cte=()=>{const{colorMode:n}=cr(),[{count:e,data:t,error:r,fetching:i},s]=Lx("skills");return r?F.jsx("div",{children:r.message}):i?F.jsx("div",{children:"Loading techs"}):(t==null?void 0:t.length)===0?F.jsx("div",{children:"No techs"}):F.jsxs(_r,{gap:4,flexDirection:"column",children:[F.jsx(Ss,{color:`mode.${n}.text`,children:"Skills"}),F.jsx(wO,{columns:[1,2],spacing:4,children:t&&t.map(o=>F.jsx(Ete,{name:o.name,Icon:Mte[o.icon],description:o.description},o.id))})]})},Ate=()=>(cr(),F.jsxs(CT,{children:[F.jsx(Ste,{}),F.jsx(Cte,{}),F.jsx(xte,{}),F.jsx(yee,{})]})),Pte="modulepreload",Rte=function(n){return"/"+n},VR={},Ix=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Rte(s),s in VR)return;VR[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Pte,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var kte=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Lte=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>kte(void 0,void 0,void 0,function*(){return yield(yield Ix(()=>Promise.resolve().then(()=>Dx),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)};class PT extends Error{constructor(e,t="FunctionsError",r){super(e),super.name=t,this.context=r}}class Ite extends PT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dte extends PT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ote extends PT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nte=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class zte{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=Lte(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Nte(this,void 0,void 0,function*(){try{const{headers:i,body:s}=t;let o={},a;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",a=s):typeof s=="string"?(o["Content-Type"]="text/plain",a=s):typeof FormData<"u"&&s instanceof FormData?a=s:(o["Content-Type"]="application/json",a=JSON.stringify(s)));const l=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:a}).catch(p=>{throw new Ite(p)}),c=l.headers.get("x-relay-error");if(c&&c==="true")throw new Dte(l);if(!l.ok)throw new Ote(l);let u=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return u==="application/json"?h=yield l.json():u==="application/octet-stream"?h=yield l.blob():u==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var ef={},Fte={get exports(){return ef},set exports(n){ef=n}};(function(n,e){var t=typeof self<"u"?self:Rh,r=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(I){return I&&c.indexOf(Object.prototype.toString.call(I))>-1};function h(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function p(I){return typeof I!="string"&&(I=String(I)),I}function m(I){var H={next:function(){var K=I.shift();return{done:K===void 0,value:K}}};return a.iterable&&(H[Symbol.iterator]=function(){return H}),H}function v(I){this.map={},I instanceof v?I.forEach(function(H,K){this.append(K,H)},this):Array.isArray(I)?I.forEach(function(H){this.append(H[0],H[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(H){this.append(H,I[H])},this)}v.prototype.append=function(I,H){I=h(I),H=p(H);var K=this.map[I];this.map[I]=K?K+", "+H:H},v.prototype.delete=function(I){delete this.map[h(I)]},v.prototype.get=function(I){return I=h(I),this.has(I)?this.map[I]:null},v.prototype.has=function(I){return this.map.hasOwnProperty(h(I))},v.prototype.set=function(I,H){this.map[h(I)]=p(H)},v.prototype.forEach=function(I,H){for(var K in this.map)this.map.hasOwnProperty(K)&&I.call(H,this.map[K],K,this)},v.prototype.keys=function(){var I=[];return this.forEach(function(H,K){I.push(K)}),m(I)},v.prototype.values=function(){var I=[];return this.forEach(function(H){I.push(H)}),m(I)},v.prototype.entries=function(){var I=[];return this.forEach(function(H,K){I.push([K,H])}),m(I)},a.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function g(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function x(I){return new Promise(function(H,K){I.onload=function(){H(I.result)},I.onerror=function(){K(I.error)}})}function _(I){var H=new FileReader,K=x(H);return H.readAsArrayBuffer(I),K}function b(I){var H=new FileReader,K=x(H);return H.readAsText(I),K}function S(I){for(var H=new Uint8Array(I),K=new Array(H.length),oe=0;oe<H.length;oe++)K[oe]=String.fromCharCode(H[oe]);return K.join("")}function M(I){if(I.slice)return I.slice(0);var H=new Uint8Array(I.byteLength);return H.set(new Uint8Array(I)),H.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(I){this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:a.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:a.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():a.arrayBuffer&&a.blob&&l(I)?(this._bodyArrayBuffer=M(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||u(I))?this._bodyArrayBuffer=M(I):this._bodyText=I=Object.prototype.toString.call(I):this._bodyText="",this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var I=g(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var I=g(this);if(I)return I;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(I){var H=I.toUpperCase();return P.indexOf(H)>-1?H:I}function C(I,H){H=H||{};var K=H.body;if(I instanceof C){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,H.headers||(this.headers=new v(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!K&&I._bodyInit!=null&&(K=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new v(H.headers)),this.method=R(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&K)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(K)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function k(I){var H=new FormData;return I.trim().split("&").forEach(function(K){if(K){var oe=K.split("="),N=oe.shift().replace(/\+/g," "),X=oe.join("=").replace(/\+/g," ");H.append(decodeURIComponent(N),decodeURIComponent(X))}}),H}function D(I){var H=new v,K=I.replace(/\r?\n[\t ]+/g," ");return K.split(/\r?\n/).forEach(function(oe){var N=oe.split(":"),X=N.shift().trim();if(X){var J=N.join(":").trim();H.append(X,J)}}),H}E.call(C.prototype);function $(I,H){H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new v(H.headers),this.url=H.url||"",this._initBody(I)}E.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},$.error=function(){var I=new $(null,{status:0,statusText:""});return I.type="error",I};var le=[301,302,303,307,308];$.redirect=function(I,H){if(le.indexOf(H)===-1)throw new RangeError("Invalid status code");return new $(null,{status:H,headers:{location:I}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(H,K){this.message=H,this.name=K;var oe=Error(H);this.stack=oe.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Y(I,H){return new Promise(function(K,oe){var N=new C(I,H);if(N.signal&&N.signal.aborted)return oe(new o.DOMException("Aborted","AbortError"));var X=new XMLHttpRequest;function J(){X.abort()}X.onload=function(){var he={status:X.status,statusText:X.statusText,headers:D(X.getAllResponseHeaders()||"")};he.url="responseURL"in X?X.responseURL:he.headers.get("X-Request-URL");var Z="response"in X?X.response:X.responseText;K(new $(Z,he))},X.onerror=function(){oe(new TypeError("Network request failed"))},X.ontimeout=function(){oe(new TypeError("Network request failed"))},X.onabort=function(){oe(new o.DOMException("Aborted","AbortError"))},X.open(N.method,N.url,!0),N.credentials==="include"?X.withCredentials=!0:N.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&a.blob&&(X.responseType="blob"),N.headers.forEach(function(he,Z){X.setRequestHeader(Z,he)}),N.signal&&(N.signal.addEventListener("abort",J),X.onreadystatechange=function(){X.readyState===4&&N.signal.removeEventListener("abort",J)}),X.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return Y.polyfill=!0,s.fetch||(s.fetch=Y,s.Headers=v,s.Request=C,s.Response=$),o.Headers=v,o.Request=C,o.Response=$,o.fetch=Y,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(Fte,ef);const RT=DM(ef),Dx=NL({__proto__:null,default:RT},[ef]);class Bte{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=RT:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,h=null,p=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const _=await s.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&x&&x.length>1&&(h=parseInt(x[1]))}else{const g=await s.text();try{c=JSON.parse(g),Array.isArray(c)&&s.status===404&&(u=[],c=null,p=200,m="OK")}catch{s.status===404&&g===""?(p=204,m="No Content"):c={message:g}}if(c&&this.allowEmpty&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("Results contain 0 rows"))&&(c=null,p=200,m="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,count:null,status:0,statusText:""}))),i.then(e,t)}}class Ute extends Bte{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class td extends Ute{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=t.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class Vte{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new td({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t}={}){const r="POST",i=[],s=e;if(t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new td({method:r,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];t!==void 0&&this.url.searchParams.set("on_conflict",t);const a=e;return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new td({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[],s=e;return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new td({method:r,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new td({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Hte="1.4.0",jte={"X-Client-Info":`postgrest-js/${Hte}`};class Wte{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},jte),t),this.schema=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new Vte(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(s="HEAD",Object.entries(t).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(s="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new td({method:s,url:o,headers:l,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var pb,HR;function Gte(){if(HR)return pb;HR=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return pb=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),pb}const $te="websocket",Xte="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",qte=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Yte="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Kte=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Zte="1.0.34",Jte={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Qte="https://github.com/theturtle32/WebSocket-Node",ene={node:">=4.0.0"},tne={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},nne={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},rne={verbose:!1},ine={test:"tape test/unit/*.js",gulp:"gulp"},sne="index",one={lib:"./lib"},ane="lib/browser.js",lne="Apache-2.0",cne={name:$te,description:Xte,keywords:qte,author:Yte,contributors:Kte,version:Zte,repository:Jte,homepage:Qte,engines:ene,dependencies:tne,devDependencies:nne,config:rne,scripts:ine,main:sne,directories:one,browser:ane,license:lne};var une=cne.version,_c;if(typeof globalThis=="object")_c=globalThis;else try{_c=Gte()}catch{}finally{if(!_c&&typeof window<"u"&&(_c=window),!_c)throw new Error("Could not determine global this")}var Zp=_c.WebSocket||_c.MozWebSocket,dne=une;function tN(n,e){var t;return e?t=new Zp(n,e):t=new Zp(n),t}Zp&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(tN,n,{get:function(){return Zp[n]}})});var fne={w3cwebsocket:Zp?tN:null,version:dne};const hne="2.6.0",pne={"X-Client-Info":`realtime-js/${hne}`},mne="1.0.0",nN=1e4,gne=1e3;var cp;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(cp||(cp={}));var Fi;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Fi||(Fi={}));var Fs;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Fs||(Fs={}));var zw;(function(n){n.websocket="websocket"})(zw||(zw={}));var bc;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(bc||(bc={}));class rN{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class vne{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class mb{constructor(e,t,r={},i=nN){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jR;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(jR||(jR={}));class up{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=up.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=up.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=up.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const p=u.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),v=u.filter(x=>m.indexOf(x.presence_ref)<0),g=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(a[c]=v),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...p)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yn;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(yn||(yn={}));const WR=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=yne(o,n,e,i),s),{})},yne=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i==null?void 0:i.type,o=t[n];return s&&!r.includes(s)?iN(s,o):Fw(o)},iN=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Sne(e,t)}switch(n){case yn.bool:return xne(e);case yn.float4:case yn.float8:case yn.int2:case yn.int4:case yn.int8:case yn.numeric:case yn.oid:return _ne(e);case yn.json:case yn.jsonb:return bne(e);case yn.timestamp:return wne(e);case yn.abstime:case yn.date:case yn.daterange:case yn.int4range:case yn.int8range:case yn.money:case yn.reltime:case yn.text:case yn.time:case yn.timestamptz:case yn.timetz:case yn.tsrange:case yn.tstzrange:return Fw(e);default:return Fw(e)}},Fw=n=>n,xne=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},_ne=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},bne=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Sne=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>iN(e,a))}return n},wne=n=>typeof n=="string"?n.replace(" ","T"):n;var GR=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},$R;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})($R||($R={}));var XR;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(XR||(XR={}));var qR;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(qR||(qR={}));class kT{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Fi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new mb(this,Fs.join,this.params,this.timeout),this.rejoinTimer=new rN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Fi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fs.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new up(this)}subscribe(e,t=this.timeout){var r,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,m=[];for(let v=0;v<p;v++){const g=h[v],{filter:{event:x,schema:_,table:b,filter:S}}=g,M=c&&c[v];if(M&&M.event===x&&M.schema===_&&M.table===b&&M.filter===S)m.push(Object.assign(Object.assign({},g),{id:M.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return GR(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return GR(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(e,t={}){return new Promise(r=>{var i,s,o;const a=this._push(e.type,e,t.timeout||this.timeout);a.rateLimited&&r("rate limited"),e.type==="broadcast"&&!(!((o=(s=(i=this.params)===null||i===void 0?void 0:i.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fi.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new mb(this,Fs.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new mb(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Fs;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,g,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,g,x,_,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const M=m.id,E=(v=m.filter)===null||v===void 0?void 0:v.event;return M&&((g=t.ids)===null||g===void 0?void 0:g.includes(M))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const M=(b=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return M==="*"||M===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:x,commit_timestamp:_,type:b,errors:S}=v;p=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:_,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(v))}m.callback(p,r)})}_isClosed(){return this.state===Fi.closed}_isJoined(){return this.state===Fi.joined}_isJoining(){return this.state===Fi.joining}_isLeaving(){return this.state===Fi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&kT.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fs.close,{},e)}_onError(e){this._on(Fs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=WR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=WR(e.columns,e.old_record)),t}}var Mne=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Tne=()=>{};class Ene{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=pne,this.params={},this.timeout=nN,this.transport=fne.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Tne,this.conn=null,this.sendBuffer=[],this.serializer=new vne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${zw.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rN(()=>Mne(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(t=>(this.channels.length===0&&this.disconnect(),t))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cp.connecting:return bc.Connecting;case cp.open:return bc.Open;case cp.closing:return bc.Closing;default:return bc.Closed}}isConnected(){return this.connectionState()===bc.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const r=new kT(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e;let o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};if(this.log("push",`${t} ${r} (${s})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Fs.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mne}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(gne,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class sN extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pi(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Cne extends sN{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ane extends sN{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var oN=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const aN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>oN(void 0,void 0,void 0,function*(){return yield(yield Ix(()=>Promise.resolve().then(()=>Dx),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)},Pne=()=>oN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ix(()=>Promise.resolve().then(()=>Dx),void 0)).Response:Response});var xf=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const YR=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Rne=(n,e)=>xf(void 0,void 0,void 0,function*(){const t=yield Pne();n instanceof t?n.json().then(r=>{e(new Cne(YR(r),n.status||500))}):e(new Ane(YR(n),n))}),kne=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Ox(n,e,t,r,i,s){return xf(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,kne(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Rne(l,a))})})}function Bw(n,e,t,r){return xf(this,void 0,void 0,function*(){return Ox(n,"GET",e,t,r)})}function Sc(n,e,t,r,i){return xf(this,void 0,void 0,function*(){return Ox(n,"POST",e,r,i,t)})}function Lne(n,e,t,r,i){return xf(this,void 0,void 0,function*(){return Ox(n,"PUT",e,r,i,t)})}function lN(n,e,t,r,i){return xf(this,void 0,void 0,function*(){return Ox(n,"DELETE",e,r,i,t)})}var ao=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Ine={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dne={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class One{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=aN(i)}uploadOrUpdate(e,t,r,i){return ao(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Dne),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,{method:e,body:s,headers:a});return u.ok?{data:{path:l},error:null}:{data:null,error:yield u.json()}}catch(s){if(pi(s))return{data:null,error:s};throw s}})}upload(e,t,r){return ao(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return ao(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return ao(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(pi(r))return{data:null,error:r};throw r}})}copy(e,t){return ao(this,void 0,void 0,function*(){try{return{data:{path:(yield Sc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(pi(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return ao(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Sc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(pi(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return ao(this,void 0,void 0,function*(){try{const i=yield Sc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(pi(i))return{data:null,error:i};throw i}})}download(e,t){return ao(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Bw(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pi(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ao(this,void 0,void 0,function*(){try{return{data:yield lN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(pi(t))return{data:null,error:t};throw t}})}list(e,t,r){return ao(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Ine),t),{prefix:e||""});return{data:yield Sc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(pi(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Nne="2.3.0",zne={"X-Client-Info":`storage-js/${Nne}`};var Du=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class Fne{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},zne),t),this.fetch=aN(r)}listBuckets(){return Du(this,void 0,void 0,function*(){try{return{data:yield Bw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pi(e))return{data:null,error:e};throw e}})}getBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield Bw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(pi(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Du(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){if(pi(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Du(this,void 0,void 0,function*(){try{return{data:yield Lne(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){if(pi(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(pi(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield lN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(pi(t))return{data:null,error:t};throw t}})}}class Bne extends Fne{constructor(e,t={},r){super(e,t,r)}from(e){return new One(this.url,this.headers,e,this.fetch)}}const Une="2.7.1",Vne={"X-Client-Info":`supabase-js/${Une}`};var Hne=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const jne=n=>{let e;return n?e=n:typeof fetch>"u"?e=RT:e=fetch,(...t)=>e(...t)},Wne=()=>typeof Headers>"u"?ef.Headers:Headers,Gne=(n,e,t)=>{const r=jne(t),i=Wne();return(s,o)=>Hne(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};function $ne(n){return n.replace(/\/$/,"")}function Xne(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s)}}var Tm=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function qne(n){return Math.round(Date.now()/1e3)+n}function Yne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Jo=()=>typeof document<"u";function cs(n,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const cN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Tm(void 0,void 0,void 0,function*(){return yield(yield Ix(()=>Promise.resolve().then(()=>Dx),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)},Kne=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zne=(n,e,t)=>Tm(void 0,void 0,void 0,function*(){yield n.setItem(e,JSON.stringify(t))}),KR=(n,e)=>Tm(void 0,void 0,void 0,function*(){const t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Jne=(n,e)=>Tm(void 0,void 0,void 0,function*(){yield n.removeItem(e)});function Qne(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,s,o,a,l,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class Nx{constructor(){this.promise=new Nx.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Nx.promiseConstructor=Promise;function ZR(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(Qne(r))}function ere(n){return new Promise(e=>{setTimeout(()=>e(null),n)})}function tre(n,e){return new Promise((r,i)=>{Tm(this,void 0,void 0,function*(){for(let s=0;s<1/0;s++)try{const o=yield n(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})})}class LT extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function un(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class nre extends LT{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function rre(n){return un(n)&&n.name==="AuthApiError"}class uN extends LT{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class zx extends LT{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class dh extends zx{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class gb extends zx{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Vo extends zx{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uw extends zx{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var IT=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},ire=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const p0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),sre=(n,e)=>IT(void 0,void 0,void 0,function*(){const t=[502,503,504];Kne(n)?t.includes(n.status)?e(new Uw(p0(n),n.status)):n.json().then(r=>{e(new nre(p0(r),n.status||500))}).catch(r=>{e(new uN(p0(r),r))}):e(new Uw(p0(n),0))}),ore=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function xn(n,e,t,r){var i;return IT(this,void 0,void 0,function*(){const s=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield are(n,e,t+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function are(n,e,t,r,i,s){return IT(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,ore(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sre(l,a))})})}function Ou(n){var e;let t=null;dre(n)&&(t=Object.assign({},n),t.expires_at=qne(n.expires_in));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function wc(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function lre(n){return{data:n,error:null}}function cre(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=ire(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ure(n){return n}function dre(n){return n.access_token&&n.refresh_token&&n.expires_in}var lo=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},fre=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class hre{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=cN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return lo(this,void 0,void 0,function*(){try{return yield xn(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(un(t))return{data:null,error:t};throw t}})}inviteUserByEmail(e,t={}){return lo(this,void 0,void 0,function*(){try{return yield xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:wc})}catch(r){if(un(r))return{data:{user:null},error:r};throw r}})}generateLink(e){return lo(this,void 0,void 0,function*(){try{const{options:t}=e,r=fre(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),yield xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cre,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(un(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return lo(this,void 0,void 0,function*(){try{return yield xn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wc})}catch(t){if(un(t))return{data:{user:null},error:t};throw t}})}listUsers(e){var t,r,i,s,o,a,l;return lo(this,void 0,void 0,function*(){try{const c={nextPage:null,lastPage:0,total:0},u=yield xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ure});if(u.error)throw u.error;const h=yield u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(un(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return lo(this,void 0,void 0,function*(){try{return yield xn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wc})}catch(t){if(un(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return lo(this,void 0,void 0,function*(){try{return yield xn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:wc})}catch(r){if(un(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return lo(this,void 0,void 0,function*(){try{return yield xn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:wc})}catch(r){if(un(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return lo(this,void 0,void 0,function*(){try{const{data:t,error:r}=yield xn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(un(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return lo(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(un(t))return{data:null,error:t};throw t}})}}const pre="2.11.0",mre="http://localhost:9999",gre="supabase.auth.token",vre={"X-Client-Info":`gotrue-js/${pre}`},yre=10,xre={getItem:n=>Jo()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Jo()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Jo()&&globalThis.localStorage.removeItem(n)}};function _re(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ot=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};_re();const bre={url:mre,storageKey:gre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vre},vb=10*1e3,Sre=3;class wre{constructor(e){this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const t=Object.assign(Object.assign({},bre),e);this.inMemorySession=null,this.storageKey=t.storageKey,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.storage=t.storage||xre,this.admin=new hre({url:t.url,headers:t.headers,fetch:t.fetch}),this.url=t.url,this.headers=t.headers,this.fetch=cN(t.fetch),this.detectSessionInUrl=t.detectSessionInUrl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},Jo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey&&(this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey),this.broadcastChannel.addEventListener("message",r=>{this._notifyAllSubscribers(r.data.event,r.data.session,!1)})),this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return Ot(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};const{session:r,redirectType:i}=e;return yield this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN",r),i==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",r),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return un(e)?{error:e}:{error:new uN("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange()}})}signUp(e){var t,r;return Ot(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in e){const{email:c,password:u,options:h}=e;i=yield xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ou})}else if("phone"in e){const{phone:c,password:u,options:h}=e;i=yield xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ou})}else throw new gb("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(un(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){var t,r;return Ot(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in e){const{email:a,password:l,options:c}=e;i=yield xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ou})}else if("phone"in e){const{phone:a,password:l,options:c}=e;i=yield xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ou})}else throw new gb("You must provide either an email or phone number and a password");const{data:s,error:o}=i;return o||!s?{data:{user:null,session:null},error:o}:(s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o})}catch(i){if(un(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOAuth(e){var t,r,i,s;return Ot(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}signInWithOtp(e){var t,r,i,s;return Ot(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:o,options:a}=e,{error:l}=yield xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=a==null?void 0:a.data)!==null&&t!==void 0?t:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in e){const{phone:o,options:a}=e,{error:l}=yield xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null},error:l}}throw new gb("You must provide either an email or phone number.")}catch(o){if(un(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){var t,r;return Ot(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:i,error:s}=yield xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(t=e.options)===null||t===void 0?void 0:t.captchaToken}}),redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,xform:Ou});if(s)throw s;if(!i)throw"An error occurred on token verification.";const o=i.session,a=i.user;return o!=null&&o.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(i){if(un(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){var t,r,i;return Ot(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:lre})}catch(s){if(un(s))return{data:null,error:s};throw s}})}getSession(){return Ot(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const s=yield KR(this.storage,this.storageKey);s!==null&&(this._isValidSession(s)?e=s:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:r,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}})}getUser(e){var t,r;return Ot(this,void 0,void 0,function*(){try{if(!e){const{data:i,error:s}=yield this.getSession();if(s)throw s;e=(r=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0}return yield xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wc})}catch(i){if(un(i))return{data:{user:null},error:i};throw i}})}updateUser(e){return Ot(this,void 0,void 0,function*(){try{const{data:t,error:r}=yield this.getSession();if(r)throw r;if(!t.session)throw new dh;const i=t.session,{data:s,error:o}=yield xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:e,jwt:i.access_token,xform:wc});if(o)throw o;return i.user=s.user,yield this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}catch(t){if(un(t))return{data:{user:null},error:t};throw t}})}_decodeJWT(e){return ZR(e)}setSession(e){return Ot(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new dh;const t=Date.now()/1e3;let r=t,i=!0,s=null;const o=ZR(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{session:a,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=yield this.getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(un(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){var t;return Ot(this,void 0,void 0,function*(){try{if(!e){const{data:s,error:o}=yield this.getSession();if(o)throw o;e=(t=s.session)!==null&&t!==void 0?t:void 0}if(!(e!=null&&e.refresh_token))throw new dh;const{session:r,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}catch(r){if(un(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromUrl(){return Ot(this,void 0,void 0,function*(){try{if(!Jo())throw new Vo("No browser detected.");if(!this._isImplicitGrantFlow())throw new Vo("Not a valid implicit grant flow url.");const e=cs("error_description");if(e){const g=cs("error_code");if(!g)throw new Vo("No error_code detected.");const x=cs("error");throw x?new Vo(e,{error:x,code:g}):new Vo("No error detected.")}const t=cs("provider_token"),r=cs("provider_refresh_token"),i=cs("access_token");if(!i)throw new Vo("No access_token detected.");const s=cs("expires_in");if(!s)throw new Vo("No expires_in detected.");const o=cs("refresh_token");if(!o)throw new Vo("No refresh_token detected.");const a=cs("token_type");if(!a)throw new Vo("No token_type detected.");const c=Math.round(Date.now()/1e3)+parseInt(s),{data:u,error:h}=yield this.getUser(i);if(h)throw h;const p=u.user,m={provider_token:t,provider_refresh_token:r,access_token:i,expires_in:parseInt(s),expires_at:c,refresh_token:o,token_type:a,user:p},v=cs("type");return window.location.hash="",{data:{session:m,redirectType:v},error:null}}catch(e){if(un(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return Jo()&&(Boolean(cs("access_token"))||Boolean(cs("error_description")))}signOut(){var e;return Ot(this,void 0,void 0,function*(){const{data:t,error:r}=yield this.getSession();if(r)return{error:r};const i=(e=t.session)===null||e===void 0?void 0:e.access_token;if(i){const{error:s}=yield this.admin.signOut(i);if(s&&!(rre(s)&&(s.status===404||s.status===401)))return{error:s}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const t=Yne(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:{subscription:r}}}resetPasswordForEmail(e,t={}){return Ot(this,void 0,void 0,function*(){try{return yield xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(un(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return Ot(this,void 0,void 0,function*(){try{const t=Date.now();return yield tre(r=>Ot(this,void 0,void 0,function*(){return yield ere(r*200),yield xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ou})}),(r,i,s)=>s&&s.error&&s.error instanceof Uw&&Date.now()+(r+1)*200-t<vb)}catch(t){if(un(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t={}){const r=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return Jo()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}_recoverAndRefresh(){var e;return Ot(this,void 0,void 0,function*(){try{const t=yield KR(this.storage,this.storageKey);if(!this._isValidSession(t)){t!==null&&(yield this._removeSession());return}const r=Math.round(Date.now()/1e3);if(((e=t.expires_at)!==null&&e!==void 0?e:1/0)<r+yre)if(this.autoRefreshToken&&t.refresh_token){const{error:i}=yield this._callRefreshToken(t.refresh_token);i&&(console.log(i.message),yield this._removeSession())}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){console.error(t);return}})}_callRefreshToken(e){var t,r;return Ot(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Nx,!e)throw new dh;const{data:i,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new dh;yield this._saveSession(i.session),this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(un(i)){const s={session:null,error:i};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t,r=!0){this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t}),this.stateChangeEmitters.forEach(i=>i.callback(e,t))}_saveSession(e){return Ot(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return Zne(this.storage,this.storageKey,e)}_removeSession(){return Ot(this,void 0,void 0,function*(){this.persistSession?yield Jne(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return Ot(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const e=setInterval(()=>this._autoRefreshTokenTick(),vb);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"&&e.unref(),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return Ot(this,void 0,void 0,function*(){const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return Ot(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return Ot(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return Ot(this,void 0,void 0,function*(){const e=Date.now();try{const{data:{session:t},error:r}=yield this.getSession();if(!t||!t.refresh_token||!t.expires_at)return;Math.floor((t.expires_at*1e3-e)/vb)<Sre&&(yield this._callRefreshToken(t.refresh_token))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}})}_handleVisibilityChange(){return Ot(this,void 0,void 0,function*(){if(!Jo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>Ot(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return Ot(this,void 0,void 0,function*(){document.visibilityState==="visible"?(e||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),t!=null&&t.queryParams){const i=new URLSearchParams(t.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}_unenroll(e){var t;return Ot(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield xn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(un(r))return{data:null,error:r};throw r}})}_enroll(e){var t,r;return Ot(this,void 0,void 0,function*(){try{const{data:i,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:o,error:a}=yield xn(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(t=i==null?void 0:i.session)===null||t===void 0?void 0:t.access_token});return a?{data:null,error:a}:(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(i){if(un(i))return{data:null,error:i};throw i}})}_verify(e){var t;return Ot(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:s,error:o}=yield xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}catch(r){if(un(r))return{data:null,error:r};throw r}})}_challenge(e){var t;return Ot(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(un(r))return{data:null,error:r};throw r}})}_challengeAndVerify(e){return Ot(this,void 0,void 0,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return Ot(this,void 0,void 0,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return Ot(this,void 0,void 0,function*(){const{data:{session:r},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(a="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}})}}class Mre extends wre{constructor(e){super(e)}}var Tre=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Ere={headers:Vne},Cre={schema:"public"},Are={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Pre={};class Rre{constructor(e,t,r){var i,s,o,a,l,c,u,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const p=$ne(e);if(this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,p.match(/(supabase\.co)|(supabase\.in)/)){const _=p.split(".");this.functionsUrl=`${_[0]}.functions.${_[1]}.${_[2]}`}else this.functionsUrl=`${p}/functions/v1`;const v=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:Cre,realtime:Pre,auth:Object.assign(Object.assign({},Are),{storageKey:v}),global:Ere},x=Xne(r??{},g);this.storageKey=(s=(i=x.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=x.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,(c=x.global)===null||c===void 0?void 0:c.fetch),this.fetch=Gne(t,this._getAccessToken.bind(this),(u=x.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new Wte(`${p}/rest/v1`,{headers:this.headers,schema:(h=x.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new zte(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bne(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Tre(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s},o,a){const l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mre({url:this.authUrl,headers:Object.assign(Object.assign({},l),o),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,fetch:a})}_initRealtimeClient(e){return new Ene(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kre=(n,e,t)=>new Rre(n,e,t);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Fx="149",mc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},dN=0,Vw=1,fN=2,Lre=3,hN=0,Bx=1,dp=2,Lc=3,Eo=0,wi=1,js=2,Ire=2,fa=0,jc=1,Hw=2,jw=3,Ww=4,pN=5,Mc=100,mN=101,gN=102,Gw=103,$w=104,vN=200,yN=201,xN=202,_N=203,DT=204,OT=205,bN=206,SN=207,wN=208,MN=209,TN=210,EN=0,CN=1,AN=2,Py=3,PN=4,RN=5,kN=6,LN=7,Em=0,IN=1,DN=2,$s=0,ON=1,NN=2,zN=3,NT=4,FN=5,Ux=300,Ml=301,Tl=302,Jp=303,Qp=304,_f=306,El=1e3,Pr=1001,tf=1002,Vn=1003,em=1004,Dre=1004,Fd=1005,Ore=1005,Dn=1006,Vx=1007,Nre=1007,Co=1008,zre=1008,Cl=1009,BN=1010,UN=1011,zT=1012,VN=1013,al=1014,sa=1015,nf=1016,HN=1017,jN=1018,Wc=1020,WN=1021,Ui=1023,GN=1024,$N=1025,yl=1026,tu=1027,XN=1028,qN=1029,YN=1030,KN=1031,ZN=1033,Av=33776,Pv=33777,Rv=33778,kv=33779,Xw=35840,qw=35841,Yw=35842,Kw=35843,JN=36196,Zw=37492,Jw=37496,Qw=37808,eM=37809,tM=37810,nM=37811,rM=37812,iM=37813,sM=37814,oM=37815,aM=37816,lM=37817,cM=37818,uM=37819,dM=37820,fM=37821,Lv=36492,QN=36283,hM=36284,pM=36285,mM=36286,ez=2200,tz=2201,nz=2202,rf=2300,nu=2301,Iv=2302,Ic=2400,Dc=2401,tm=2402,Hx=2500,FT=2501,rz=0,BT=1,Ry=2,xa=3e3,Vt=3001,iz=3200,sz=3201,Ol=0,oz=1,Fre="",Bs="srgb",sf="srgb-linear",Bre=0,Dv=7680,Ure=7681,Vre=7682,Hre=7683,jre=34055,Wre=34056,Gre=5386,$re=512,Xre=513,qre=514,Yre=515,Kre=516,Zre=517,Jre=518,az=519,nm=35044,Qre=35048,eie=35040,tie=35045,nie=35049,rie=35041,iie=35046,sie=35050,oie=35042,aie="100",gM="300 es",ky=1035;class ko{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JR=1234567;const Gc=Math.PI/180,rm=180/Math.PI;function $i(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Vr[n&255]+Vr[n>>8&255]+Vr[n>>16&255]+Vr[n>>24&255]+"-"+Vr[e&255]+Vr[e>>8&255]+"-"+Vr[e>>16&15|64]+Vr[e>>24&255]+"-"+Vr[t&63|128]+Vr[t>>8&255]+"-"+Vr[t>>16&255]+Vr[t>>24&255]+Vr[r&255]+Vr[r>>8&255]+Vr[r>>16&255]+Vr[r>>24&255]).toLowerCase()}function Xn(n,e,t){return Math.max(e,Math.min(t,n))}function UT(n,e){return(n%e+e)%e}function lie(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function cie(n,e,t){return n!==e?(t-n)/(e-n):0}function fp(n,e,t){return(1-t)*n+t*e}function uie(n,e,t,r){return fp(n,e,1-Math.exp(-t*r))}function die(n,e=1){return e-Math.abs(UT(n,e*2)-e)}function fie(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function hie(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function pie(n,e){return n+Math.floor(Math.random()*(e-n+1))}function mie(n,e){return n+Math.random()*(e-n)}function gie(n){return n*(.5-Math.random())}function vie(n){n!==void 0&&(JR=n);let e=JR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function yie(n){return n*Gc}function xie(n){return n*rm}function vM(n){return(n&n-1)===0&&n!==0}function lz(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Ly(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function _ie(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function oa(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function gn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var cz=Object.freeze({__proto__:null,DEG2RAD:Gc,RAD2DEG:rm,ceilPowerOfTwo:lz,clamp:Xn,damp:uie,degToRad:yie,denormalize:oa,euclideanModulo:UT,floorPowerOfTwo:Ly,generateUUID:$i,inverseLerp:cie,isPowerOfTwo:vM,lerp:fp,mapLinear:lie,normalize:gn,pingpong:die,radToDeg:xie,randFloat:mie,randFloatSpread:gie,randInt:pie,seededRandom:vie,setQuaternionFromProperEuler:_ie,smootherstep:hie,smoothstep:fie});class Ce{constructor(e=0,t=0){Ce.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ri{constructor(){ri.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],p=r[2],m=r[5],v=r[8],g=i[0],x=i[3],_=i[6],b=i[1],S=i[4],M=i[7],E=i[2],P=i[5],R=i[8];return s[0]=o*g+a*b+l*E,s[3]=o*x+a*S+l*P,s[6]=o*_+a*M+l*R,s[1]=c*g+u*b+h*E,s[4]=c*x+u*S+h*P,s[7]=c*_+u*M+h*R,s[2]=p*g+m*b+v*E,s[5]=p*x+m*S+v*P,s[8]=p*_+m*M+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,p=a*l-u*s,m=c*s-o*l,v=t*h+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/v;return e[0]=h*g,e[1]=(i*c-u*r)*g,e[2]=(a*r-i*o)*g,e[3]=p*g,e[4]=(u*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=m*g,e[7]=(r*l-c*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(yb.makeScale(e,t)),this}rotate(e){return this.premultiply(yb.makeRotation(-e)),this}translate(e,t){return this.premultiply(yb.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const yb=new ri;function uz(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const bie={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _d(n,e){return new bie[n](e)}function im(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function $c(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ov(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const xb={[Bs]:{[sf]:$c},[sf]:{[Bs]:Ov}},jr={legacyMode:!0,get workingColorSpace(){return sf},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(xb[e]&&xb[e][t]!==void 0){const r=xb[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},dz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rr={r:0,g:0,b:0},Is={h:0,s:0,l:0},m0={h:0,s:0,l:0};function _b(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function g0(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Ge{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Bs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,jr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=jr.workingColorSpace){return this.r=e,this.g=t,this.b=r,jr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=jr.workingColorSpace){if(e=UT(e,1),t=Xn(t,0,1),r=Xn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=_b(o,s,e+1/3),this.g=_b(o,s,e),this.b=_b(o,s,e-1/3)}return jr.toWorkingColorSpace(this,i),this}setStyle(e,t=Bs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,jr.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,jr.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,jr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,jr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Bs){const r=dz[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$c(e.r),this.g=$c(e.g),this.b=$c(e.b),this}copyLinearToSRGB(e){return this.r=Ov(e.r),this.g=Ov(e.g),this.b=Ov(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Bs){return jr.fromWorkingColorSpace(g0(this,rr),e),Xn(rr.r*255,0,255)<<16^Xn(rr.g*255,0,255)<<8^Xn(rr.b*255,0,255)<<0}getHexString(e=Bs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=jr.workingColorSpace){jr.fromWorkingColorSpace(g0(this,rr),t);const r=rr.r,i=rr.g,s=rr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=jr.workingColorSpace){return jr.fromWorkingColorSpace(g0(this,rr),t),e.r=rr.r,e.g=rr.g,e.b=rr.b,e}getStyle(e=Bs){return jr.fromWorkingColorSpace(g0(this,rr),e),e!==Bs?`color(${e} ${rr.r} ${rr.g} ${rr.b})`:`rgb(${rr.r*255|0},${rr.g*255|0},${rr.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Is),Is.h+=e,Is.s+=t,Is.l+=r,this.setHSL(Is.h,Is.s,Is.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Is),e.getHSL(m0);const r=fp(Is.h,m0.h,t),i=fp(Is.s,m0.s,t),s=fp(Is.l,m0.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Ge.NAMES=dz;let Nu;class VT{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Nu===void 0&&(Nu=im("canvas")),Nu.width=e.width,Nu.height=e.height;const r=Nu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Nu}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=im("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=$c(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor($c(t[r]/255)*255):t[r]=$c(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Oc{constructor(e=null){this.isSource=!0,this.uuid=$i(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(bb(i[o].image)):s.push(bb(i[o]))}else s=bb(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function bb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?VT.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sie=0;class Rn extends ko{constructor(e=Rn.DEFAULT_IMAGE,t=Rn.DEFAULT_MAPPING,r=Pr,i=Pr,s=Dn,o=Co,a=Ui,l=Cl,c=Rn.DEFAULT_ANISOTROPY,u=xa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sie++}),this.uuid=$i(),this.name="",this.source=new Oc(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ce(0,0),this.repeat=new Ce(1,1),this.center=new Ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ri,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ux)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case El:e.x=e.x-Math.floor(e.x);break;case Pr:e.x=e.x<0?0:1;break;case tf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case El:e.y=e.y-Math.floor(e.y);break;case Pr:e.y=e.y<0?0:1;break;case tf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Rn.DEFAULT_IMAGE=null;Rn.DEFAULT_MAPPING=Ux;Rn.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,t=0,r=0,i=1){dn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],p=l[1],m=l[5],v=l[9],g=l[2],x=l[6],_=l[10];if(Math.abs(u-p)<.01&&Math.abs(h-g)<.01&&Math.abs(v-x)<.01){if(Math.abs(u+p)<.1&&Math.abs(h+g)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,M=(m+1)/2,E=(_+1)/2,P=(u+p)/4,R=(h+g)/4,C=(v+x)/4;return S>M&&S>E?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=P/r,s=R/r):M>E?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=P/i,s=C/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=R/s,i=C/s),this.set(r,i,s,t),this}let b=Math.sqrt((x-v)*(x-v)+(h-g)*(h-g)+(p-u)*(p-u));return Math.abs(b)<.001&&(b=1),this.x=(x-v)/b,this.y=(h-g)/b,this.z=(p-u)/b,this.w=Math.acos((c+m+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ys extends ko{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new dn(0,0,e,t),this.scissorTest=!1,this.viewport=new dn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Rn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Dn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Oc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class jx extends Rn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vn,this.minFilter=Vn,this.wrapR=Pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wie extends Ys{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new jx(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class HT extends Rn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vn,this.minFilter=Vn,this.wrapR=Pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Mie extends Ys{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new HT(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Tie extends Ys{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class xr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=g;return}if(h!==g||l!==p||c!==m||u!==v){let x=1-a;const _=l*p+c*m+u*v+h*g,b=_>=0?1:-1,S=1-_*_;if(S>Number.EPSILON){const E=Math.sqrt(S),P=Math.atan2(E,_*b);x=Math.sin(x*P)/E,a=Math.sin(a*P)/E}const M=a*b;if(l=l*x+p*M,c=c*x+m*M,u=u*x+v*M,h=h*x+g*M,x===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=E,c*=E,u*=E,h*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+u*h+l*m-c*p,e[t+1]=l*v+u*p+c*h-a*m,e[t+2]=c*v+u*m+a*p-l*h,e[t+3]=u*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"YXZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"ZXY":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"ZYX":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"YZX":this._x=p*u*h+c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h-p*m*v;break;case"XZY":this._x=p*u*h-c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,r=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(QR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(QR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-h*-o,this.y=u*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Sb.copy(this).projectOnVector(e),this.sub(Sb)}reflect(e){return this.sub(Sb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Xn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Sb=new z,QR=new xr;class Nl{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],h=e[l+1],p=e[l+2];u<t&&(t=u),h<r&&(r=h),p<i&&(i=p),u>s&&(s=u),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),h=e.getY(l),p=e.getZ(l);u<t&&(t=u),h<r&&(r=h),p<i&&(i=p),u>s&&(s=u),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ic.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ic.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ic)}else r.boundingBox===null&&r.computeBoundingBox(),wb.copy(r.boundingBox),wb.applyMatrix4(e.matrixWorld),this.union(wb);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ic),ic.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fh),v0.subVectors(this.max,fh),zu.subVectors(e.a,fh),Fu.subVectors(e.b,fh),Bu.subVectors(e.c,fh),Ha.subVectors(Fu,zu),ja.subVectors(Bu,Fu),sc.subVectors(zu,Bu);let t=[0,-Ha.z,Ha.y,0,-ja.z,ja.y,0,-sc.z,sc.y,Ha.z,0,-Ha.x,ja.z,0,-ja.x,sc.z,0,-sc.x,-Ha.y,Ha.x,0,-ja.y,ja.x,0,-sc.y,sc.x,0];return!Mb(t,zu,Fu,Bu,v0)||(t=[1,0,0,0,1,0,0,0,1],!Mb(t,zu,Fu,Bu,v0))?!1:(y0.crossVectors(Ha,ja),t=[y0.x,y0.y,y0.z],Mb(t,zu,Fu,Bu,v0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ic.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ic).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ho[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ho[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ho[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ho[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ho[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ho[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ho[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ho[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ho),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ho=[new z,new z,new z,new z,new z,new z,new z,new z],ic=new z,wb=new Nl,zu=new z,Fu=new z,Bu=new z,Ha=new z,ja=new z,sc=new z,fh=new z,v0=new z,y0=new z,oc=new z;function Mb(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){oc.fromArray(n,s);const a=i.x*Math.abs(oc.x)+i.y*Math.abs(oc.y)+i.z*Math.abs(oc.z),l=e.dot(oc),c=t.dot(oc),u=r.dot(oc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Eie=new Nl,hh=new z,Tb=new z;class zl{constructor(e=new z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Eie.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hh.subVectors(e,this.center);const t=hh.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(hh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Tb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hh.copy(e.center).add(Tb)),this.expandByPoint(hh.copy(e.center).sub(Tb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const jo=new z,Eb=new z,x0=new z,Wa=new z,Cb=new z,_0=new z,Ab=new z;class Cm{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,jo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=jo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(jo.copy(this.direction).multiplyScalar(t).add(this.origin),jo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Eb.copy(e).add(t).multiplyScalar(.5),x0.copy(t).sub(e).normalize(),Wa.copy(this.origin).sub(Eb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(x0),a=Wa.dot(this.direction),l=-Wa.dot(x0),c=Wa.lengthSq(),u=Math.abs(1-o*o);let h,p,m,v;if(u>0)if(h=o*l-a,p=o*a-l,v=s*u,h>=0)if(p>=-v)if(p<=v){const g=1/u;h*=g,p*=g,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(x0).multiplyScalar(p).add(Eb),m}intersectSphere(e,t){jo.subVectors(e.center,this.origin);const r=jo.dot(this.direction),i=jo.dot(jo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,jo)!==null}intersectTriangle(e,t,r,i,s){Cb.subVectors(t,e),_0.subVectors(r,e),Ab.crossVectors(Cb,_0);let o=this.direction.dot(Ab),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Wa.subVectors(this.origin,e);const l=a*this.direction.dot(_0.crossVectors(Wa,_0));if(l<0)return null;const c=a*this.direction.dot(Cb.cross(Wa));if(c<0||l+c>o)return null;const u=-a*Wa.dot(Ab);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,h,p,m,v,g,x){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=u,_[10]=h,_[14]=p,_[3]=m,_[7]=v,_[11]=g,_[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Uu.setFromMatrixColumn(e,0).length(),s=1/Uu.setFromMatrixColumn(e,1).length(),o=1/Uu.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*h,v=a*u,g=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=m+v*c,t[5]=p-g*c,t[9]=-a*l,t[2]=g-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*h,v=c*u,g=c*h;t[0]=p+g*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=m*a-v,t[6]=g+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*h,v=c*u,g=c*h;t[0]=p-g*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*u,t[9]=g-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*h,v=a*u,g=a*h;t[0]=l*u,t[4]=v*c-m,t[8]=p*c+g,t[1]=l*h,t[5]=g*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,g=a*c;t[0]=l*u,t[4]=g-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*h+v,t[10]=p-g*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,g=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=p*h+g,t[5]=o*u,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*u,t[10]=g*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cie,e,Aie)}lookAt(e,t,r){const i=this.elements;return Ni.subVectors(e,t),Ni.lengthSq()===0&&(Ni.z=1),Ni.normalize(),Ga.crossVectors(r,Ni),Ga.lengthSq()===0&&(Math.abs(r.z)===1?Ni.x+=1e-4:Ni.z+=1e-4,Ni.normalize(),Ga.crossVectors(r,Ni)),Ga.normalize(),b0.crossVectors(Ni,Ga),i[0]=Ga.x,i[4]=b0.x,i[8]=Ni.x,i[1]=Ga.y,i[5]=b0.y,i[9]=Ni.y,i[2]=Ga.z,i[6]=b0.z,i[10]=Ni.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],p=r[9],m=r[13],v=r[2],g=r[6],x=r[10],_=r[14],b=r[3],S=r[7],M=r[11],E=r[15],P=i[0],R=i[4],C=i[8],k=i[12],D=i[1],$=i[5],le=i[9],Y=i[13],I=i[2],H=i[6],K=i[10],oe=i[14],N=i[3],X=i[7],J=i[11],he=i[15];return s[0]=o*P+a*D+l*I+c*N,s[4]=o*R+a*$+l*H+c*X,s[8]=o*C+a*le+l*K+c*J,s[12]=o*k+a*Y+l*oe+c*he,s[1]=u*P+h*D+p*I+m*N,s[5]=u*R+h*$+p*H+m*X,s[9]=u*C+h*le+p*K+m*J,s[13]=u*k+h*Y+p*oe+m*he,s[2]=v*P+g*D+x*I+_*N,s[6]=v*R+g*$+x*H+_*X,s[10]=v*C+g*le+x*K+_*J,s[14]=v*k+g*Y+x*oe+_*he,s[3]=b*P+S*D+M*I+E*N,s[7]=b*R+S*$+M*H+E*X,s[11]=b*C+S*le+M*K+E*J,s[15]=b*k+S*Y+M*oe+E*he,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],p=e[10],m=e[14],v=e[3],g=e[7],x=e[11],_=e[15];return v*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*m-r*l*m)+g*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+x*(+t*c*h-t*a*m-s*o*h+r*o*m+s*a*u-r*c*u)+_*(-i*a*u-t*l*h+t*a*p+i*o*h-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],m=e[11],v=e[12],g=e[13],x=e[14],_=e[15],b=h*x*c-g*p*c+g*l*m-a*x*m-h*l*_+a*p*_,S=v*p*c-u*x*c-v*l*m+o*x*m+u*l*_-o*p*_,M=u*g*c-v*h*c+v*a*m-o*g*m-u*a*_+o*h*_,E=v*h*l-u*g*l-v*a*p+o*g*p+u*a*x-o*h*x,P=t*b+r*S+i*M+s*E;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=b*R,e[1]=(g*p*s-h*x*s-g*i*m+r*x*m+h*i*_-r*p*_)*R,e[2]=(a*x*s-g*l*s+g*i*c-r*x*c-a*i*_+r*l*_)*R,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*m-r*l*m)*R,e[4]=S*R,e[5]=(u*x*s-v*p*s+v*i*m-t*x*m-u*i*_+t*p*_)*R,e[6]=(v*l*s-o*x*s-v*i*c+t*x*c+o*i*_-t*l*_)*R,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*R,e[8]=M*R,e[9]=(v*h*s-u*g*s-v*r*m+t*g*m+u*r*_-t*h*_)*R,e[10]=(o*g*s-v*a*s+v*r*c-t*g*c-o*r*_+t*a*_)*R,e[11]=(u*a*s-o*h*s-u*r*c+t*h*c+o*r*m-t*a*m)*R,e[12]=E*R,e[13]=(u*g*i-v*h*i+v*r*p-t*g*p-u*r*x+t*h*x)*R,e[14]=(v*a*i-o*g*i-v*r*l+t*g*l+o*r*x-t*a*x)*R,e[15]=(o*h*i-u*a*i+u*r*l-t*h*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,p=s*c,m=s*u,v=s*h,g=o*u,x=o*h,_=a*h,b=l*c,S=l*u,M=l*h,E=r.x,P=r.y,R=r.z;return i[0]=(1-(g+_))*E,i[1]=(m+M)*E,i[2]=(v-S)*E,i[3]=0,i[4]=(m-M)*P,i[5]=(1-(p+_))*P,i[6]=(x+b)*P,i[7]=0,i[8]=(v+S)*R,i[9]=(x-b)*R,i[10]=(1-(p+g))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Uu.set(i[0],i[1],i[2]).length();const o=Uu.set(i[4],i[5],i[6]).length(),a=Uu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ds.copy(this);const c=1/s,u=1/o,h=1/a;return Ds.elements[0]*=c,Ds.elements[1]*=c,Ds.elements[2]*=c,Ds.elements[4]*=u,Ds.elements[5]*=u,Ds.elements[6]*=u,Ds.elements[8]*=h,Ds.elements[9]*=h,Ds.elements[10]*=h,t.setFromRotationMatrix(Ds),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),h=(t+e)*l,p=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Uu=new z,Ds=new pt,Cie=new z(0,0,0),Aie=new z(1,1,1),Ga=new z,b0=new z,Ni=new z,ek=new pt,tk=new xr;class Am{constructor(e=0,t=0,r=0,i=Am.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Xn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Xn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Xn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return ek.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ek,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return tk.setFromEuler(this),this.setFromQuaternion(tk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Am.DEFAULT_ORDER="XYZ";class Xc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Pie=0;const nk=new z,Vu=new xr,Wo=new pt,S0=new z,ph=new z,Rie=new z,kie=new xr,rk=new z(1,0,0),ik=new z(0,1,0),sk=new z(0,0,1),Lie={type:"added"},ok={type:"removed"};class Bt extends ko{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Pie++}),this.uuid=$i(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const e=new z,t=new Am,r=new xr,i=new z(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new pt},normalMatrix:{value:new ri}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Xc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Vu.setFromAxisAngle(e,t),this.quaternion.multiply(Vu),this}rotateOnWorldAxis(e,t){return Vu.setFromAxisAngle(e,t),this.quaternion.premultiply(Vu),this}rotateX(e){return this.rotateOnAxis(rk,e)}rotateY(e){return this.rotateOnAxis(ik,e)}rotateZ(e){return this.rotateOnAxis(sk,e)}translateOnAxis(e,t){return nk.copy(e).applyQuaternion(this.quaternion),this.position.add(nk.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(rk,e)}translateY(e){return this.translateOnAxis(ik,e)}translateZ(e){return this.translateOnAxis(sk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Wo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?S0.copy(e):S0.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ph.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wo.lookAt(ph,S0,this.up):Wo.lookAt(S0,ph,this.up),this.quaternion.setFromRotationMatrix(Wo),i&&(Wo.extractRotation(i.matrixWorld),Vu.setFromRotationMatrix(Wo),this.quaternion.premultiply(Vu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Lie)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ok)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ok)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Wo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Wo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Wo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ph,e,Rie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ph,kie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Bt.DEFAULT_UP=new z(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Os=new z,Go=new z,Pb=new z,$o=new z,Hu=new z,ju=new z,ak=new z,Rb=new z,kb=new z,Lb=new z;class gs{constructor(e=new z,t=new z,r=new z){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Os.subVectors(e,t),i.cross(Os);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Os.subVectors(i,t),Go.subVectors(r,t),Pb.subVectors(e,t);const o=Os.dot(Os),a=Os.dot(Go),l=Os.dot(Pb),c=Go.dot(Go),u=Go.dot(Pb),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*u)*p,v=(o*u-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,$o),$o.x>=0&&$o.y>=0&&$o.x+$o.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,$o),l.set(0,0),l.addScaledVector(s,$o.x),l.addScaledVector(o,$o.y),l.addScaledVector(a,$o.z),l}static isFrontFacing(e,t,r,i){return Os.subVectors(r,t),Go.subVectors(e,t),Os.cross(Go).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Os.subVectors(this.c,this.b),Go.subVectors(this.a,this.b),Os.cross(Go).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return gs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return gs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return gs.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return gs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return gs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Hu.subVectors(i,r),ju.subVectors(s,r),Rb.subVectors(e,r);const l=Hu.dot(Rb),c=ju.dot(Rb);if(l<=0&&c<=0)return t.copy(r);kb.subVectors(e,i);const u=Hu.dot(kb),h=ju.dot(kb);if(u>=0&&h<=u)return t.copy(i);const p=l*h-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Hu,o);Lb.subVectors(e,s);const m=Hu.dot(Lb),v=ju.dot(Lb);if(v>=0&&m<=v)return t.copy(s);const g=m*c-l*v;if(g<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(r).addScaledVector(ju,a);const x=u*v-m*h;if(x<=0&&h-u>=0&&m-v>=0)return ak.subVectors(s,i),a=(h-u)/(h-u+(m-v)),t.copy(i).addScaledVector(ak,a);const _=1/(x+g+p);return o=g*_,a=p*_,t.copy(r).addScaledVector(Hu,o).addScaledVector(ju,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Iie=0;class tr extends ko{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Iie++}),this.uuid=$i(),this.name="",this.type="Material",this.blending=jc,this.side=Eo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=DT,this.blendDst=OT,this.blendEquation=Mc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Py,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=az,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dv,this.stencilZFail=Dv,this.stencilZPass=Dv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==jc&&(r.blending=this.blending),this.side!==Eo&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Hi extends tr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Em,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Zn=new z,w0=new Ce;class rn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=nm,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)w0.fromBufferAttribute(this,t),w0.applyMatrix3(e),this.setXY(t,w0.x,w0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Zn.fromBufferAttribute(this,t),Zn.applyMatrix3(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Zn.fromBufferAttribute(this,t),Zn.applyMatrix4(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Zn.fromBufferAttribute(this,t),Zn.applyNormalMatrix(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Zn.fromBufferAttribute(this,t),Zn.transformDirection(e),this.setXYZ(t,Zn.x,Zn.y,Zn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=oa(t,this.array)),t}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=oa(t,this.array)),t}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=oa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=oa(t,this.array)),t}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array),s=gn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==nm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Die extends rn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Oie extends rn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Nie extends rn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class zie extends rn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class jT extends rn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Fie extends rn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class WT extends rn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Bie extends rn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class nt extends rn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Uie extends rn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let Vie=0;const us=new pt,Ib=new Bt,Wu=new z,zi=new Nl,mh=new Nl,pr=new z;class wt extends ko{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vie++}),this.uuid=$i(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(uz(e)?WT:jT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ri().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return us.makeRotationFromQuaternion(e),this.applyMatrix4(us),this}rotateX(e){return us.makeRotationX(e),this.applyMatrix4(us),this}rotateY(e){return us.makeRotationY(e),this.applyMatrix4(us),this}rotateZ(e){return us.makeRotationZ(e),this.applyMatrix4(us),this}translate(e,t,r){return us.makeTranslation(e,t,r),this.applyMatrix4(us),this}scale(e,t,r){return us.makeScale(e,t,r),this.applyMatrix4(us),this}lookAt(e){return Ib.lookAt(e),Ib.updateMatrix(),this.applyMatrix4(Ib.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wu).negate(),this.translate(Wu.x,Wu.y,Wu.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new nt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Nl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];zi.setFromBufferAttribute(s),this.morphTargetsRelative?(pr.addVectors(this.boundingBox.min,zi.min),this.boundingBox.expandByPoint(pr),pr.addVectors(this.boundingBox.max,zi.max),this.boundingBox.expandByPoint(pr)):(this.boundingBox.expandByPoint(zi.min),this.boundingBox.expandByPoint(zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new zl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const r=this.boundingSphere.center;if(zi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];mh.setFromBufferAttribute(a),this.morphTargetsRelative?(pr.addVectors(zi.min,mh.min),zi.expandByPoint(pr),pr.addVectors(zi.max,mh.max),zi.expandByPoint(pr)):(zi.expandByPoint(mh.min),zi.expandByPoint(mh.max))}zi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)pr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(pr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)pr.fromBufferAttribute(a,c),l&&(Wu.fromBufferAttribute(e,c),pr.add(Wu)),i=Math.max(i,r.distanceToSquared(pr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new rn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new z,u[D]=new z;const h=new z,p=new z,m=new z,v=new Ce,g=new Ce,x=new Ce,_=new z,b=new z;function S(D,$,le){h.fromArray(i,D*3),p.fromArray(i,$*3),m.fromArray(i,le*3),v.fromArray(o,D*2),g.fromArray(o,$*2),x.fromArray(o,le*2),p.sub(h),m.sub(h),g.sub(v),x.sub(v);const Y=1/(g.x*x.y-x.x*g.y);isFinite(Y)&&(_.copy(p).multiplyScalar(x.y).addScaledVector(m,-g.y).multiplyScalar(Y),b.copy(m).multiplyScalar(g.x).addScaledVector(p,-x.x).multiplyScalar(Y),c[D].add(_),c[$].add(_),c[le].add(_),u[D].add(b),u[$].add(b),u[le].add(b))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let D=0,$=M.length;D<$;++D){const le=M[D],Y=le.start,I=le.count;for(let H=Y,K=Y+I;H<K;H+=3)S(r[H+0],r[H+1],r[H+2])}const E=new z,P=new z,R=new z,C=new z;function k(D){R.fromArray(s,D*3),C.copy(R);const $=c[D];E.copy($),E.sub(R.multiplyScalar(R.dot($))).normalize(),P.crossVectors(C,$);const Y=P.dot(u[D])<0?-1:1;l[D*4]=E.x,l[D*4+1]=E.y,l[D*4+2]=E.z,l[D*4+3]=Y}for(let D=0,$=M.length;D<$;++D){const le=M[D],Y=le.start,I=le.count;for(let H=Y,K=Y+I;H<K;H+=3)k(r[H+0]),k(r[H+1]),k(r[H+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new rn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new z,s=new z,o=new z,a=new z,l=new z,c=new z,u=new z,h=new z;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),g=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,x),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,x),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)pr.fromBufferAttribute(e,t),pr.normalize(),e.setXYZ(t,pr.x,pr.y,pr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let g=0,x=l.length;g<x;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*u;for(let _=0;_<u;_++)p[v++]=c[m++]}return new rn(p,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new wt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let p=0,m=h.length;p<m;p++)u.push(h[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const lk=new pt,Gu=new Cm,Db=new zl,gh=new z,vh=new z,yh=new z,Ob=new z,M0=new z,T0=new Ce,E0=new Ce,C0=new Ce,Nb=new z,A0=new z;class vr extends Bt{constructor(e=new wt,t=new Hi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){M0.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(Ob.fromBufferAttribute(h,e),o?M0.addScaledVector(Ob,u):M0.addScaledVector(Ob.sub(t),u))}t.add(M0)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Db.copy(r.boundingSphere),Db.applyMatrix4(s),e.ray.intersectsSphere(Db)===!1)||(lk.copy(s).invert(),Gu.copy(e.ray).applyMatrix4(lk),r.boundingBox!==null&&Gu.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,h=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],x=i[g.materialIndex],_=Math.max(g.start,p.start),b=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let S=_,M=b;S<M;S+=3){const E=a.getX(S),P=a.getX(S+1),R=a.getX(S+2);o=P0(this,x,e,Gu,c,u,E,P,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let g=m,x=v;g<x;g+=3){const _=a.getX(g),b=a.getX(g+1),S=a.getX(g+2);o=P0(this,i,e,Gu,c,u,_,b,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],x=i[g.materialIndex],_=Math.max(g.start,p.start),b=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let S=_,M=b;S<M;S+=3){const E=S,P=S+1,R=S+2;o=P0(this,x,e,Gu,c,u,E,P,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let g=m,x=v;g<x;g+=3){const _=g,b=g+1,S=g+2;o=P0(this,i,e,Gu,c,u,_,b,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}}function Hie(n,e,t,r,i,s,o,a){let l;if(e.side===wi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Eo,a),l===null)return null;A0.copy(a),A0.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(A0);return c<t.near||c>t.far?null:{distance:c,point:A0.clone(),object:n}}function P0(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,gh),n.getVertexPosition(a,vh),n.getVertexPosition(l,yh);const c=Hie(n,e,t,r,gh,vh,yh,Nb);if(c){i&&(T0.fromBufferAttribute(i,o),E0.fromBufferAttribute(i,a),C0.fromBufferAttribute(i,l),c.uv=gs.getUV(Nb,gh,vh,yh,T0,E0,C0,new Ce)),s&&(T0.fromBufferAttribute(s,o),E0.fromBufferAttribute(s,a),C0.fromBufferAttribute(s,l),c.uv2=gs.getUV(Nb,gh,vh,yh,T0,E0,C0,new Ce));const u={a:o,b:a,c:l,normal:new z,materialIndex:0};gs.getNormal(gh,vh,yh,u.normal),c.face=u}return c}class Fl extends wt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new nt(c,3)),this.setAttribute("normal",new nt(u,3)),this.setAttribute("uv",new nt(h,2));function v(g,x,_,b,S,M,E,P,R,C,k){const D=M/R,$=E/C,le=M/2,Y=E/2,I=P/2,H=R+1,K=C+1;let oe=0,N=0;const X=new z;for(let J=0;J<K;J++){const he=J*$-Y;for(let Z=0;Z<H;Z++){const se=Z*D-le;X[g]=se*b,X[x]=he*S,X[_]=I,c.push(X.x,X.y,X.z),X[g]=0,X[x]=0,X[_]=P>0?1:-1,u.push(X.x,X.y,X.z),h.push(Z/R),h.push(1-J/C),oe+=1}}for(let J=0;J<C;J++)for(let he=0;he<R;he++){const Z=p+he+H*J,se=p+he+H*(J+1),Re=p+(he+1)+H*(J+1),ke=p+(he+1)+H*J;l.push(Z,se,ke),l.push(se,Re,ke),N+=6}a.addGroup(m,N,k),m+=N,p+=oe}}static fromJSON(e){return new Fl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function of(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Qr(n){const e={};for(let t=0;t<n.length;t++){const r=of(n[t]);for(const i in r)e[i]=r[i]}return e}function jie(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function fz(n){return n.getRenderTarget()===null&&n.outputEncoding===Vt?Bs:sf}const hz={clone:of,merge:Qr};var Wie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Gie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ao extends tr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Wie,this.fragmentShader=Gie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=of(e.uniforms),this.uniformsGroups=jie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Pm extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class vn extends Pm{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=rm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Gc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rm*2*Math.atan(Math.tan(Gc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Gc*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const $u=-90,Xu=1;class pz extends Bt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new vn($u,Xu,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new vn($u,Xu,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new vn($u,Xu,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new vn($u,Xu,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new vn($u,Xu,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new vn($u,Xu,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=$s,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Rm extends Rn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Ml,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class mz extends Ys{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Rm(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Fl(5,5,5),s=new Ao({name:"CubemapFromEquirect",uniforms:of(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:wi,blending:fa});s.uniforms.tEquirect.value=t;const o=new vr(i,s),a=t.minFilter;return t.minFilter===Co&&(t.minFilter=Dn),new pz(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const zb=new z,$ie=new z,Xie=new ri;class Qa{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=zb.subVectors(r,t).cross($ie.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(zb),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Xie.getNormalMatrix(e),i=this.coplanarPoint(zb).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const qu=new zl,R0=new z;class Wx{constructor(e=new Qa,t=new Qa,r=new Qa,i=new Qa,s=new Qa,o=new Qa){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],h=r[7],p=r[8],m=r[9],v=r[10],g=r[11],x=r[12],_=r[13],b=r[14],S=r[15];return t[0].setComponents(a-i,h-l,g-p,S-x).normalize(),t[1].setComponents(a+i,h+l,g+p,S+x).normalize(),t[2].setComponents(a+s,h+c,g+m,S+_).normalize(),t[3].setComponents(a-s,h-c,g-m,S-_).normalize(),t[4].setComponents(a-o,h-u,g-v,S-b).normalize(),t[5].setComponents(a+o,h+u,g+v,S+b).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),qu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(qu)}intersectsSprite(e){return qu.center.set(0,0,0),qu.radius=.7071067811865476,qu.applyMatrix4(e.matrixWorld),this.intersectsSphere(qu)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(R0.x=i.normal.x>0?e.max.x:e.min.x,R0.y=i.normal.y>0?e.max.y:e.min.y,R0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(R0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function gz(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function qie(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,h,p),c.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const p=u.array,m=u.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class bf extends wt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,p=t/l,m=[],v=[],g=[],x=[];for(let _=0;_<u;_++){const b=_*p-o;for(let S=0;S<c;S++){const M=S*h-s;v.push(M,-b,0),g.push(0,0,1),x.push(S/a),x.push(1-_/l)}}for(let _=0;_<l;_++)for(let b=0;b<a;b++){const S=b+c*_,M=b+c*(_+1),E=b+1+c*(_+1),P=b+1+c*_;m.push(S,M,P),m.push(M,E,P)}this.setIndex(m),this.setAttribute("position",new nt(v,3)),this.setAttribute("normal",new nt(g,3)),this.setAttribute("uv",new nt(x,2))}static fromJSON(e){return new bf(e.width,e.height,e.widthSegments,e.heightSegments)}}var Yie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Kie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zie=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Jie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Qie=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ese=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tse="vec3 transformed = vec3( position );",nse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rse=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,ise=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ose=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,ase=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cse=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,use=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,dse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,hse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,mse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gse=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,yse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,xse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_se=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,bse="gl_FragColor = linearToOutputTexel( gl_FragColor );",Sse=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Mse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Tse=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ese=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Cse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ase=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Pse=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Rse=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kse=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Lse=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ise=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Dse=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ose=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Nse=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,zse=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Fse=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Bse=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Use=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Vse=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Hse=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jse=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Wse=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Gse=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$se=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Xse=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,qse=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Yse=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Kse=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Zse=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Jse=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Qse=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,eoe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,toe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,noe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,roe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ioe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,soe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ooe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,aoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,loe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,coe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,uoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,doe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,foe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hoe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,poe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,moe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,goe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,voe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,yoe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,xoe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,_oe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,boe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Soe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,woe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Moe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Toe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Eoe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Coe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Aoe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Poe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Roe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,koe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Loe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ioe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Doe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ooe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Noe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,zoe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Foe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Boe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Uoe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Voe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Hoe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,joe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Woe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Goe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,$oe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Xoe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qoe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Yoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Koe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Zoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Joe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Qoe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,eae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,tae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,nae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,rae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aae=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,lae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,pae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,yae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Sae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wae=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Tae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Eae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Tt={alphamap_fragment:Yie,alphamap_pars_fragment:Kie,alphatest_fragment:Zie,alphatest_pars_fragment:Jie,aomap_fragment:Qie,aomap_pars_fragment:ese,begin_vertex:tse,beginnormal_vertex:nse,bsdfs:rse,iridescence_fragment:ise,bumpmap_pars_fragment:sse,clipping_planes_fragment:ose,clipping_planes_pars_fragment:ase,clipping_planes_pars_vertex:lse,clipping_planes_vertex:cse,color_fragment:use,color_pars_fragment:dse,color_pars_vertex:fse,color_vertex:hse,common:pse,cube_uv_reflection_fragment:mse,defaultnormal_vertex:gse,displacementmap_pars_vertex:vse,displacementmap_vertex:yse,emissivemap_fragment:xse,emissivemap_pars_fragment:_se,encodings_fragment:bse,encodings_pars_fragment:Sse,envmap_fragment:wse,envmap_common_pars_fragment:Mse,envmap_pars_fragment:Tse,envmap_pars_vertex:Ese,envmap_physical_pars_fragment:Fse,envmap_vertex:Cse,fog_vertex:Ase,fog_pars_vertex:Pse,fog_fragment:Rse,fog_pars_fragment:kse,gradientmap_pars_fragment:Lse,lightmap_fragment:Ise,lightmap_pars_fragment:Dse,lights_lambert_fragment:Ose,lights_lambert_pars_fragment:Nse,lights_pars_begin:zse,lights_toon_fragment:Bse,lights_toon_pars_fragment:Use,lights_phong_fragment:Vse,lights_phong_pars_fragment:Hse,lights_physical_fragment:jse,lights_physical_pars_fragment:Wse,lights_fragment_begin:Gse,lights_fragment_maps:$se,lights_fragment_end:Xse,logdepthbuf_fragment:qse,logdepthbuf_pars_fragment:Yse,logdepthbuf_pars_vertex:Kse,logdepthbuf_vertex:Zse,map_fragment:Jse,map_pars_fragment:Qse,map_particle_fragment:eoe,map_particle_pars_fragment:toe,metalnessmap_fragment:noe,metalnessmap_pars_fragment:roe,morphcolor_vertex:ioe,morphnormal_vertex:soe,morphtarget_pars_vertex:ooe,morphtarget_vertex:aoe,normal_fragment_begin:loe,normal_fragment_maps:coe,normal_pars_fragment:uoe,normal_pars_vertex:doe,normal_vertex:foe,normalmap_pars_fragment:hoe,clearcoat_normal_fragment_begin:poe,clearcoat_normal_fragment_maps:moe,clearcoat_pars_fragment:goe,iridescence_pars_fragment:voe,output_fragment:yoe,packing:xoe,premultiplied_alpha_fragment:_oe,project_vertex:boe,dithering_fragment:Soe,dithering_pars_fragment:woe,roughnessmap_fragment:Moe,roughnessmap_pars_fragment:Toe,shadowmap_pars_fragment:Eoe,shadowmap_pars_vertex:Coe,shadowmap_vertex:Aoe,shadowmask_pars_fragment:Poe,skinbase_vertex:Roe,skinning_pars_vertex:koe,skinning_vertex:Loe,skinnormal_vertex:Ioe,specularmap_fragment:Doe,specularmap_pars_fragment:Ooe,tonemapping_fragment:Noe,tonemapping_pars_fragment:zoe,transmission_fragment:Foe,transmission_pars_fragment:Boe,uv_pars_fragment:Uoe,uv_pars_vertex:Voe,uv_vertex:Hoe,uv2_pars_fragment:joe,uv2_pars_vertex:Woe,uv2_vertex:Goe,worldpos_vertex:$oe,background_vert:Xoe,background_frag:qoe,backgroundCube_vert:Yoe,backgroundCube_frag:Koe,cube_vert:Zoe,cube_frag:Joe,depth_vert:Qoe,depth_frag:eae,distanceRGBA_vert:tae,distanceRGBA_frag:nae,equirect_vert:rae,equirect_frag:iae,linedashed_vert:sae,linedashed_frag:oae,meshbasic_vert:aae,meshbasic_frag:lae,meshlambert_vert:cae,meshlambert_frag:uae,meshmatcap_vert:dae,meshmatcap_frag:fae,meshnormal_vert:hae,meshnormal_frag:pae,meshphong_vert:mae,meshphong_frag:gae,meshphysical_vert:vae,meshphysical_frag:yae,meshtoon_vert:xae,meshtoon_frag:_ae,points_vert:bae,points_frag:Sae,shadow_vert:wae,shadow_frag:Mae,sprite_vert:Tae,sprite_frag:Eae},He={common:{diffuse:{value:new Ge(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ri},uv2Transform:{value:new ri},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ge(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ge(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ri}},sprite:{diffuse:{value:new Ge(16777215)},opacity:{value:1},center:{value:new Ce(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ri}}},Vs={basic:{uniforms:Qr([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.fog]),vertexShader:Tt.meshbasic_vert,fragmentShader:Tt.meshbasic_frag},lambert:{uniforms:Qr([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.fog,He.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Tt.meshlambert_vert,fragmentShader:Tt.meshlambert_frag},phong:{uniforms:Qr([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.fog,He.lights,{emissive:{value:new Ge(0)},specular:{value:new Ge(1118481)},shininess:{value:30}}]),vertexShader:Tt.meshphong_vert,fragmentShader:Tt.meshphong_frag},standard:{uniforms:Qr([He.common,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.roughnessmap,He.metalnessmap,He.fog,He.lights,{emissive:{value:new Ge(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag},toon:{uniforms:Qr([He.common,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.gradientmap,He.fog,He.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Tt.meshtoon_vert,fragmentShader:Tt.meshtoon_frag},matcap:{uniforms:Qr([He.common,He.bumpmap,He.normalmap,He.displacementmap,He.fog,{matcap:{value:null}}]),vertexShader:Tt.meshmatcap_vert,fragmentShader:Tt.meshmatcap_frag},points:{uniforms:Qr([He.points,He.fog]),vertexShader:Tt.points_vert,fragmentShader:Tt.points_frag},dashed:{uniforms:Qr([He.common,He.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tt.linedashed_vert,fragmentShader:Tt.linedashed_frag},depth:{uniforms:Qr([He.common,He.displacementmap]),vertexShader:Tt.depth_vert,fragmentShader:Tt.depth_frag},normal:{uniforms:Qr([He.common,He.bumpmap,He.normalmap,He.displacementmap,{opacity:{value:1}}]),vertexShader:Tt.meshnormal_vert,fragmentShader:Tt.meshnormal_frag},sprite:{uniforms:Qr([He.sprite,He.fog]),vertexShader:Tt.sprite_vert,fragmentShader:Tt.sprite_frag},background:{uniforms:{uvTransform:{value:new ri},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tt.background_vert,fragmentShader:Tt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Tt.backgroundCube_vert,fragmentShader:Tt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tt.cube_vert,fragmentShader:Tt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tt.equirect_vert,fragmentShader:Tt.equirect_frag},distanceRGBA:{uniforms:Qr([He.common,He.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tt.distanceRGBA_vert,fragmentShader:Tt.distanceRGBA_frag},shadow:{uniforms:Qr([He.lights,He.fog,{color:{value:new Ge(0)},opacity:{value:1}}]),vertexShader:Tt.shadow_vert,fragmentShader:Tt.shadow_frag}};Vs.physical={uniforms:Qr([Vs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ce(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ge(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ce},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ge(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ge(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag};const k0={r:0,b:0,g:0};function Cae(n,e,t,r,i,s,o){const a=new Ge(0);let l=s===!0?0:1,c,u,h=null,p=0,m=null;function v(x,_){let b=!1,S=_.isScene===!0?_.background:null;S&&S.isTexture&&(S=(_.backgroundBlurriness>0?t:e).get(S));const M=n.xr,E=M.getSession&&M.getSession();E&&E.environmentBlendMode==="additive"&&(S=null),S===null?g(a,l):S&&S.isColor&&(g(S,1),b=!0),(n.autoClear||b)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===_f)?(u===void 0&&(u=new vr(new Fl(1,1,1),new Ao({name:"BackgroundCubeMaterial",uniforms:of(Vs.backgroundCube.uniforms),vertexShader:Vs.backgroundCube.vertexShader,fragmentShader:Vs.backgroundCube.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(P,R,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=S.encoding!==Vt,(h!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new vr(new bf(2,2),new Ao({name:"BackgroundMaterial",uniforms:of(Vs.background.uniforms),vertexShader:Vs.background.vertexShader,fragmentShader:Vs.background.fragmentShader,side:Eo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=S.encoding!==Vt,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function g(x,_){x.getRGB(k0,fz(n)),r.buffers.color.setClear(k0.r,k0.g,k0.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(x,_=1){a.set(x),l=_,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,g(a,l)},render:v}}function Aae(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,u=!1;function h(I,H,K,oe,N){let X=!1;if(o){const J=g(oe,K,H);c!==J&&(c=J,m(c.object)),X=_(I,oe,K,N),X&&b(I,oe,K,N)}else{const J=H.wireframe===!0;(c.geometry!==oe.id||c.program!==K.id||c.wireframe!==J)&&(c.geometry=oe.id,c.program=K.id,c.wireframe=J,X=!0)}N!==null&&t.update(N,34963),(X||u)&&(u=!1,C(I,H,K,oe),N!==null&&n.bindBuffer(34963,t.get(N).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(I){return r.isWebGL2?n.bindVertexArray(I):s.bindVertexArrayOES(I)}function v(I){return r.isWebGL2?n.deleteVertexArray(I):s.deleteVertexArrayOES(I)}function g(I,H,K){const oe=K.wireframe===!0;let N=a[I.id];N===void 0&&(N={},a[I.id]=N);let X=N[H.id];X===void 0&&(X={},N[H.id]=X);let J=X[oe];return J===void 0&&(J=x(p()),X[oe]=J),J}function x(I){const H=[],K=[],oe=[];for(let N=0;N<i;N++)H[N]=0,K[N]=0,oe[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:K,attributeDivisors:oe,object:I,attributes:{},index:null}}function _(I,H,K,oe){const N=c.attributes,X=H.attributes;let J=0;const he=K.getAttributes();for(const Z in he)if(he[Z].location>=0){const Re=N[Z];let ke=X[Z];if(ke===void 0&&(Z==="instanceMatrix"&&I.instanceMatrix&&(ke=I.instanceMatrix),Z==="instanceColor"&&I.instanceColor&&(ke=I.instanceColor)),Re===void 0||Re.attribute!==ke||ke&&Re.data!==ke.data)return!0;J++}return c.attributesNum!==J||c.index!==oe}function b(I,H,K,oe){const N={},X=H.attributes;let J=0;const he=K.getAttributes();for(const Z in he)if(he[Z].location>=0){let Re=X[Z];Re===void 0&&(Z==="instanceMatrix"&&I.instanceMatrix&&(Re=I.instanceMatrix),Z==="instanceColor"&&I.instanceColor&&(Re=I.instanceColor));const ke={};ke.attribute=Re,Re&&Re.data&&(ke.data=Re.data),N[Z]=ke,J++}c.attributes=N,c.attributesNum=J,c.index=oe}function S(){const I=c.newAttributes;for(let H=0,K=I.length;H<K;H++)I[H]=0}function M(I){E(I,0)}function E(I,H){const K=c.newAttributes,oe=c.enabledAttributes,N=c.attributeDivisors;K[I]=1,oe[I]===0&&(n.enableVertexAttribArray(I),oe[I]=1),N[I]!==H&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,H),N[I]=H)}function P(){const I=c.newAttributes,H=c.enabledAttributes;for(let K=0,oe=H.length;K<oe;K++)H[K]!==I[K]&&(n.disableVertexAttribArray(K),H[K]=0)}function R(I,H,K,oe,N,X){r.isWebGL2===!0&&(K===5124||K===5125)?n.vertexAttribIPointer(I,H,K,N,X):n.vertexAttribPointer(I,H,K,oe,N,X)}function C(I,H,K,oe){if(r.isWebGL2===!1&&(I.isInstancedMesh||oe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const N=oe.attributes,X=K.getAttributes(),J=H.defaultAttributeValues;for(const he in X){const Z=X[he];if(Z.location>=0){let se=N[he];if(se===void 0&&(he==="instanceMatrix"&&I.instanceMatrix&&(se=I.instanceMatrix),he==="instanceColor"&&I.instanceColor&&(se=I.instanceColor)),se!==void 0){const Re=se.normalized,ke=se.itemSize,ce=t.get(se);if(ce===void 0)continue;const Be=ce.buffer,Ue=ce.type,$e=ce.bytesPerElement;if(se.isInterleavedBufferAttribute){const Le=se.data,Fe=Le.stride,_e=se.offset;if(Le.isInstancedInterleavedBuffer){for(let ve=0;ve<Z.locationSize;ve++)E(Z.location+ve,Le.meshPerAttribute);I.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let ve=0;ve<Z.locationSize;ve++)M(Z.location+ve);n.bindBuffer(34962,Be);for(let ve=0;ve<Z.locationSize;ve++)R(Z.location+ve,ke/Z.locationSize,Ue,Re,Fe*$e,(_e+ke/Z.locationSize*ve)*$e)}else{if(se.isInstancedBufferAttribute){for(let Le=0;Le<Z.locationSize;Le++)E(Z.location+Le,se.meshPerAttribute);I.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Le=0;Le<Z.locationSize;Le++)M(Z.location+Le);n.bindBuffer(34962,Be);for(let Le=0;Le<Z.locationSize;Le++)R(Z.location+Le,ke/Z.locationSize,Ue,Re,ke*$e,ke/Z.locationSize*Le*$e)}}else if(J!==void 0){const Re=J[he];if(Re!==void 0)switch(Re.length){case 2:n.vertexAttrib2fv(Z.location,Re);break;case 3:n.vertexAttrib3fv(Z.location,Re);break;case 4:n.vertexAttrib4fv(Z.location,Re);break;default:n.vertexAttrib1fv(Z.location,Re)}}}}P()}function k(){le();for(const I in a){const H=a[I];for(const K in H){const oe=H[K];for(const N in oe)v(oe[N].object),delete oe[N];delete H[K]}delete a[I]}}function D(I){if(a[I.id]===void 0)return;const H=a[I.id];for(const K in H){const oe=H[K];for(const N in oe)v(oe[N].object),delete oe[N];delete H[K]}delete a[I.id]}function $(I){for(const H in a){const K=a[H];if(K[I.id]===void 0)continue;const oe=K[I.id];for(const N in oe)v(oe[N].object),delete oe[N];delete K[I.id]}}function le(){Y(),u=!0,c!==l&&(c=l,m(c.object))}function Y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:le,resetDefaultState:Y,dispose:k,releaseStatesOfGeometry:D,releaseStatesOfProgram:$,initAttributes:S,enableAttribute:M,disableUnusedAttributes:P}}function Pae(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,h){if(h===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,h),t.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function Rae(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),v=n.getParameter(34076),g=n.getParameter(34921),x=n.getParameter(36347),_=n.getParameter(36348),b=n.getParameter(36349),S=p>0,M=o||e.has("OES_texture_float"),E=S&&M,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:b,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:E,maxSamples:P}}function kae(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Qa,a=new ri,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||r!==0||i;return i=p,r=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=u(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,g=h.clipIntersection,x=h.clipShadows,_=n.get(h);if(!i||v===null||v.length===0||s&&!x)s?u(null):c();else{const b=s?0:r,S=b*4;let M=_.clippingState||null;l.value=M,M=u(v,p,S,m);for(let E=0;E!==S;++E)M[E]=t[E];_.clippingState=M,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,p,m,v){const g=h!==null?h.length:0;let x=null;if(g!==0){if(x=l.value,v!==!0||x===null){const _=m+g*4,b=p.matrixWorldInverse;a.getNormalMatrix(b),(x===null||x.length<_)&&(x=new Float32Array(_));for(let S=0,M=m;S!==g;++S,M+=4)o.copy(h[S]).applyMatrix4(b,a),o.normal.toArray(x,M),x[M+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,x}}function Lae(n){let e=new WeakMap;function t(o,a){return a===Jp?o.mapping=Ml:a===Qp&&(o.mapping=Tl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Jp||a===Qp)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new mz(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Xs extends Pm{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const bd=4,ck=[.125,.215,.35,.446,.526,.582],Tc=20,Fb=new Xs,uk=new Ge;let Bb=null;const vc=(1+Math.sqrt(5))/2,Yu=1/vc,dk=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,vc,Yu),new z(0,vc,-Yu),new z(Yu,0,vc),new z(-Yu,0,vc),new z(vc,Yu,0),new z(-vc,Yu,0)];class yM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Bb=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=pk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Bb),e.scissorTest=!1,L0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ml||e.mapping===Tl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Bb=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Dn,minFilter:Dn,generateMipmaps:!1,type:nf,format:Ui,encoding:xa,depthBuffer:!1},i=fk(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=fk(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Iae(s)),this._blurMaterial=Dae(s,e,t)}return i}_compileMaterial(e){const t=new vr(this._lodPlanes[0],e);this._renderer.compile(t,Fb)}_sceneToCubeUV(e,t,r,i){const a=new vn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,p=u.toneMapping;u.getClearColor(uk),u.toneMapping=$s,u.autoClear=!1;const m=new Hi({name:"PMREM.Background",side:wi,depthWrite:!1,depthTest:!1}),v=new vr(new Fl,m);let g=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,g=!0):(m.color.copy(uk),g=!0);for(let _=0;_<6;_++){const b=_%3;b===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):b===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const S=this._cubeSize;L0(i,b*S,_>2?S:0,S,S),u.setRenderTarget(i),g&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=p,u.autoClear=h,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Ml||e.mapping===Tl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=pk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hk());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new vr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;L0(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Fb)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=dk[(i-1)%dk.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new vr(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Tc-1),g=s/v,x=isFinite(s)?1+Math.floor(u*g):Tc;x>Tc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Tc}`);const _=[];let b=0;for(let R=0;R<Tc;++R){const C=R/g,k=Math.exp(-C*C/2);_.push(k),R===0?b+=k:R<x&&(b+=2*k)}for(let R=0;R<_.length;R++)_[R]=_[R]/b;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-r;const M=this._sizeLods[i],E=3*M*(i>S-bd?i-S+bd:0),P=4*(this._cubeSize-M);L0(t,E,P,3*M,2*M),l.setRenderTarget(t),l.render(h,Fb)}}function Iae(n){const e=[],t=[],r=[];let i=n;const s=n-bd+1+ck.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-bd?l=ck[o-n+bd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,p=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,v=6,g=3,x=2,_=1,b=new Float32Array(g*v*m),S=new Float32Array(x*v*m),M=new Float32Array(_*v*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,C=P>2?0:-1,k=[R,C,0,R+2/3,C,0,R+2/3,C+1,0,R,C,0,R+2/3,C+1,0,R,C+1,0];b.set(k,g*v*P),S.set(p,x*v*P);const D=[P,P,P,P,P,P];M.set(D,_*v*P)}const E=new wt;E.setAttribute("position",new rn(b,g)),E.setAttribute("uv",new rn(S,x)),E.setAttribute("faceIndex",new rn(M,_)),e.push(E),i>bd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function fk(n,e,t){const r=new Ys(n,e,t);return r.texture.mapping=_f,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function L0(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Dae(n,e,t){const r=new Float32Array(Tc),i=new z(0,1,0);return new Ao({name:"SphericalGaussianBlur",defines:{n:Tc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:GT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:fa,depthTest:!1,depthWrite:!1})}function hk(){return new Ao({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:GT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:fa,depthTest:!1,depthWrite:!1})}function pk(){return new Ao({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:GT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:fa,depthTest:!1,depthWrite:!1})}function GT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Oae(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Jp||l===Qp,u=l===Ml||l===Tl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new yM(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){t===null&&(t=new yM(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Nae(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function zae(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const m=h.morphAttributes;for(const v in m){const g=m[v];for(let x=0,_=g.length;x<_;x++)e.update(g[x],34962)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let g=0;if(m!==null){const b=m.array;g=m.version;for(let S=0,M=b.length;S<M;S+=3){const E=b[S+0],P=b[S+1],R=b[S+2];p.push(E,P,P,R,R,E)}}else{const b=v.array;g=v.version;for(let S=0,M=b.length/3-1;S<M;S+=3){const E=S+0,P=S+1,R=S+2;p.push(E,P,P,R,R,E)}}const x=new(uz(p)?WT:jT)(p,1);x.version=g;const _=s.get(h);_&&e.remove(_),s.set(h,x)}function u(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Fae(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,v){if(v===0)return;let g,x;if(i)g=n,x="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[x](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function Bae(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Uae(n,e){return n[0]-e[0]}function Vae(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Hae(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new dn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,x=g!==void 0?g.length:0;let _=s.get(u);if(_===void 0||_.count!==x){let K=function(){I.dispose(),s.delete(u),u.removeEventListener("dispose",K)};var v=K;_!==void 0&&_.texture.dispose();const M=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,P=u.morphAttributes.color!==void 0,R=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],k=u.morphAttributes.color||[];let D=0;M===!0&&(D=1),E===!0&&(D=2),P===!0&&(D=3);let $=u.attributes.position.count*D,le=1;$>e.maxTextureSize&&(le=Math.ceil($/e.maxTextureSize),$=e.maxTextureSize);const Y=new Float32Array($*le*4*x),I=new jx(Y,$,le,x);I.type=sa,I.needsUpdate=!0;const H=D*4;for(let oe=0;oe<x;oe++){const N=R[oe],X=C[oe],J=k[oe],he=$*le*4*oe;for(let Z=0;Z<N.count;Z++){const se=Z*H;M===!0&&(o.fromBufferAttribute(N,Z),Y[he+se+0]=o.x,Y[he+se+1]=o.y,Y[he+se+2]=o.z,Y[he+se+3]=0),E===!0&&(o.fromBufferAttribute(X,Z),Y[he+se+4]=o.x,Y[he+se+5]=o.y,Y[he+se+6]=o.z,Y[he+se+7]=0),P===!0&&(o.fromBufferAttribute(J,Z),Y[he+se+8]=o.x,Y[he+se+9]=o.y,Y[he+se+10]=o.z,Y[he+se+11]=J.itemSize===4?o.w:1)}}_={count:x,texture:I,size:new Ce($,le)},s.set(u,_),u.addEventListener("dispose",K)}let b=0;for(let M=0;M<m.length;M++)b+=m[M];const S=u.morphTargetsRelative?1:1-b;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const g=m===void 0?0:m.length;let x=r[u.id];if(x===void 0||x.length!==g){x=[];for(let E=0;E<g;E++)x[E]=[E,0];r[u.id]=x}for(let E=0;E<g;E++){const P=x[E];P[0]=E,P[1]=m[E]}x.sort(Vae);for(let E=0;E<8;E++)E<g&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Uae);const _=u.morphAttributes.position,b=u.morphAttributes.normal;let S=0;for(let E=0;E<8;E++){const P=a[E],R=P[0],C=P[1];R!==Number.MAX_SAFE_INTEGER&&C?(_&&u.getAttribute("morphTarget"+E)!==_[R]&&u.setAttribute("morphTarget"+E,_[R]),b&&u.getAttribute("morphNormal"+E)!==b[R]&&u.setAttribute("morphNormal"+E,b[R]),i[E]=C,S+=C):(_&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),b&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),i[E]=0)}const M=u.morphTargetsRelative?1:1-S;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function jae(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);return i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const vz=new Rn,yz=new jx,xz=new HT,_z=new Rm,mk=[],gk=[],vk=new Float32Array(16),yk=new Float32Array(9),xk=new Float32Array(4);function Sf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=mk[i];if(s===void 0&&(s=new Float32Array(i),mk[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function ar(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function lr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Gx(n,e){let t=gk[e];t===void 0&&(t=new Int32Array(e),gk[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Wae(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Gae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ar(t,e))return;n.uniform2fv(this.addr,e),lr(t,e)}}function $ae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ar(t,e))return;n.uniform3fv(this.addr,e),lr(t,e)}}function Xae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ar(t,e))return;n.uniform4fv(this.addr,e),lr(t,e)}}function qae(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ar(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),lr(t,e)}else{if(ar(t,r))return;xk.set(r),n.uniformMatrix2fv(this.addr,!1,xk),lr(t,r)}}function Yae(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ar(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),lr(t,e)}else{if(ar(t,r))return;yk.set(r),n.uniformMatrix3fv(this.addr,!1,yk),lr(t,r)}}function Kae(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ar(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),lr(t,e)}else{if(ar(t,r))return;vk.set(r),n.uniformMatrix4fv(this.addr,!1,vk),lr(t,r)}}function Zae(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Jae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ar(t,e))return;n.uniform2iv(this.addr,e),lr(t,e)}}function Qae(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ar(t,e))return;n.uniform3iv(this.addr,e),lr(t,e)}}function ele(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ar(t,e))return;n.uniform4iv(this.addr,e),lr(t,e)}}function tle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function nle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ar(t,e))return;n.uniform2uiv(this.addr,e),lr(t,e)}}function rle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ar(t,e))return;n.uniform3uiv(this.addr,e),lr(t,e)}}function ile(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ar(t,e))return;n.uniform4uiv(this.addr,e),lr(t,e)}}function sle(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||vz,i)}function ole(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||xz,i)}function ale(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||_z,i)}function lle(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||yz,i)}function cle(n){switch(n){case 5126:return Wae;case 35664:return Gae;case 35665:return $ae;case 35666:return Xae;case 35674:return qae;case 35675:return Yae;case 35676:return Kae;case 5124:case 35670:return Zae;case 35667:case 35671:return Jae;case 35668:case 35672:return Qae;case 35669:case 35673:return ele;case 5125:return tle;case 36294:return nle;case 36295:return rle;case 36296:return ile;case 35678:case 36198:case 36298:case 36306:case 35682:return sle;case 35679:case 36299:case 36307:return ole;case 35680:case 36300:case 36308:case 36293:return ale;case 36289:case 36303:case 36311:case 36292:return lle}}function ule(n,e){n.uniform1fv(this.addr,e)}function dle(n,e){const t=Sf(e,this.size,2);n.uniform2fv(this.addr,t)}function fle(n,e){const t=Sf(e,this.size,3);n.uniform3fv(this.addr,t)}function hle(n,e){const t=Sf(e,this.size,4);n.uniform4fv(this.addr,t)}function ple(n,e){const t=Sf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function mle(n,e){const t=Sf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function gle(n,e){const t=Sf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function vle(n,e){n.uniform1iv(this.addr,e)}function yle(n,e){n.uniform2iv(this.addr,e)}function xle(n,e){n.uniform3iv(this.addr,e)}function _le(n,e){n.uniform4iv(this.addr,e)}function ble(n,e){n.uniform1uiv(this.addr,e)}function Sle(n,e){n.uniform2uiv(this.addr,e)}function wle(n,e){n.uniform3uiv(this.addr,e)}function Mle(n,e){n.uniform4uiv(this.addr,e)}function Tle(n,e,t){const r=this.cache,i=e.length,s=Gx(t,i);ar(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||vz,s[o])}function Ele(n,e,t){const r=this.cache,i=e.length,s=Gx(t,i);ar(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||xz,s[o])}function Cle(n,e,t){const r=this.cache,i=e.length,s=Gx(t,i);ar(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||_z,s[o])}function Ale(n,e,t){const r=this.cache,i=e.length,s=Gx(t,i);ar(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||yz,s[o])}function Ple(n){switch(n){case 5126:return ule;case 35664:return dle;case 35665:return fle;case 35666:return hle;case 35674:return ple;case 35675:return mle;case 35676:return gle;case 5124:case 35670:return vle;case 35667:case 35671:return yle;case 35668:case 35672:return xle;case 35669:case 35673:return _le;case 5125:return ble;case 36294:return Sle;case 36295:return wle;case 36296:return Mle;case 35678:case 36198:case 36298:case 36306:case 35682:return Tle;case 35679:case 36299:case 36307:return Ele;case 35680:case 36300:case 36308:case 36293:return Cle;case 36289:case 36303:case 36311:case 36292:return Ale}}class Rle{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=cle(t.type)}}class kle{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Ple(t.type)}}class Lle{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const Ub=/(\w+)(\])?(\[|\.)?/g;function _k(n,e){n.seq.push(e),n.map[e.id]=e}function Ile(n,e,t){const r=n.name,i=r.length;for(Ub.lastIndex=0;;){const s=Ub.exec(r),o=Ub.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){_k(t,c===void 0?new Rle(a,n,e):new kle(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new Lle(a),_k(t,h)),t=h}}}class Nv{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Ile(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function bk(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Dle=0;function Ole(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function Nle(n){switch(n){case xa:return["Linear","( value )"];case Vt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function Sk(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Ole(n.getShaderSource(e),o)}else return i}function zle(n,e){const t=Nle(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Fle(n,e){let t;switch(e){case ON:t="Linear";break;case NN:t="Reinhard";break;case zN:t="OptimizedCineon";break;case NT:t="ACESFilmic";break;case FN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Ble(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vh).join(`
`)}function Ule(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Vle(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Vh(n){return n!==""}function wk(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Mk(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Hle=/^[ \t]*#include +<([\w\d./]+)>/gm;function xM(n){return n.replace(Hle,jle)}function jle(n,e){const t=Tt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return xM(t)}const Wle=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Tk(n){return n.replace(Wle,Gle)}function Gle(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Ek(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $le(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Bx?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===dp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Lc&&(e="SHADOWMAP_TYPE_VSM"),e}function Xle(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ml:case Tl:e="ENVMAP_TYPE_CUBE";break;case _f:e="ENVMAP_TYPE_CUBE_UV";break}return e}function qle(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Tl:e="ENVMAP_MODE_REFRACTION";break}return e}function Yle(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Em:e="ENVMAP_BLENDING_MULTIPLY";break;case IN:e="ENVMAP_BLENDING_MIX";break;case DN:e="ENVMAP_BLENDING_ADD";break}return e}function Kle(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Zle(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=$le(t),c=Xle(t),u=qle(t),h=Yle(t),p=Kle(t),m=t.isWebGL2?"":Ble(t),v=Ule(s),g=i.createProgram();let x,_,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(Vh).join(`
`),x.length>0&&(x+=`
`),_=[m,v].filter(Vh).join(`
`),_.length>0&&(_+=`
`)):(x=[Ek(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Vh).join(`
`),_=[m,Ek(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$s?"#define TONE_MAPPING":"",t.toneMapping!==$s?Tt.tonemapping_pars_fragment:"",t.toneMapping!==$s?Fle("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Tt.encodings_pars_fragment,zle("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Vh).join(`
`)),o=xM(o),o=wk(o,t),o=Mk(o,t),a=xM(a),a=wk(a,t),a=Mk(a,t),o=Tk(o),a=Tk(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,_=["#define varying in",t.glslVersion===gM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===gM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const S=b+x+o,M=b+_+a,E=bk(i,35633,S),P=bk(i,35632,M);if(i.attachShader(g,E),i.attachShader(g,P),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const k=i.getProgramInfoLog(g).trim(),D=i.getShaderInfoLog(E).trim(),$=i.getShaderInfoLog(P).trim();let le=!0,Y=!0;if(i.getProgramParameter(g,35714)===!1){le=!1;const I=Sk(i,E,"vertex"),H=Sk(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+k+`
`+I+`
`+H)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(D===""||$==="")&&(Y=!1);Y&&(this.diagnostics={runnable:le,programLog:k,vertexShader:{log:D,prefix:x},fragmentShader:{log:$,prefix:_}})}i.deleteShader(E),i.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Nv(i,g)),R};let C;return this.getAttributes=function(){return C===void 0&&(C=Vle(i,g)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=Dle++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=E,this.fragmentShader=P,this}let Jle=0;class Qle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new ece(e),t.set(e,r)),r}}class ece{constructor(e){this.id=Jle++,this.code=e,this.usedTimes=0}}function tce(n,e,t,r,i,s,o){const a=new Xc,l=new Qle,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(C,k,D,$,le){const Y=$.fog,I=le.geometry,H=C.isMeshStandardMaterial?$.environment:null,K=(C.isMeshStandardMaterial?t:e).get(C.envMap||H),oe=K&&K.mapping===_f?K.image.height:null,N=v[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const X=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,J=X!==void 0?X.length:0;let he=0;I.morphAttributes.position!==void 0&&(he=1),I.morphAttributes.normal!==void 0&&(he=2),I.morphAttributes.color!==void 0&&(he=3);let Z,se,Re,ke;if(N){const Fe=Vs[N];Z=Fe.vertexShader,se=Fe.fragmentShader}else Z=C.vertexShader,se=C.fragmentShader,l.update(C),Re=l.getVertexShaderID(C),ke=l.getFragmentShaderID(C);const ce=n.getRenderTarget(),Be=C.alphaTest>0,Ue=C.clearcoat>0,$e=C.iridescence>0;return{isWebGL2:u,shaderID:N,shaderName:C.type,vertexShader:Z,fragmentShader:se,defines:C.defines,customVertexShaderID:Re,customFragmentShaderID:ke,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:le.isInstancedMesh===!0,instancingColor:le.isInstancedMesh===!0&&le.instanceColor!==null,supportsVertexTextures:p,outputEncoding:ce===null?n.outputEncoding:ce.isXRRenderTarget===!0?ce.texture.encoding:xa,map:!!C.map,matcap:!!C.matcap,envMap:!!K,envMapMode:K&&K.mapping,envMapCubeUVHeight:oe,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===oz,tangentSpaceNormalMap:C.normalMapType===Ol,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Vt,clearcoat:Ue,clearcoatMap:Ue&&!!C.clearcoatMap,clearcoatRoughnessMap:Ue&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:Ue&&!!C.clearcoatNormalMap,iridescence:$e,iridescenceMap:$e&&!!C.iridescenceMap,iridescenceThicknessMap:$e&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===jc,alphaMap:!!C.alphaMap,alphaTest:Be,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!I.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!I.attributes.color&&I.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!Y,useFog:C.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:h,skinning:le.isSkinnedMesh===!0,morphTargets:I.morphAttributes.position!==void 0,morphNormals:I.morphAttributes.normal!==void 0,morphColors:I.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:he,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:$s,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===js,flipSided:C.side===wi,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function x(C){const k=[];if(C.shaderID?k.push(C.shaderID):(k.push(C.customVertexShaderID),k.push(C.customFragmentShaderID)),C.defines!==void 0)for(const D in C.defines)k.push(D),k.push(C.defines[D]);return C.isRawShaderMaterial===!1&&(_(k,C),b(k,C),k.push(n.outputEncoding)),k.push(C.customProgramCacheKey),k.join()}function _(C,k){C.push(k.precision),C.push(k.outputEncoding),C.push(k.envMapMode),C.push(k.envMapCubeUVHeight),C.push(k.combine),C.push(k.vertexUvs),C.push(k.fogExp2),C.push(k.sizeAttenuation),C.push(k.morphTargetsCount),C.push(k.morphAttributeCount),C.push(k.numDirLights),C.push(k.numPointLights),C.push(k.numSpotLights),C.push(k.numSpotLightMaps),C.push(k.numHemiLights),C.push(k.numRectAreaLights),C.push(k.numDirLightShadows),C.push(k.numPointLightShadows),C.push(k.numSpotLightShadows),C.push(k.numSpotLightShadowsWithMaps),C.push(k.shadowMapType),C.push(k.toneMapping),C.push(k.numClippingPlanes),C.push(k.numClipIntersection),C.push(k.depthPacking)}function b(C,k){a.disableAll(),k.isWebGL2&&a.enable(0),k.supportsVertexTextures&&a.enable(1),k.instancing&&a.enable(2),k.instancingColor&&a.enable(3),k.map&&a.enable(4),k.matcap&&a.enable(5),k.envMap&&a.enable(6),k.lightMap&&a.enable(7),k.aoMap&&a.enable(8),k.emissiveMap&&a.enable(9),k.bumpMap&&a.enable(10),k.normalMap&&a.enable(11),k.objectSpaceNormalMap&&a.enable(12),k.tangentSpaceNormalMap&&a.enable(13),k.clearcoat&&a.enable(14),k.clearcoatMap&&a.enable(15),k.clearcoatRoughnessMap&&a.enable(16),k.clearcoatNormalMap&&a.enable(17),k.iridescence&&a.enable(18),k.iridescenceMap&&a.enable(19),k.iridescenceThicknessMap&&a.enable(20),k.displacementMap&&a.enable(21),k.specularMap&&a.enable(22),k.roughnessMap&&a.enable(23),k.metalnessMap&&a.enable(24),k.gradientMap&&a.enable(25),k.alphaMap&&a.enable(26),k.alphaTest&&a.enable(27),k.vertexColors&&a.enable(28),k.vertexAlphas&&a.enable(29),k.vertexUvs&&a.enable(30),k.vertexTangents&&a.enable(31),k.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.skinning&&a.enable(4),k.morphTargets&&a.enable(5),k.morphNormals&&a.enable(6),k.morphColors&&a.enable(7),k.premultipliedAlpha&&a.enable(8),k.shadowMapEnabled&&a.enable(9),k.physicallyCorrectLights&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.specularIntensityMap&&a.enable(15),k.specularColorMap&&a.enable(16),k.transmission&&a.enable(17),k.transmissionMap&&a.enable(18),k.thicknessMap&&a.enable(19),k.sheen&&a.enable(20),k.sheenColorMap&&a.enable(21),k.sheenRoughnessMap&&a.enable(22),k.decodeVideoTexture&&a.enable(23),k.opaque&&a.enable(24),C.push(a.mask)}function S(C){const k=v[C.type];let D;if(k){const $=Vs[k];D=hz.clone($.uniforms)}else D=C.uniforms;return D}function M(C,k){let D;for(let $=0,le=c.length;$<le;$++){const Y=c[$];if(Y.cacheKey===k){D=Y,++D.usedTimes;break}}return D===void 0&&(D=new Zle(n,k,C,s),c.push(D)),D}function E(C){if(--C.usedTimes===0){const k=c.indexOf(C);c[k]=c[c.length-1],c.pop(),C.destroy()}}function P(C){l.remove(C)}function R(){l.dispose()}return{getParameters:g,getProgramCacheKey:x,getUniforms:S,acquireProgram:M,releaseProgram:E,releaseShaderCache:P,programs:c,dispose:R}}function nce(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function rce(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Ck(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Ak(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,v,g,x){let _=n[e];return _===void 0?(_={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:g,group:x},n[e]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=m,_.groupOrder=v,_.renderOrder=h.renderOrder,_.z=g,_.group=x),e++,_}function a(h,p,m,v,g,x){const _=o(h,p,m,v,g,x);m.transmission>0?r.push(_):m.transparent===!0?i.push(_):t.push(_)}function l(h,p,m,v,g,x){const _=o(h,p,m,v,g,x);m.transmission>0?r.unshift(_):m.transparent===!0?i.unshift(_):t.unshift(_)}function c(h,p){t.length>1&&t.sort(h||rce),r.length>1&&r.sort(p||Ck),i.length>1&&i.sort(p||Ck)}function u(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function ice(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new Ak,n.set(r,[o])):i>=s.length?(o=new Ak,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function sce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new z,color:new Ge};break;case"SpotLight":t={position:new z,direction:new z,color:new Ge,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new z,color:new Ge,distance:0,decay:0};break;case"HemisphereLight":t={direction:new z,skyColor:new Ge,groundColor:new Ge};break;case"RectAreaLight":t={color:new Ge,position:new z,halfWidth:new z,halfHeight:new z};break}return n[e.id]=t,t}}}function oce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let ace=0;function lce(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function cce(n,e){const t=new sce,r=oce(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new z);const s=new z,o=new pt,a=new pt;function l(u,h){let p=0,m=0,v=0;for(let $=0;$<9;$++)i.probe[$].set(0,0,0);let g=0,x=0,_=0,b=0,S=0,M=0,E=0,P=0,R=0,C=0;u.sort(lce);const k=h!==!0?Math.PI:1;for(let $=0,le=u.length;$<le;$++){const Y=u[$],I=Y.color,H=Y.intensity,K=Y.distance,oe=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)p+=I.r*H*k,m+=I.g*H*k,v+=I.b*H*k;else if(Y.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(Y.sh.coefficients[N],H);else if(Y.isDirectionalLight){const N=t.get(Y);if(N.color.copy(Y.color).multiplyScalar(Y.intensity*k),Y.castShadow){const X=Y.shadow,J=r.get(Y);J.shadowBias=X.bias,J.shadowNormalBias=X.normalBias,J.shadowRadius=X.radius,J.shadowMapSize=X.mapSize,i.directionalShadow[g]=J,i.directionalShadowMap[g]=oe,i.directionalShadowMatrix[g]=Y.shadow.matrix,M++}i.directional[g]=N,g++}else if(Y.isSpotLight){const N=t.get(Y);N.position.setFromMatrixPosition(Y.matrixWorld),N.color.copy(I).multiplyScalar(H*k),N.distance=K,N.coneCos=Math.cos(Y.angle),N.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),N.decay=Y.decay,i.spot[_]=N;const X=Y.shadow;if(Y.map&&(i.spotLightMap[R]=Y.map,R++,X.updateMatrices(Y),Y.castShadow&&C++),i.spotLightMatrix[_]=X.matrix,Y.castShadow){const J=r.get(Y);J.shadowBias=X.bias,J.shadowNormalBias=X.normalBias,J.shadowRadius=X.radius,J.shadowMapSize=X.mapSize,i.spotShadow[_]=J,i.spotShadowMap[_]=oe,P++}_++}else if(Y.isRectAreaLight){const N=t.get(Y);N.color.copy(I).multiplyScalar(H),N.halfWidth.set(Y.width*.5,0,0),N.halfHeight.set(0,Y.height*.5,0),i.rectArea[b]=N,b++}else if(Y.isPointLight){const N=t.get(Y);if(N.color.copy(Y.color).multiplyScalar(Y.intensity*k),N.distance=Y.distance,N.decay=Y.decay,Y.castShadow){const X=Y.shadow,J=r.get(Y);J.shadowBias=X.bias,J.shadowNormalBias=X.normalBias,J.shadowRadius=X.radius,J.shadowMapSize=X.mapSize,J.shadowCameraNear=X.camera.near,J.shadowCameraFar=X.camera.far,i.pointShadow[x]=J,i.pointShadowMap[x]=oe,i.pointShadowMatrix[x]=Y.shadow.matrix,E++}i.point[x]=N,x++}else if(Y.isHemisphereLight){const N=t.get(Y);N.skyColor.copy(Y.color).multiplyScalar(H*k),N.groundColor.copy(Y.groundColor).multiplyScalar(H*k),i.hemi[S]=N,S++}}b>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=He.LTC_FLOAT_1,i.rectAreaLTC2=He.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=He.LTC_HALF_1,i.rectAreaLTC2=He.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const D=i.hash;(D.directionalLength!==g||D.pointLength!==x||D.spotLength!==_||D.rectAreaLength!==b||D.hemiLength!==S||D.numDirectionalShadows!==M||D.numPointShadows!==E||D.numSpotShadows!==P||D.numSpotMaps!==R)&&(i.directional.length=g,i.spot.length=_,i.rectArea.length=b,i.point.length=x,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=P+R-C,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=C,D.directionalLength=g,D.pointLength=x,D.spotLength=_,D.rectAreaLength=b,D.hemiLength=S,D.numDirectionalShadows=M,D.numPointShadows=E,D.numSpotShadows=P,D.numSpotMaps=R,i.version=ace++)}function c(u,h){let p=0,m=0,v=0,g=0,x=0;const _=h.matrixWorldInverse;for(let b=0,S=u.length;b<S;b++){const M=u[b];if(M.isDirectionalLight){const E=i.directional[p];E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(_),p++}else if(M.isSpotLight){const E=i.spot[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(_),E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(_),v++}else if(M.isRectAreaLight){const E=i.rectArea[g];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(_),a.identity(),o.copy(M.matrixWorld),o.premultiply(_),a.extractRotation(o),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),g++}else if(M.isPointLight){const E=i.point[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(_),m++}else if(M.isHemisphereLight){const E=i.hemi[x];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(_),x++}}}return{setup:l,setupView:c,state:i}}function Pk(n,e){const t=new cce(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function c(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function uce(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new Pk(n,e),t.set(s,[l])):o>=a.length?(l=new Pk(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class $T extends tr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=iz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class XT extends tr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const dce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hce(n,e,t){let r=new Wx;const i=new Ce,s=new Ce,o=new dn,a=new $T({depthPacking:sz}),l=new XT,c={},u=t.maxTextureSize,h={[Eo]:wi,[wi]:Eo,[js]:js},p=new Ao({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ce},radius:{value:4}},vertexShader:dce,fragmentShader:fce}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new wt;v.setAttribute("position",new rn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new vr(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Bx,this.render=function(M,E,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const R=n.getRenderTarget(),C=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),D=n.state;D.setBlending(fa),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let $=0,le=M.length;$<le;$++){const Y=M[$],I=Y.shadow;if(I===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(I.autoUpdate===!1&&I.needsUpdate===!1)continue;i.copy(I.mapSize);const H=I.getFrameExtents();if(i.multiply(H),s.copy(I.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/H.x),i.x=s.x*H.x,I.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/H.y),i.y=s.y*H.y,I.mapSize.y=s.y)),I.map===null){const oe=this.type!==Lc?{minFilter:Vn,magFilter:Vn}:{};I.map=new Ys(i.x,i.y,oe),I.map.texture.name=Y.name+".shadowMap",I.camera.updateProjectionMatrix()}n.setRenderTarget(I.map),n.clear();const K=I.getViewportCount();for(let oe=0;oe<K;oe++){const N=I.getViewport(oe);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),D.viewport(o),I.updateMatrices(Y,oe),r=I.getFrustum(),S(E,P,I.camera,Y,this.type)}I.isPointLightShadow!==!0&&this.type===Lc&&_(I,P),I.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(R,C,k)};function _(M,E){const P=e.update(g);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ys(i.x,i.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(E,null,P,p,g,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(E,null,P,m,g,null)}function b(M,E,P,R,C,k){let D=null;const $=P.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if($!==void 0)D=$;else if(D=P.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const le=D.uuid,Y=E.uuid;let I=c[le];I===void 0&&(I={},c[le]=I);let H=I[Y];H===void 0&&(H=D.clone(),I[Y]=H),D=H}return D.visible=E.visible,D.wireframe=E.wireframe,k===Lc?D.side=E.shadowSide!==null?E.shadowSide:E.side:D.side=E.shadowSide!==null?E.shadowSide:h[E.side],D.alphaMap=E.alphaMap,D.alphaTest=E.alphaTest,D.map=E.map,D.clipShadows=E.clipShadows,D.clippingPlanes=E.clippingPlanes,D.clipIntersection=E.clipIntersection,D.displacementMap=E.displacementMap,D.displacementScale=E.displacementScale,D.displacementBias=E.displacementBias,D.wireframeLinewidth=E.wireframeLinewidth,D.linewidth=E.linewidth,P.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(P.matrixWorld),D.nearDistance=R,D.farDistance=C),D}function S(M,E,P,R,C){if(M.visible===!1)return;if(M.layers.test(E.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&C===Lc)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,M.matrixWorld);const $=e.update(M),le=M.material;if(Array.isArray(le)){const Y=$.groups;for(let I=0,H=Y.length;I<H;I++){const K=Y[I],oe=le[K.materialIndex];if(oe&&oe.visible){const N=b(M,oe,R,P.near,P.far,C);n.renderBufferDirect(P,null,$,N,M,K)}}}else if(le.visible){const Y=b(M,le,R,P.near,P.far,C);n.renderBufferDirect(P,null,$,Y,M,null)}}const D=M.children;for(let $=0,le=D.length;$<le;$++)S(D[$],E,P,R,C)}}function pce(n,e,t){const r=t.isWebGL2;function i(){let Q=!1;const ye=new dn;let Ae=null;const Ve=new dn(0,0,0,0);return{setMask:function(je){Ae!==je&&!Q&&(n.colorMask(je,je,je,je),Ae=je)},setLocked:function(je){Q=je},setClear:function(je,lt,Kt,Sn,Lr){Lr===!0&&(je*=Sn,lt*=Sn,Kt*=Sn),ye.set(je,lt,Kt,Sn),Ve.equals(ye)===!1&&(n.clearColor(je,lt,Kt,Sn),Ve.copy(ye))},reset:function(){Q=!1,Ae=null,Ve.set(-1,0,0,0)}}}function s(){let Q=!1,ye=null,Ae=null,Ve=null;return{setTest:function(je){je?Be(2929):Ue(2929)},setMask:function(je){ye!==je&&!Q&&(n.depthMask(je),ye=je)},setFunc:function(je){if(Ae!==je){switch(je){case EN:n.depthFunc(512);break;case CN:n.depthFunc(519);break;case AN:n.depthFunc(513);break;case Py:n.depthFunc(515);break;case PN:n.depthFunc(514);break;case RN:n.depthFunc(518);break;case kN:n.depthFunc(516);break;case LN:n.depthFunc(517);break;default:n.depthFunc(515)}Ae=je}},setLocked:function(je){Q=je},setClear:function(je){Ve!==je&&(n.clearDepth(je),Ve=je)},reset:function(){Q=!1,ye=null,Ae=null,Ve=null}}}function o(){let Q=!1,ye=null,Ae=null,Ve=null,je=null,lt=null,Kt=null,Sn=null,Lr=null;return{setTest:function(Zt){Q||(Zt?Be(2960):Ue(2960))},setMask:function(Zt){ye!==Zt&&!Q&&(n.stencilMask(Zt),ye=Zt)},setFunc:function(Zt,Ir,zt){(Ae!==Zt||Ve!==Ir||je!==zt)&&(n.stencilFunc(Zt,Ir,zt),Ae=Zt,Ve=Ir,je=zt)},setOp:function(Zt,Ir,zt){(lt!==Zt||Kt!==Ir||Sn!==zt)&&(n.stencilOp(Zt,Ir,zt),lt=Zt,Kt=Ir,Sn=zt)},setLocked:function(Zt){Q=Zt},setClear:function(Zt){Lr!==Zt&&(n.clearStencil(Zt),Lr=Zt)},reset:function(){Q=!1,ye=null,Ae=null,Ve=null,je=null,lt=null,Kt=null,Sn=null,Lr=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,g=[],x=null,_=!1,b=null,S=null,M=null,E=null,P=null,R=null,C=null,k=!1,D=null,$=null,le=null,Y=null,I=null;const H=n.getParameter(35661);let K=!1,oe=0;const N=n.getParameter(7938);N.indexOf("WebGL")!==-1?(oe=parseFloat(/^WebGL (\d)/.exec(N)[1]),K=oe>=1):N.indexOf("OpenGL ES")!==-1&&(oe=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),K=oe>=2);let X=null,J={};const he=n.getParameter(3088),Z=n.getParameter(2978),se=new dn().fromArray(he),Re=new dn().fromArray(Z);function ke(Q,ye,Ae){const Ve=new Uint8Array(4),je=n.createTexture();n.bindTexture(Q,je),n.texParameteri(Q,10241,9728),n.texParameteri(Q,10240,9728);for(let lt=0;lt<Ae;lt++)n.texImage2D(ye+lt,0,6408,1,1,0,6408,5121,Ve);return je}const ce={};ce[3553]=ke(3553,3553,1),ce[34067]=ke(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Be(2929),l.setFunc(Py),ze(!1),tt(Vw),Be(2884),De(fa);function Be(Q){p[Q]!==!0&&(n.enable(Q),p[Q]=!0)}function Ue(Q){p[Q]!==!1&&(n.disable(Q),p[Q]=!1)}function $e(Q,ye){return m[Q]!==ye?(n.bindFramebuffer(Q,ye),m[Q]=ye,r&&(Q===36009&&(m[36160]=ye),Q===36160&&(m[36009]=ye)),!0):!1}function Le(Q,ye){let Ae=g,Ve=!1;if(Q)if(Ae=v.get(ye),Ae===void 0&&(Ae=[],v.set(ye,Ae)),Q.isWebGLMultipleRenderTargets){const je=Q.texture;if(Ae.length!==je.length||Ae[0]!==36064){for(let lt=0,Kt=je.length;lt<Kt;lt++)Ae[lt]=36064+lt;Ae.length=je.length,Ve=!0}}else Ae[0]!==36064&&(Ae[0]=36064,Ve=!0);else Ae[0]!==1029&&(Ae[0]=1029,Ve=!0);Ve&&(t.isWebGL2?n.drawBuffers(Ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ae))}function Fe(Q){return x!==Q?(n.useProgram(Q),x=Q,!0):!1}const _e={[Mc]:32774,[mN]:32778,[gN]:32779};if(r)_e[Gw]=32775,_e[$w]=32776;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(_e[Gw]=Q.MIN_EXT,_e[$w]=Q.MAX_EXT)}const ve={[vN]:0,[yN]:1,[xN]:768,[DT]:770,[TN]:776,[wN]:774,[bN]:772,[_N]:769,[OT]:771,[MN]:775,[SN]:773};function De(Q,ye,Ae,Ve,je,lt,Kt,Sn){if(Q===fa){_===!0&&(Ue(3042),_=!1);return}if(_===!1&&(Be(3042),_=!0),Q!==pN){if(Q!==b||Sn!==k){if((S!==Mc||P!==Mc)&&(n.blendEquation(32774),S=Mc,P=Mc),Sn)switch(Q){case jc:n.blendFuncSeparate(1,771,1,771);break;case Hw:n.blendFunc(1,1);break;case jw:n.blendFuncSeparate(0,769,0,1);break;case Ww:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case jc:n.blendFuncSeparate(770,771,1,771);break;case Hw:n.blendFunc(770,1);break;case jw:n.blendFuncSeparate(0,769,0,1);break;case Ww:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}M=null,E=null,R=null,C=null,b=Q,k=Sn}return}je=je||ye,lt=lt||Ae,Kt=Kt||Ve,(ye!==S||je!==P)&&(n.blendEquationSeparate(_e[ye],_e[je]),S=ye,P=je),(Ae!==M||Ve!==E||lt!==R||Kt!==C)&&(n.blendFuncSeparate(ve[Ae],ve[Ve],ve[lt],ve[Kt]),M=Ae,E=Ve,R=lt,C=Kt),b=Q,k=!1}function Ye(Q,ye){Q.side===js?Ue(2884):Be(2884);let Ae=Q.side===wi;ye&&(Ae=!Ae),ze(Ae),Q.blending===jc&&Q.transparent===!1?De(fa):De(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),l.setFunc(Q.depthFunc),l.setTest(Q.depthTest),l.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const Ve=Q.stencilWrite;c.setTest(Ve),Ve&&(c.setMask(Q.stencilWriteMask),c.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),c.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),Ze(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?Be(32926):Ue(32926)}function ze(Q){D!==Q&&(Q?n.frontFace(2304):n.frontFace(2305),D=Q)}function tt(Q){Q!==dN?(Be(2884),Q!==$&&(Q===Vw?n.cullFace(1029):Q===fN?n.cullFace(1028):n.cullFace(1032))):Ue(2884),$=Q}function Qe(Q){Q!==le&&(K&&n.lineWidth(Q),le=Q)}function Ze(Q,ye,Ae){Q?(Be(32823),(Y!==ye||I!==Ae)&&(n.polygonOffset(ye,Ae),Y=ye,I=Ae)):Ue(32823)}function ht(Q){Q?Be(3089):Ue(3089)}function bt(Q){Q===void 0&&(Q=33984+H-1),X!==Q&&(n.activeTexture(Q),X=Q)}function W(Q,ye,Ae){Ae===void 0&&(X===null?Ae=33984+H-1:Ae=X);let Ve=J[Ae];Ve===void 0&&(Ve={type:void 0,texture:void 0},J[Ae]=Ve),(Ve.type!==Q||Ve.texture!==ye)&&(X!==Ae&&(n.activeTexture(Ae),X=Ae),n.bindTexture(Q,ye||ce[Q]),Ve.type=Q,Ve.texture=ye)}function O(){const Q=J[X];Q!==void 0&&Q.type!==void 0&&(n.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function V(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function q(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function re(){try{n.texSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ge(){try{n.texSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Te(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Me(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ae(){try{n.texStorage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ie(){try{n.texStorage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function G(){try{n.texImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function fe(){try{n.texImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function be(Q){se.equals(Q)===!1&&(n.scissor(Q.x,Q.y,Q.z,Q.w),se.copy(Q))}function Pe(Q){Re.equals(Q)===!1&&(n.viewport(Q.x,Q.y,Q.z,Q.w),Re.copy(Q))}function Xe(Q,ye){let Ae=h.get(ye);Ae===void 0&&(Ae=new WeakMap,h.set(ye,Ae));let Ve=Ae.get(Q);Ve===void 0&&(Ve=n.getUniformBlockIndex(ye,Q.name),Ae.set(Q,Ve))}function st(Q,ye){const Ve=h.get(ye).get(Q);u.get(ye)!==Ve&&(n.uniformBlockBinding(ye,Ve,Q.__bindingPointIndex),u.set(ye,Ve))}function Ut(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},X=null,J={},m={},v=new WeakMap,g=[],x=null,_=!1,b=null,S=null,M=null,E=null,P=null,R=null,C=null,k=!1,D=null,$=null,le=null,Y=null,I=null,se.set(0,0,n.canvas.width,n.canvas.height),Re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Be,disable:Ue,bindFramebuffer:$e,drawBuffers:Le,useProgram:Fe,setBlending:De,setMaterial:Ye,setFlipSided:ze,setCullFace:tt,setLineWidth:Qe,setPolygonOffset:Ze,setScissorTest:ht,activeTexture:bt,bindTexture:W,unbindTexture:O,compressedTexImage2D:V,compressedTexImage3D:q,texImage2D:G,texImage3D:fe,updateUBOMapping:Xe,uniformBlockBinding:st,texStorage2D:ae,texStorage3D:Ie,texSubImage2D:re,texSubImage3D:ge,compressedTexSubImage2D:Te,compressedTexSubImage3D:Me,scissor:be,viewport:Pe,reset:Ut}}function mce(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let g;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(W,O){return _?new OffscreenCanvas(W,O):im("canvas")}function S(W,O,V,q){let re=1;if((W.width>q||W.height>q)&&(re=q/Math.max(W.width,W.height)),re<1||O===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const ge=O?Ly:Math.floor,Te=ge(re*W.width),Me=ge(re*W.height);g===void 0&&(g=b(Te,Me));const ae=V?b(Te,Me):g;return ae.width=Te,ae.height=Me,ae.getContext("2d").drawImage(W,0,0,Te,Me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+Te+"x"+Me+")."),ae}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function M(W){return vM(W.width)&&vM(W.height)}function E(W){return a?!1:W.wrapS!==Pr||W.wrapT!==Pr||W.minFilter!==Vn&&W.minFilter!==Dn}function P(W,O){return W.generateMipmaps&&O&&W.minFilter!==Vn&&W.minFilter!==Dn}function R(W){n.generateMipmap(W)}function C(W,O,V,q,re=!1){if(a===!1)return O;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let ge=O;return O===6403&&(V===5126&&(ge=33326),V===5131&&(ge=33325),V===5121&&(ge=33321)),O===33319&&(V===5126&&(ge=33328),V===5131&&(ge=33327),V===5121&&(ge=33323)),O===6408&&(V===5126&&(ge=34836),V===5131&&(ge=34842),V===5121&&(ge=q===Vt&&re===!1?35907:32856),V===32819&&(ge=32854),V===32820&&(ge=32855)),(ge===33325||ge===33326||ge===33327||ge===33328||ge===34842||ge===34836)&&e.get("EXT_color_buffer_float"),ge}function k(W,O,V){return P(W,V)===!0||W.isFramebufferTexture&&W.minFilter!==Vn&&W.minFilter!==Dn?Math.log2(Math.max(O.width,O.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?O.mipmaps.length:1}function D(W){return W===Vn||W===em||W===Fd?9728:9729}function $(W){const O=W.target;O.removeEventListener("dispose",$),Y(O),O.isVideoTexture&&v.delete(O)}function le(W){const O=W.target;O.removeEventListener("dispose",le),H(O)}function Y(W){const O=r.get(W);if(O.__webglInit===void 0)return;const V=W.source,q=x.get(V);if(q){const re=q[O.__cacheKey];re.usedTimes--,re.usedTimes===0&&I(W),Object.keys(q).length===0&&x.delete(V)}r.remove(W)}function I(W){const O=r.get(W);n.deleteTexture(O.__webglTexture);const V=W.source,q=x.get(V);delete q[O.__cacheKey],o.memory.textures--}function H(W){const O=W.texture,V=r.get(W),q=r.get(O);if(q.__webglTexture!==void 0&&(n.deleteTexture(q.__webglTexture),o.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let re=0;re<6;re++)n.deleteFramebuffer(V.__webglFramebuffer[re]),V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[re]);else{if(n.deleteFramebuffer(V.__webglFramebuffer),V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let re=0;re<V.__webglColorRenderbuffer.length;re++)V.__webglColorRenderbuffer[re]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[re]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let re=0,ge=O.length;re<ge;re++){const Te=r.get(O[re]);Te.__webglTexture&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),r.remove(O[re])}r.remove(O),r.remove(W)}let K=0;function oe(){K=0}function N(){const W=K;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),K+=1,W}function X(W){const O=[];return O.push(W.wrapS),O.push(W.wrapT),O.push(W.wrapR||0),O.push(W.magFilter),O.push(W.minFilter),O.push(W.anisotropy),O.push(W.internalFormat),O.push(W.format),O.push(W.type),O.push(W.generateMipmaps),O.push(W.premultiplyAlpha),O.push(W.flipY),O.push(W.unpackAlignment),O.push(W.encoding),O.join()}function J(W,O){const V=r.get(W);if(W.isVideoTexture&&ht(W),W.isRenderTargetTexture===!1&&W.version>0&&V.__version!==W.version){const q=W.image;if(q===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(q.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ue(V,W,O);return}}t.bindTexture(3553,V.__webglTexture,33984+O)}function he(W,O){const V=r.get(W);if(W.version>0&&V.__version!==W.version){Ue(V,W,O);return}t.bindTexture(35866,V.__webglTexture,33984+O)}function Z(W,O){const V=r.get(W);if(W.version>0&&V.__version!==W.version){Ue(V,W,O);return}t.bindTexture(32879,V.__webglTexture,33984+O)}function se(W,O){const V=r.get(W);if(W.version>0&&V.__version!==W.version){$e(V,W,O);return}t.bindTexture(34067,V.__webglTexture,33984+O)}const Re={[El]:10497,[Pr]:33071,[tf]:33648},ke={[Vn]:9728,[em]:9984,[Fd]:9986,[Dn]:9729,[Vx]:9985,[Co]:9987};function ce(W,O,V){if(V?(n.texParameteri(W,10242,Re[O.wrapS]),n.texParameteri(W,10243,Re[O.wrapT]),(W===32879||W===35866)&&n.texParameteri(W,32882,Re[O.wrapR]),n.texParameteri(W,10240,ke[O.magFilter]),n.texParameteri(W,10241,ke[O.minFilter])):(n.texParameteri(W,10242,33071),n.texParameteri(W,10243,33071),(W===32879||W===35866)&&n.texParameteri(W,32882,33071),(O.wrapS!==Pr||O.wrapT!==Pr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,10240,D(O.magFilter)),n.texParameteri(W,10241,D(O.minFilter)),O.minFilter!==Vn&&O.minFilter!==Dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const q=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===Vn||O.minFilter!==Fd&&O.minFilter!==Co||O.type===sa&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===nf&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(n.texParameterf(W,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function Be(W,O){let V=!1;W.__webglInit===void 0&&(W.__webglInit=!0,O.addEventListener("dispose",$));const q=O.source;let re=x.get(q);re===void 0&&(re={},x.set(q,re));const ge=X(O);if(ge!==W.__cacheKey){re[ge]===void 0&&(re[ge]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,V=!0),re[ge].usedTimes++;const Te=re[W.__cacheKey];Te!==void 0&&(re[W.__cacheKey].usedTimes--,Te.usedTimes===0&&I(O)),W.__cacheKey=ge,W.__webglTexture=re[ge].texture}return V}function Ue(W,O,V){let q=3553;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(q=35866),O.isData3DTexture&&(q=32879);const re=Be(W,O),ge=O.source;t.bindTexture(q,W.__webglTexture,33984+V);const Te=r.get(ge);if(ge.version!==Te.__version||re===!0){t.activeTexture(33984+V),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const Me=E(O)&&M(O.image)===!1;let ae=S(O.image,Me,!1,u);ae=bt(O,ae);const Ie=M(ae)||a,G=s.convert(O.format,O.encoding);let fe=s.convert(O.type),be=C(O.internalFormat,G,fe,O.encoding,O.isVideoTexture);ce(q,O,Ie);let Pe;const Xe=O.mipmaps,st=a&&O.isVideoTexture!==!0,Ut=Te.__version===void 0||re===!0,Q=k(O,ae,Ie);if(O.isDepthTexture)be=6402,a?O.type===sa?be=36012:O.type===al?be=33190:O.type===Wc?be=35056:be=33189:O.type===sa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===yl&&be===6402&&O.type!==zT&&O.type!==al&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=al,fe=s.convert(O.type)),O.format===tu&&be===6402&&(be=34041,O.type!==Wc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Wc,fe=s.convert(O.type))),Ut&&(st?t.texStorage2D(3553,1,be,ae.width,ae.height):t.texImage2D(3553,0,be,ae.width,ae.height,0,G,fe,null));else if(O.isDataTexture)if(Xe.length>0&&Ie){st&&Ut&&t.texStorage2D(3553,Q,be,Xe[0].width,Xe[0].height);for(let ye=0,Ae=Xe.length;ye<Ae;ye++)Pe=Xe[ye],st?t.texSubImage2D(3553,ye,0,0,Pe.width,Pe.height,G,fe,Pe.data):t.texImage2D(3553,ye,be,Pe.width,Pe.height,0,G,fe,Pe.data);O.generateMipmaps=!1}else st?(Ut&&t.texStorage2D(3553,Q,be,ae.width,ae.height),t.texSubImage2D(3553,0,0,0,ae.width,ae.height,G,fe,ae.data)):t.texImage2D(3553,0,be,ae.width,ae.height,0,G,fe,ae.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){st&&Ut&&t.texStorage3D(35866,Q,be,Xe[0].width,Xe[0].height,ae.depth);for(let ye=0,Ae=Xe.length;ye<Ae;ye++)Pe=Xe[ye],O.format!==Ui?G!==null?st?t.compressedTexSubImage3D(35866,ye,0,0,0,Pe.width,Pe.height,ae.depth,G,Pe.data,0,0):t.compressedTexImage3D(35866,ye,be,Pe.width,Pe.height,ae.depth,0,Pe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):st?t.texSubImage3D(35866,ye,0,0,0,Pe.width,Pe.height,ae.depth,G,fe,Pe.data):t.texImage3D(35866,ye,be,Pe.width,Pe.height,ae.depth,0,G,fe,Pe.data)}else{st&&Ut&&t.texStorage2D(3553,Q,be,Xe[0].width,Xe[0].height);for(let ye=0,Ae=Xe.length;ye<Ae;ye++)Pe=Xe[ye],O.format!==Ui?G!==null?st?t.compressedTexSubImage2D(3553,ye,0,0,Pe.width,Pe.height,G,Pe.data):t.compressedTexImage2D(3553,ye,be,Pe.width,Pe.height,0,Pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):st?t.texSubImage2D(3553,ye,0,0,Pe.width,Pe.height,G,fe,Pe.data):t.texImage2D(3553,ye,be,Pe.width,Pe.height,0,G,fe,Pe.data)}else if(O.isDataArrayTexture)st?(Ut&&t.texStorage3D(35866,Q,be,ae.width,ae.height,ae.depth),t.texSubImage3D(35866,0,0,0,0,ae.width,ae.height,ae.depth,G,fe,ae.data)):t.texImage3D(35866,0,be,ae.width,ae.height,ae.depth,0,G,fe,ae.data);else if(O.isData3DTexture)st?(Ut&&t.texStorage3D(32879,Q,be,ae.width,ae.height,ae.depth),t.texSubImage3D(32879,0,0,0,0,ae.width,ae.height,ae.depth,G,fe,ae.data)):t.texImage3D(32879,0,be,ae.width,ae.height,ae.depth,0,G,fe,ae.data);else if(O.isFramebufferTexture){if(Ut)if(st)t.texStorage2D(3553,Q,be,ae.width,ae.height);else{let ye=ae.width,Ae=ae.height;for(let Ve=0;Ve<Q;Ve++)t.texImage2D(3553,Ve,be,ye,Ae,0,G,fe,null),ye>>=1,Ae>>=1}}else if(Xe.length>0&&Ie){st&&Ut&&t.texStorage2D(3553,Q,be,Xe[0].width,Xe[0].height);for(let ye=0,Ae=Xe.length;ye<Ae;ye++)Pe=Xe[ye],st?t.texSubImage2D(3553,ye,0,0,G,fe,Pe):t.texImage2D(3553,ye,be,G,fe,Pe);O.generateMipmaps=!1}else st?(Ut&&t.texStorage2D(3553,Q,be,ae.width,ae.height),t.texSubImage2D(3553,0,0,0,G,fe,ae)):t.texImage2D(3553,0,be,G,fe,ae);P(O,Ie)&&R(q),Te.__version=ge.version,O.onUpdate&&O.onUpdate(O)}W.__version=O.version}function $e(W,O,V){if(O.image.length!==6)return;const q=Be(W,O),re=O.source;t.bindTexture(34067,W.__webglTexture,33984+V);const ge=r.get(re);if(re.version!==ge.__version||q===!0){t.activeTexture(33984+V),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const Te=O.isCompressedTexture||O.image[0].isCompressedTexture,Me=O.image[0]&&O.image[0].isDataTexture,ae=[];for(let ye=0;ye<6;ye++)!Te&&!Me?ae[ye]=S(O.image[ye],!1,!0,c):ae[ye]=Me?O.image[ye].image:O.image[ye],ae[ye]=bt(O,ae[ye]);const Ie=ae[0],G=M(Ie)||a,fe=s.convert(O.format,O.encoding),be=s.convert(O.type),Pe=C(O.internalFormat,fe,be,O.encoding),Xe=a&&O.isVideoTexture!==!0,st=ge.__version===void 0||q===!0;let Ut=k(O,Ie,G);ce(34067,O,G);let Q;if(Te){Xe&&st&&t.texStorage2D(34067,Ut,Pe,Ie.width,Ie.height);for(let ye=0;ye<6;ye++){Q=ae[ye].mipmaps;for(let Ae=0;Ae<Q.length;Ae++){const Ve=Q[Ae];O.format!==Ui?fe!==null?Xe?t.compressedTexSubImage2D(34069+ye,Ae,0,0,Ve.width,Ve.height,fe,Ve.data):t.compressedTexImage2D(34069+ye,Ae,Pe,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xe?t.texSubImage2D(34069+ye,Ae,0,0,Ve.width,Ve.height,fe,be,Ve.data):t.texImage2D(34069+ye,Ae,Pe,Ve.width,Ve.height,0,fe,be,Ve.data)}}}else{Q=O.mipmaps,Xe&&st&&(Q.length>0&&Ut++,t.texStorage2D(34067,Ut,Pe,ae[0].width,ae[0].height));for(let ye=0;ye<6;ye++)if(Me){Xe?t.texSubImage2D(34069+ye,0,0,0,ae[ye].width,ae[ye].height,fe,be,ae[ye].data):t.texImage2D(34069+ye,0,Pe,ae[ye].width,ae[ye].height,0,fe,be,ae[ye].data);for(let Ae=0;Ae<Q.length;Ae++){const je=Q[Ae].image[ye].image;Xe?t.texSubImage2D(34069+ye,Ae+1,0,0,je.width,je.height,fe,be,je.data):t.texImage2D(34069+ye,Ae+1,Pe,je.width,je.height,0,fe,be,je.data)}}else{Xe?t.texSubImage2D(34069+ye,0,0,0,fe,be,ae[ye]):t.texImage2D(34069+ye,0,Pe,fe,be,ae[ye]);for(let Ae=0;Ae<Q.length;Ae++){const Ve=Q[Ae];Xe?t.texSubImage2D(34069+ye,Ae+1,0,0,fe,be,Ve.image[ye]):t.texImage2D(34069+ye,Ae+1,Pe,fe,be,Ve.image[ye])}}}P(O,G)&&R(34067),ge.__version=re.version,O.onUpdate&&O.onUpdate(O)}W.__version=O.version}function Le(W,O,V,q,re){const ge=s.convert(V.format,V.encoding),Te=s.convert(V.type),Me=C(V.internalFormat,ge,Te,V.encoding);r.get(O).__hasExternalTextures||(re===32879||re===35866?t.texImage3D(re,0,Me,O.width,O.height,O.depth,0,ge,Te,null):t.texImage2D(re,0,Me,O.width,O.height,0,ge,Te,null)),t.bindFramebuffer(36160,W),Ze(O)?p.framebufferTexture2DMultisampleEXT(36160,q,re,r.get(V).__webglTexture,0,Qe(O)):(re===3553||re>=34069&&re<=34074)&&n.framebufferTexture2D(36160,q,re,r.get(V).__webglTexture,0),t.bindFramebuffer(36160,null)}function Fe(W,O,V){if(n.bindRenderbuffer(36161,W),O.depthBuffer&&!O.stencilBuffer){let q=33189;if(V||Ze(O)){const re=O.depthTexture;re&&re.isDepthTexture&&(re.type===sa?q=36012:re.type===al&&(q=33190));const ge=Qe(O);Ze(O)?p.renderbufferStorageMultisampleEXT(36161,ge,q,O.width,O.height):n.renderbufferStorageMultisample(36161,ge,q,O.width,O.height)}else n.renderbufferStorage(36161,q,O.width,O.height);n.framebufferRenderbuffer(36160,36096,36161,W)}else if(O.depthBuffer&&O.stencilBuffer){const q=Qe(O);V&&Ze(O)===!1?n.renderbufferStorageMultisample(36161,q,35056,O.width,O.height):Ze(O)?p.renderbufferStorageMultisampleEXT(36161,q,35056,O.width,O.height):n.renderbufferStorage(36161,34041,O.width,O.height),n.framebufferRenderbuffer(36160,33306,36161,W)}else{const q=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let re=0;re<q.length;re++){const ge=q[re],Te=s.convert(ge.format,ge.encoding),Me=s.convert(ge.type),ae=C(ge.internalFormat,Te,Me,ge.encoding),Ie=Qe(O);V&&Ze(O)===!1?n.renderbufferStorageMultisample(36161,Ie,ae,O.width,O.height):Ze(O)?p.renderbufferStorageMultisampleEXT(36161,Ie,ae,O.width,O.height):n.renderbufferStorage(36161,ae,O.width,O.height)}}n.bindRenderbuffer(36161,null)}function _e(W,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,W),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),J(O.depthTexture,0);const q=r.get(O.depthTexture).__webglTexture,re=Qe(O);if(O.depthTexture.format===yl)Ze(O)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,q,0,re):n.framebufferTexture2D(36160,36096,3553,q,0);else if(O.depthTexture.format===tu)Ze(O)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,q,0,re):n.framebufferTexture2D(36160,33306,3553,q,0);else throw new Error("Unknown depthTexture format")}function ve(W){const O=r.get(W),V=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!O.__autoAllocateDepthBuffer){if(V)throw new Error("target.depthTexture not supported in Cube render targets");_e(O.__webglFramebuffer,W)}else if(V){O.__webglDepthbuffer=[];for(let q=0;q<6;q++)t.bindFramebuffer(36160,O.__webglFramebuffer[q]),O.__webglDepthbuffer[q]=n.createRenderbuffer(),Fe(O.__webglDepthbuffer[q],W,!1)}else t.bindFramebuffer(36160,O.__webglFramebuffer),O.__webglDepthbuffer=n.createRenderbuffer(),Fe(O.__webglDepthbuffer,W,!1);t.bindFramebuffer(36160,null)}function De(W,O,V){const q=r.get(W);O!==void 0&&Le(q.__webglFramebuffer,W,W.texture,36064,3553),V!==void 0&&ve(W)}function Ye(W){const O=W.texture,V=r.get(W),q=r.get(O);W.addEventListener("dispose",le),W.isWebGLMultipleRenderTargets!==!0&&(q.__webglTexture===void 0&&(q.__webglTexture=n.createTexture()),q.__version=O.version,o.memory.textures++);const re=W.isWebGLCubeRenderTarget===!0,ge=W.isWebGLMultipleRenderTargets===!0,Te=M(W)||a;if(re){V.__webglFramebuffer=[];for(let Me=0;Me<6;Me++)V.__webglFramebuffer[Me]=n.createFramebuffer()}else{if(V.__webglFramebuffer=n.createFramebuffer(),ge)if(i.drawBuffers){const Me=W.texture;for(let ae=0,Ie=Me.length;ae<Ie;ae++){const G=r.get(Me[ae]);G.__webglTexture===void 0&&(G.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&W.samples>0&&Ze(W)===!1){const Me=ge?O:[O];V.__webglMultisampledFramebuffer=n.createFramebuffer(),V.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,V.__webglMultisampledFramebuffer);for(let ae=0;ae<Me.length;ae++){const Ie=Me[ae];V.__webglColorRenderbuffer[ae]=n.createRenderbuffer(),n.bindRenderbuffer(36161,V.__webglColorRenderbuffer[ae]);const G=s.convert(Ie.format,Ie.encoding),fe=s.convert(Ie.type),be=C(Ie.internalFormat,G,fe,Ie.encoding,W.isXRRenderTarget===!0),Pe=Qe(W);n.renderbufferStorageMultisample(36161,Pe,be,W.width,W.height),n.framebufferRenderbuffer(36160,36064+ae,36161,V.__webglColorRenderbuffer[ae])}n.bindRenderbuffer(36161,null),W.depthBuffer&&(V.__webglDepthRenderbuffer=n.createRenderbuffer(),Fe(V.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(36160,null)}}if(re){t.bindTexture(34067,q.__webglTexture),ce(34067,O,Te);for(let Me=0;Me<6;Me++)Le(V.__webglFramebuffer[Me],W,O,36064,34069+Me);P(O,Te)&&R(34067),t.unbindTexture()}else if(ge){const Me=W.texture;for(let ae=0,Ie=Me.length;ae<Ie;ae++){const G=Me[ae],fe=r.get(G);t.bindTexture(3553,fe.__webglTexture),ce(3553,G,Te),Le(V.__webglFramebuffer,W,G,36064+ae,3553),P(G,Te)&&R(3553)}t.unbindTexture()}else{let Me=3553;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(a?Me=W.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Me,q.__webglTexture),ce(Me,O,Te),Le(V.__webglFramebuffer,W,O,36064,Me),P(O,Te)&&R(Me),t.unbindTexture()}W.depthBuffer&&ve(W)}function ze(W){const O=M(W)||a,V=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let q=0,re=V.length;q<re;q++){const ge=V[q];if(P(ge,O)){const Te=W.isWebGLCubeRenderTarget?34067:3553,Me=r.get(ge).__webglTexture;t.bindTexture(Te,Me),R(Te),t.unbindTexture()}}}function tt(W){if(a&&W.samples>0&&Ze(W)===!1){const O=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],V=W.width,q=W.height;let re=16384;const ge=[],Te=W.stencilBuffer?33306:36096,Me=r.get(W),ae=W.isWebGLMultipleRenderTargets===!0;if(ae)for(let Ie=0;Ie<O.length;Ie++)t.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ie,36161,null),t.bindFramebuffer(36160,Me.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ie,3553,null,0);t.bindFramebuffer(36008,Me.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Me.__webglFramebuffer);for(let Ie=0;Ie<O.length;Ie++){ge.push(36064+Ie),W.depthBuffer&&ge.push(Te);const G=Me.__ignoreDepthValues!==void 0?Me.__ignoreDepthValues:!1;if(G===!1&&(W.depthBuffer&&(re|=256),W.stencilBuffer&&(re|=1024)),ae&&n.framebufferRenderbuffer(36008,36064,36161,Me.__webglColorRenderbuffer[Ie]),G===!0&&(n.invalidateFramebuffer(36008,[Te]),n.invalidateFramebuffer(36009,[Te])),ae){const fe=r.get(O[Ie]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,fe,0)}n.blitFramebuffer(0,0,V,q,0,0,V,q,re,9728),m&&n.invalidateFramebuffer(36008,ge)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ae)for(let Ie=0;Ie<O.length;Ie++){t.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ie,36161,Me.__webglColorRenderbuffer[Ie]);const G=r.get(O[Ie]).__webglTexture;t.bindFramebuffer(36160,Me.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ie,3553,G,0)}t.bindFramebuffer(36009,Me.__webglMultisampledFramebuffer)}}function Qe(W){return Math.min(h,W.samples)}function Ze(W){const O=r.get(W);return a&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function ht(W){const O=o.render.frame;v.get(W)!==O&&(v.set(W,O),W.update())}function bt(W,O){const V=W.encoding,q=W.format,re=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===ky||V!==xa&&(V===Vt?a===!1?e.has("EXT_sRGB")===!0&&q===Ui?(W.format=ky,W.minFilter=Dn,W.generateMipmaps=!1):O=VT.sRGBToLinear(O):(q!==Ui||re!==Cl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",V)),O}this.allocateTextureUnit=N,this.resetTextureUnits=oe,this.setTexture2D=J,this.setTexture2DArray=he,this.setTexture3D=Z,this.setTextureCube=se,this.rebindTextures=De,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=Le,this.useMultisampledRTT=Ze}function bz(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Cl)return 5121;if(s===HN)return 32819;if(s===jN)return 32820;if(s===BN)return 5120;if(s===UN)return 5122;if(s===zT)return 5123;if(s===VN)return 5124;if(s===al)return 5125;if(s===sa)return 5126;if(s===nf)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===WN)return 6406;if(s===Ui)return 6408;if(s===GN)return 6409;if(s===$N)return 6410;if(s===yl)return 6402;if(s===tu)return 34041;if(s===ky)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===XN)return 6403;if(s===qN)return 36244;if(s===YN)return 33319;if(s===KN)return 33320;if(s===ZN)return 36249;if(s===Av||s===Pv||s===Rv||s===kv)if(o===Vt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Av)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Pv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Rv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===kv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Av)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Pv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Rv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===kv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Xw||s===qw||s===Yw||s===Kw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Xw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===qw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Yw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Kw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===JN)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Zw||s===Jw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Zw)return o===Vt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Jw)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Qw||s===eM||s===tM||s===nM||s===rM||s===iM||s===sM||s===oM||s===aM||s===lM||s===cM||s===uM||s===dM||s===fM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Qw)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===eM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===tM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===nM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===rM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===iM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===sM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===oM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===aM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===lM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===cM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===uM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===dM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===fM)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Lv)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Lv)return o===Vt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===QN||s===hM||s===pM||s===mM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Lv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===hM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===pM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===mM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Wc?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class Sz extends vn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class aa extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gce={type:"move"};class Vb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new aa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new aa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new aa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const x=t.getJointPose(g,r),_=this._getHandJoint(c,g);x!==null&&(_.matrix.fromArray(x.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=x.radius),_.visible=x!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=u.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(gce)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new aa;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class wz extends Rn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:yl,u!==yl&&u!==tu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===yl&&(r=al),r===void 0&&u===tu&&(r=Wc),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Vn,this.minFilter=l!==void 0?l:Vn,this.flipY=!1,this.generateMipmaps=!1}}class vce extends ko{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,p=null,m=null,v=null;const g=t.getContextAttributes();let x=null,_=null;const b=[],S=[],M=new Set,E=new Map,P=new vn;P.layers.enable(1),P.viewport=new dn;const R=new vn;R.layers.enable(2),R.viewport=new dn;const C=[P,R],k=new Sz;k.layers.enable(1),k.layers.enable(2);let D=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let se=b[Z];return se===void 0&&(se=new Vb,b[Z]=se),se.getTargetRaySpace()},this.getControllerGrip=function(Z){let se=b[Z];return se===void 0&&(se=new Vb,b[Z]=se),se.getGripSpace()},this.getHand=function(Z){let se=b[Z];return se===void 0&&(se=new Vb,b[Z]=se),se.getHandSpace()};function le(Z){const se=S.indexOf(Z.inputSource);if(se===-1)return;const Re=b[se];Re!==void 0&&Re.dispatchEvent({type:Z.type,data:Z.inputSource})}function Y(){i.removeEventListener("select",le),i.removeEventListener("selectstart",le),i.removeEventListener("selectend",le),i.removeEventListener("squeeze",le),i.removeEventListener("squeezestart",le),i.removeEventListener("squeezeend",le),i.removeEventListener("end",Y),i.removeEventListener("inputsourceschange",I);for(let Z=0;Z<b.length;Z++){const se=S[Z];se!==null&&(S[Z]=null,b[Z].disconnect(se))}D=null,$=null,e.setRenderTarget(x),m=null,p=null,h=null,i=null,_=null,he.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){a=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Z){c=Z},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(Z){if(i=Z,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",le),i.addEventListener("selectstart",le),i.addEventListener("selectend",le),i.addEventListener("squeeze",le),i.addEventListener("squeezestart",le),i.addEventListener("squeezeend",le),i.addEventListener("end",Y),i.addEventListener("inputsourceschange",I),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const se={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,se),i.updateRenderState({baseLayer:m}),_=new Ys(m.framebufferWidth,m.framebufferHeight,{format:Ui,type:Cl,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let se=null,Re=null,ke=null;g.depth&&(ke=g.stencil?35056:33190,se=g.stencil?tu:yl,Re=g.stencil?Wc:al);const ce={colorFormat:32856,depthFormat:ke,scaleFactor:s};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(ce),i.updateRenderState({layers:[p]}),_=new Ys(p.textureWidth,p.textureHeight,{format:Ui,type:Cl,depthTexture:new wz(p.textureWidth,p.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Be=e.properties.get(_);Be.__ignoreDepthValues=p.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),he.setContext(i),he.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function I(Z){for(let se=0;se<Z.removed.length;se++){const Re=Z.removed[se],ke=S.indexOf(Re);ke>=0&&(S[ke]=null,b[ke].disconnect(Re))}for(let se=0;se<Z.added.length;se++){const Re=Z.added[se];let ke=S.indexOf(Re);if(ke===-1){for(let Be=0;Be<b.length;Be++)if(Be>=S.length){S.push(Re),ke=Be;break}else if(S[Be]===null){S[Be]=Re,ke=Be;break}if(ke===-1)break}const ce=b[ke];ce&&ce.connect(Re)}}const H=new z,K=new z;function oe(Z,se,Re){H.setFromMatrixPosition(se.matrixWorld),K.setFromMatrixPosition(Re.matrixWorld);const ke=H.distanceTo(K),ce=se.projectionMatrix.elements,Be=Re.projectionMatrix.elements,Ue=ce[14]/(ce[10]-1),$e=ce[14]/(ce[10]+1),Le=(ce[9]+1)/ce[5],Fe=(ce[9]-1)/ce[5],_e=(ce[8]-1)/ce[0],ve=(Be[8]+1)/Be[0],De=Ue*_e,Ye=Ue*ve,ze=ke/(-_e+ve),tt=ze*-_e;se.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(tt),Z.translateZ(ze),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert();const Qe=Ue+ze,Ze=$e+ze,ht=De-tt,bt=Ye+(ke-tt),W=Le*$e/Ze*Qe,O=Fe*$e/Ze*Qe;Z.projectionMatrix.makePerspective(ht,bt,W,O,Qe,Ze)}function N(Z,se){se===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(se.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(i===null)return;k.near=R.near=P.near=Z.near,k.far=R.far=P.far=Z.far,(D!==k.near||$!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),D=k.near,$=k.far);const se=Z.parent,Re=k.cameras;N(k,se);for(let ce=0;ce<Re.length;ce++)N(Re[ce],se);k.matrixWorld.decompose(k.position,k.quaternion,k.scale),Z.matrix.copy(k.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale);const ke=Z.children;for(let ce=0,Be=ke.length;ce<Be;ce++)ke[ce].updateMatrixWorld(!0);Re.length===2?oe(k,P,R):k.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return k},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(Z){l=Z,p!==null&&(p.fixedFoveation=Z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Z)},this.getPlanes=function(){return M};let X=null;function J(Z,se){if(u=se.getViewerPose(c||o),v=se,u!==null){const Re=u.views;m!==null&&(e.setRenderTargetFramebuffer(_,m.framebuffer),e.setRenderTarget(_));let ke=!1;Re.length!==k.cameras.length&&(k.cameras.length=0,ke=!0);for(let ce=0;ce<Re.length;ce++){const Be=Re[ce];let Ue=null;if(m!==null)Ue=m.getViewport(Be);else{const Le=h.getViewSubImage(p,Be);Ue=Le.viewport,ce===0&&(e.setRenderTargetTextures(_,Le.colorTexture,p.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(_))}let $e=C[ce];$e===void 0&&($e=new vn,$e.layers.enable(ce),$e.viewport=new dn,C[ce]=$e),$e.matrix.fromArray(Be.transform.matrix),$e.projectionMatrix.fromArray(Be.projectionMatrix),$e.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),ce===0&&k.matrix.copy($e.matrix),ke===!0&&k.cameras.push($e)}}for(let Re=0;Re<b.length;Re++){const ke=S[Re],ce=b[Re];ke!==null&&ce!==void 0&&ce.update(ke,se,c||o)}if(X&&X(Z,se),se.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:se.detectedPlanes});let Re=null;for(const ke of M)se.detectedPlanes.has(ke)||(Re===null&&(Re=[]),Re.push(ke));if(Re!==null)for(const ke of Re)M.delete(ke),E.delete(ke),r.dispatchEvent({type:"planeremoved",data:ke});for(const ke of se.detectedPlanes)if(!M.has(ke))M.add(ke),E.set(ke,se.lastChangedTime),r.dispatchEvent({type:"planeadded",data:ke});else{const ce=E.get(ke);ke.lastChangedTime>ce&&(E.set(ke,ke.lastChangedTime),r.dispatchEvent({type:"planechanged",data:ke}))}}v=null}const he=new gz;he.setAnimationLoop(J),this.setAnimationLoop=function(Z){X=Z},this.dispose=function(){}}}function yce(n,e){function t(g,x){x.color.getRGB(g.fogColor.value,fz(n)),x.isFog?(g.fogNear.value=x.near,g.fogFar.value=x.far):x.isFogExp2&&(g.fogDensity.value=x.density)}function r(g,x,_,b,S){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(g,x):x.isMeshToonMaterial?(i(g,x),u(g,x)):x.isMeshPhongMaterial?(i(g,x),c(g,x)):x.isMeshStandardMaterial?(i(g,x),h(g,x),x.isMeshPhysicalMaterial&&p(g,x,S)):x.isMeshMatcapMaterial?(i(g,x),m(g,x)):x.isMeshDepthMaterial?i(g,x):x.isMeshDistanceMaterial?(i(g,x),v(g,x)):x.isMeshNormalMaterial?i(g,x):x.isLineBasicMaterial?(s(g,x),x.isLineDashedMaterial&&o(g,x)):x.isPointsMaterial?a(g,x,_,b):x.isSpriteMaterial?l(g,x):x.isShadowMaterial?(g.color.value.copy(x.color),g.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(g,x){g.opacity.value=x.opacity,x.color&&g.diffuse.value.copy(x.color),x.emissive&&g.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===wi&&(g.bumpScale.value*=-1)),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===wi&&g.normalScale.value.negate()),x.specularMap&&(g.specularMap.value=x.specularMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);const _=e.get(x).envMap;if(_&&(g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=x.reflectivity,g.ior.value=x.ior,g.refractionRatio.value=x.refractionRatio),x.lightMap){g.lightMap.value=x.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=x.lightMapIntensity*M}x.aoMap&&(g.aoMap.value=x.aoMap,g.aoMapIntensity.value=x.aoMapIntensity);let b;x.map?b=x.map:x.specularMap?b=x.specularMap:x.displacementMap?b=x.displacementMap:x.normalMap?b=x.normalMap:x.bumpMap?b=x.bumpMap:x.roughnessMap?b=x.roughnessMap:x.metalnessMap?b=x.metalnessMap:x.alphaMap?b=x.alphaMap:x.emissiveMap?b=x.emissiveMap:x.clearcoatMap?b=x.clearcoatMap:x.clearcoatNormalMap?b=x.clearcoatNormalMap:x.clearcoatRoughnessMap?b=x.clearcoatRoughnessMap:x.iridescenceMap?b=x.iridescenceMap:x.iridescenceThicknessMap?b=x.iridescenceThicknessMap:x.specularIntensityMap?b=x.specularIntensityMap:x.specularColorMap?b=x.specularColorMap:x.transmissionMap?b=x.transmissionMap:x.thicknessMap?b=x.thicknessMap:x.sheenColorMap?b=x.sheenColorMap:x.sheenRoughnessMap&&(b=x.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix));let S;x.aoMap?S=x.aoMap:x.lightMap&&(S=x.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function s(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity}function o(g,x){g.dashSize.value=x.dashSize,g.totalSize.value=x.dashSize+x.gapSize,g.scale.value=x.scale}function a(g,x,_,b){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.size.value=x.size*_,g.scale.value=b*.5,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let S;x.map?S=x.map:x.alphaMap&&(S=x.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function l(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.rotation.value=x.rotation,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let _;x.map?_=x.map:x.alphaMap&&(_=x.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix))}function c(g,x){g.specular.value.copy(x.specular),g.shininess.value=Math.max(x.shininess,1e-4)}function u(g,x){x.gradientMap&&(g.gradientMap.value=x.gradientMap)}function h(g,x){g.roughness.value=x.roughness,g.metalness.value=x.metalness,x.roughnessMap&&(g.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(g.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(g.envMapIntensity.value=x.envMapIntensity)}function p(g,x,_){g.ior.value=x.ior,x.sheen>0&&(g.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),g.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(g.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(g.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(g.clearcoat.value=x.clearcoat,g.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(g.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),g.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===wi&&g.clearcoatNormalScale.value.negate())),x.iridescence>0&&(g.iridescence.value=x.iridescence,g.iridescenceIOR.value=x.iridescenceIOR,g.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(g.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(g.transmission.value=x.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),x.transmissionMap&&(g.transmissionMap.value=x.transmissionMap),g.thickness.value=x.thickness,x.thicknessMap&&(g.thicknessMap.value=x.thicknessMap),g.attenuationDistance.value=x.attenuationDistance,g.attenuationColor.value.copy(x.attenuationColor)),g.specularIntensity.value=x.specularIntensity,g.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(g.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(g.specularColorMap.value=x.specularColorMap)}function m(g,x){x.matcap&&(g.matcap.value=x.matcap)}function v(g,x){g.referencePosition.value.copy(x.referencePosition),g.nearDistance.value=x.nearDistance,g.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function xce(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(b,S){const M=S.program;r.uniformBlockBinding(b,M)}function c(b,S){let M=i[b.id];M===void 0&&(v(b),M=u(b),i[b.id]=M,b.addEventListener("dispose",x));const E=S.program;r.updateUBOMapping(b,E);const P=e.render.frame;s[b.id]!==P&&(p(b),s[b.id]=P)}function u(b){const S=h();b.__bindingPointIndex=S;const M=n.createBuffer(),E=b.__size,P=b.usage;return n.bindBuffer(35345,M),n.bufferData(35345,E,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,M),M}function h(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(b){const S=i[b.id],M=b.uniforms,E=b.__cache;n.bindBuffer(35345,S);for(let P=0,R=M.length;P<R;P++){const C=M[P];if(m(C,P,E)===!0){const k=C.__offset,D=Array.isArray(C.value)?C.value:[C.value];let $=0;for(let le=0;le<D.length;le++){const Y=D[le],I=g(Y);typeof Y=="number"?(C.__data[0]=Y,n.bufferSubData(35345,k+$,C.__data)):Y.isMatrix3?(C.__data[0]=Y.elements[0],C.__data[1]=Y.elements[1],C.__data[2]=Y.elements[2],C.__data[3]=Y.elements[0],C.__data[4]=Y.elements[3],C.__data[5]=Y.elements[4],C.__data[6]=Y.elements[5],C.__data[7]=Y.elements[0],C.__data[8]=Y.elements[6],C.__data[9]=Y.elements[7],C.__data[10]=Y.elements[8],C.__data[11]=Y.elements[0]):(Y.toArray(C.__data,$),$+=I.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,k,C.__data)}}n.bindBuffer(35345,null)}function m(b,S,M){const E=b.value;if(M[S]===void 0){if(typeof E=="number")M[S]=E;else{const P=Array.isArray(E)?E:[E],R=[];for(let C=0;C<P.length;C++)R.push(P[C].clone());M[S]=R}return!0}else if(typeof E=="number"){if(M[S]!==E)return M[S]=E,!0}else{const P=Array.isArray(M[S])?M[S]:[M[S]],R=Array.isArray(E)?E:[E];for(let C=0;C<P.length;C++){const k=P[C];if(k.equals(R[C])===!1)return k.copy(R[C]),!0}}return!1}function v(b){const S=b.uniforms;let M=0;const E=16;let P=0;for(let R=0,C=S.length;R<C;R++){const k=S[R],D={boundary:0,storage:0},$=Array.isArray(k.value)?k.value:[k.value];for(let le=0,Y=$.length;le<Y;le++){const I=$[le],H=g(I);D.boundary+=H.boundary,D.storage+=H.storage}if(k.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=M,R>0){P=M%E;const le=E-P;P!==0&&le-D.boundary<0&&(M+=E-P,k.__offset=M)}M+=D.storage}return P=M%E,P>0&&(M+=E-P),b.__size=M,b.__cache={},this}function g(b){const S={boundary:0,storage:0};return typeof b=="number"?(S.boundary=4,S.storage=4):b.isVector2?(S.boundary=8,S.storage=8):b.isVector3||b.isColor?(S.boundary=16,S.storage=12):b.isVector4?(S.boundary=16,S.storage=16):b.isMatrix3?(S.boundary=48,S.storage=48):b.isMatrix4?(S.boundary=64,S.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),S}function x(b){const S=b.target;S.removeEventListener("dispose",x);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function _(){for(const b in i)n.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:l,update:c,dispose:_}}function _ce(){const n=im("canvas");return n.style.display="block",n}function qT(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:_ce(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=xa,this.physicallyCorrectLights=!1,this.toneMapping=$s,this.toneMappingExposure=1;const g=this;let x=!1,_=0,b=0,S=null,M=-1,E=null;const P=new dn,R=new dn;let C=null,k=e.width,D=e.height,$=1,le=null,Y=null;const I=new dn(0,0,k,D),H=new dn(0,0,k,D);let K=!1;const oe=new Wx;let N=!1,X=!1,J=null;const he=new pt,Z=new Ce,se=new z,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ke(){return S===null?$:1}let ce=t;function Be(U,de){for(let we=0;we<U.length;we++){const ue=U[we],Ee=e.getContext(ue,de);if(Ee!==null)return Ee}return null}try{const U={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Fx}`),e.addEventListener("webglcontextlost",be,!1),e.addEventListener("webglcontextrestored",Pe,!1),e.addEventListener("webglcontextcreationerror",Xe,!1),ce===null){const de=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&de.shift(),ce=Be(de,U),ce===null)throw Be(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ce.getShaderPrecisionFormat===void 0&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let Ue,$e,Le,Fe,_e,ve,De,Ye,ze,tt,Qe,Ze,ht,bt,W,O,V,q,re,ge,Te,Me,ae,Ie;function G(){Ue=new Nae(ce),$e=new Rae(ce,Ue,n),Ue.init($e),Me=new bz(ce,Ue,$e),Le=new pce(ce,Ue,$e),Fe=new Bae,_e=new nce,ve=new mce(ce,Ue,Le,_e,$e,Me,Fe),De=new Lae(g),Ye=new Oae(g),ze=new qie(ce,$e),ae=new Aae(ce,Ue,ze,$e),tt=new zae(ce,ze,Fe,ae),Qe=new jae(ce,tt,ze,Fe),re=new Hae(ce,$e,ve),O=new kae(_e),Ze=new tce(g,De,Ye,Ue,$e,ae,O),ht=new yce(g,_e),bt=new ice,W=new uce(Ue,$e),q=new Cae(g,De,Ye,Le,Qe,u,o),V=new hce(g,Qe,$e),Ie=new xce(ce,Fe,$e,Le),ge=new Pae(ce,Ue,Fe,$e),Te=new Fae(ce,Ue,Fe,$e),Fe.programs=Ze.programs,g.capabilities=$e,g.extensions=Ue,g.properties=_e,g.renderLists=bt,g.shadowMap=V,g.state=Le,g.info=Fe}G();const fe=new vce(g,ce);this.xr=fe,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const U=Ue.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=Ue.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(U){U!==void 0&&($=U,this.setSize(k,D,!1))},this.getSize=function(U){return U.set(k,D)},this.setSize=function(U,de,we){if(fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=U,D=de,e.width=Math.floor(U*$),e.height=Math.floor(de*$),we!==!1&&(e.style.width=U+"px",e.style.height=de+"px"),this.setViewport(0,0,U,de)},this.getDrawingBufferSize=function(U){return U.set(k*$,D*$).floor()},this.setDrawingBufferSize=function(U,de,we){k=U,D=de,$=we,e.width=Math.floor(U*we),e.height=Math.floor(de*we),this.setViewport(0,0,U,de)},this.getCurrentViewport=function(U){return U.copy(P)},this.getViewport=function(U){return U.copy(I)},this.setViewport=function(U,de,we,ue){U.isVector4?I.set(U.x,U.y,U.z,U.w):I.set(U,de,we,ue),Le.viewport(P.copy(I).multiplyScalar($).floor())},this.getScissor=function(U){return U.copy(H)},this.setScissor=function(U,de,we,ue){U.isVector4?H.set(U.x,U.y,U.z,U.w):H.set(U,de,we,ue),Le.scissor(R.copy(H).multiplyScalar($).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(U){Le.setScissorTest(K=U)},this.setOpaqueSort=function(U){le=U},this.setTransparentSort=function(U){Y=U},this.getClearColor=function(U){return U.copy(q.getClearColor())},this.setClearColor=function(){q.setClearColor.apply(q,arguments)},this.getClearAlpha=function(){return q.getClearAlpha()},this.setClearAlpha=function(){q.setClearAlpha.apply(q,arguments)},this.clear=function(U=!0,de=!0,we=!0){let ue=0;U&&(ue|=16384),de&&(ue|=256),we&&(ue|=1024),ce.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",be,!1),e.removeEventListener("webglcontextrestored",Pe,!1),e.removeEventListener("webglcontextcreationerror",Xe,!1),bt.dispose(),W.dispose(),_e.dispose(),De.dispose(),Ye.dispose(),Qe.dispose(),ae.dispose(),Ie.dispose(),Ze.dispose(),fe.dispose(),fe.removeEventListener("sessionstart",Ve),fe.removeEventListener("sessionend",je),J&&(J.dispose(),J=null),lt.stop()};function be(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const U=Fe.autoReset,de=V.enabled,we=V.autoUpdate,ue=V.needsUpdate,Ee=V.type;G(),Fe.autoReset=U,V.enabled=de,V.autoUpdate=we,V.needsUpdate=ue,V.type=Ee}function Xe(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function st(U){const de=U.target;de.removeEventListener("dispose",st),Ut(de)}function Ut(U){Q(U),_e.remove(U)}function Q(U){const de=_e.get(U).programs;de!==void 0&&(de.forEach(function(we){Ze.releaseProgram(we)}),U.isShaderMaterial&&Ze.releaseShaderCache(U))}this.renderBufferDirect=function(U,de,we,ue,Ee,ot){de===null&&(de=Re);const dt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,ft=Ta(U,de,we,ue,Ee);Le.setMaterial(ue,dt);let St=we.index,Rt=1;ue.wireframe===!0&&(St=tt.getWireframeAttribute(we),Rt=2);const At=we.drawRange,Pt=we.attributes.position;let Cn=At.start*Rt,Sr=(At.start+At.count)*Rt;ot!==null&&(Cn=Math.max(Cn,ot.start*Rt),Sr=Math.min(Sr,(ot.start+ot.count)*Rt)),St!==null?(Cn=Math.max(Cn,0),Sr=Math.min(Sr,St.count)):Pt!=null&&(Cn=Math.max(Cn,0),Sr=Math.min(Sr,Pt.count));const Yr=Sr-Cn;if(Yr<0||Yr===1/0)return;ae.setup(Ee,ue,ft,we,St);let ws,an=ge;if(St!==null&&(ws=ze.get(St),an=Te,an.setIndex(ws)),Ee.isMesh)ue.wireframe===!0?(Le.setLineWidth(ue.wireframeLinewidth*ke()),an.setMode(1)):an.setMode(4);else if(Ee.isLine){let gt=ue.linewidth;gt===void 0&&(gt=1),Le.setLineWidth(gt*ke()),Ee.isLineSegments?an.setMode(1):Ee.isLineLoop?an.setMode(2):an.setMode(3)}else Ee.isPoints?an.setMode(0):Ee.isSprite&&an.setMode(4);if(Ee.isInstancedMesh)an.renderInstances(Cn,Yr,Ee.count);else if(we.isInstancedBufferGeometry){const gt=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,Lo=Math.min(we.instanceCount,gt);an.renderInstances(Cn,Yr,Lo)}else an.render(Cn,Yr)},this.compile=function(U,de){function we(ue,Ee,ot){ue.transparent===!0&&ue.side===js&&ue.forceSinglePass===!1?(ue.side=wi,ue.needsUpdate=!0,zt(ue,Ee,ot),ue.side=Eo,ue.needsUpdate=!0,zt(ue,Ee,ot),ue.side=js):zt(ue,Ee,ot)}p=W.get(U),p.init(),v.push(p),U.traverseVisible(function(ue){ue.isLight&&ue.layers.test(de.layers)&&(p.pushLight(ue),ue.castShadow&&p.pushShadow(ue))}),p.setupLights(g.physicallyCorrectLights),U.traverse(function(ue){const Ee=ue.material;if(Ee)if(Array.isArray(Ee))for(let ot=0;ot<Ee.length;ot++){const dt=Ee[ot];we(dt,U,ue)}else we(Ee,U,ue)}),v.pop(),p=null};let ye=null;function Ae(U){ye&&ye(U)}function Ve(){lt.stop()}function je(){lt.start()}const lt=new gz;lt.setAnimationLoop(Ae),typeof self<"u"&&lt.setContext(self),this.setAnimationLoop=function(U){ye=U,fe.setAnimationLoop(U),U===null?lt.stop():lt.start()},fe.addEventListener("sessionstart",Ve),fe.addEventListener("sessionend",je),this.render=function(U,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),fe.enabled===!0&&fe.isPresenting===!0&&(fe.cameraAutoUpdate===!0&&fe.updateCamera(de),de=fe.getCamera()),U.isScene===!0&&U.onBeforeRender(g,U,de,S),p=W.get(U,v.length),p.init(),v.push(p),he.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),oe.setFromProjectionMatrix(he),X=this.localClippingEnabled,N=O.init(this.clippingPlanes,X),h=bt.get(U,m.length),h.init(),m.push(h),Kt(U,de,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(le,Y),N===!0&&O.beginShadows();const we=p.state.shadowsArray;if(V.render(we,U,de),N===!0&&O.endShadows(),this.info.autoReset===!0&&this.info.reset(),q.render(h,U),p.setupLights(g.physicallyCorrectLights),de.isArrayCamera){const ue=de.cameras;for(let Ee=0,ot=ue.length;Ee<ot;Ee++){const dt=ue[Ee];Sn(h,U,dt,dt.viewport)}}else Sn(h,U,de);S!==null&&(ve.updateMultisampleRenderTarget(S),ve.updateRenderTargetMipmap(S)),U.isScene===!0&&U.onAfterRender(g,U,de),ae.resetDefaultState(),M=-1,E=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Kt(U,de,we,ue){if(U.visible===!1)return;if(U.layers.test(de.layers)){if(U.isGroup)we=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(de);else if(U.isLight)p.pushLight(U),U.castShadow&&p.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||oe.intersectsSprite(U)){ue&&se.setFromMatrixPosition(U.matrixWorld).applyMatrix4(he);const dt=Qe.update(U),ft=U.material;ft.visible&&h.push(U,dt,ft,we,se.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(U.isSkinnedMesh&&U.skeleton.frame!==Fe.render.frame&&(U.skeleton.update(),U.skeleton.frame=Fe.render.frame),!U.frustumCulled||oe.intersectsObject(U))){ue&&se.setFromMatrixPosition(U.matrixWorld).applyMatrix4(he);const dt=Qe.update(U),ft=U.material;if(Array.isArray(ft)){const St=dt.groups;for(let Rt=0,At=St.length;Rt<At;Rt++){const Pt=St[Rt],Cn=ft[Pt.materialIndex];Cn&&Cn.visible&&h.push(U,dt,Cn,we,se.z,Pt)}}else ft.visible&&h.push(U,dt,ft,we,se.z,null)}}const ot=U.children;for(let dt=0,ft=ot.length;dt<ft;dt++)Kt(ot[dt],de,we,ue)}function Sn(U,de,we,ue){const Ee=U.opaque,ot=U.transmissive,dt=U.transparent;p.setupLightsView(we),N===!0&&O.setGlobalState(g.clippingPlanes,we),ot.length>0&&Lr(Ee,de,we),ue&&Le.viewport(P.copy(ue)),Ee.length>0&&Zt(Ee,de,we),ot.length>0&&Zt(ot,de,we),dt.length>0&&Zt(dt,de,we),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function Lr(U,de,we){const ue=$e.isWebGL2;J===null&&(J=new Ys(1,1,{generateMipmaps:!0,type:Ue.has("EXT_color_buffer_half_float")?nf:Cl,minFilter:Co,samples:ue&&s===!0?4:0})),g.getDrawingBufferSize(Z),ue?J.setSize(Z.x,Z.y):J.setSize(Ly(Z.x),Ly(Z.y));const Ee=g.getRenderTarget();g.setRenderTarget(J),g.clear();const ot=g.toneMapping;g.toneMapping=$s,Zt(U,de,we),g.toneMapping=ot,ve.updateMultisampleRenderTarget(J),ve.updateRenderTargetMipmap(J),g.setRenderTarget(Ee)}function Zt(U,de,we){const ue=de.isScene===!0?de.overrideMaterial:null;for(let Ee=0,ot=U.length;Ee<ot;Ee++){const dt=U[Ee],ft=dt.object,St=dt.geometry,Rt=ue===null?dt.material:ue,At=dt.group;ft.layers.test(we.layers)&&Ir(ft,de,we,St,Rt,At)}}function Ir(U,de,we,ue,Ee,ot){U.onBeforeRender(g,de,we,ue,Ee,ot),U.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),Ee.onBeforeRender(g,de,we,ue,U,ot),Ee.transparent===!0&&Ee.side===js&&Ee.forceSinglePass===!1?(Ee.side=wi,Ee.needsUpdate=!0,g.renderBufferDirect(we,de,ue,Ee,U,ot),Ee.side=Eo,Ee.needsUpdate=!0,g.renderBufferDirect(we,de,ue,Ee,U,ot),Ee.side=js):g.renderBufferDirect(we,de,ue,Ee,U,ot),U.onAfterRender(g,de,we,ue,Ee,ot)}function zt(U,de,we){de.isScene!==!0&&(de=Re);const ue=_e.get(U),Ee=p.state.lights,ot=p.state.shadowsArray,dt=Ee.state.version,ft=Ze.getParameters(U,Ee.state,ot,de,we),St=Ze.getProgramCacheKey(ft);let Rt=ue.programs;ue.environment=U.isMeshStandardMaterial?de.environment:null,ue.fog=de.fog,ue.envMap=(U.isMeshStandardMaterial?Ye:De).get(U.envMap||ue.environment),Rt===void 0&&(U.addEventListener("dispose",st),Rt=new Map,ue.programs=Rt);let At=Rt.get(St);if(At!==void 0){if(ue.currentProgram===At&&ue.lightsStateVersion===dt)return eo(U,ft),At}else ft.uniforms=Ze.getUniforms(U),U.onBuild(we,ft,g),U.onBeforeCompile(ft,g),At=Ze.acquireProgram(ft,St),Rt.set(St,At),ue.uniforms=ft.uniforms;const Pt=ue.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Pt.clippingPlanes=O.uniform),eo(U,ft),ue.needsLights=Ul(U),ue.lightsStateVersion=dt,ue.needsLights&&(Pt.ambientLightColor.value=Ee.state.ambient,Pt.lightProbe.value=Ee.state.probe,Pt.directionalLights.value=Ee.state.directional,Pt.directionalLightShadows.value=Ee.state.directionalShadow,Pt.spotLights.value=Ee.state.spot,Pt.spotLightShadows.value=Ee.state.spotShadow,Pt.rectAreaLights.value=Ee.state.rectArea,Pt.ltc_1.value=Ee.state.rectAreaLTC1,Pt.ltc_2.value=Ee.state.rectAreaLTC2,Pt.pointLights.value=Ee.state.point,Pt.pointLightShadows.value=Ee.state.pointShadow,Pt.hemisphereLights.value=Ee.state.hemi,Pt.directionalShadowMap.value=Ee.state.directionalShadowMap,Pt.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,Pt.spotShadowMap.value=Ee.state.spotShadowMap,Pt.spotLightMatrix.value=Ee.state.spotLightMatrix,Pt.spotLightMap.value=Ee.state.spotLightMap,Pt.pointShadowMap.value=Ee.state.pointShadowMap,Pt.pointShadowMatrix.value=Ee.state.pointShadowMatrix);const Cn=At.getUniforms(),Sr=Nv.seqWithValue(Cn.seq,Pt);return ue.currentProgram=At,ue.uniformsList=Sr,At}function eo(U,de){const we=_e.get(U);we.outputEncoding=de.outputEncoding,we.instancing=de.instancing,we.skinning=de.skinning,we.morphTargets=de.morphTargets,we.morphNormals=de.morphNormals,we.morphColors=de.morphColors,we.morphTargetsCount=de.morphTargetsCount,we.numClippingPlanes=de.numClippingPlanes,we.numIntersection=de.numClipIntersection,we.vertexAlphas=de.vertexAlphas,we.vertexTangents=de.vertexTangents,we.toneMapping=de.toneMapping}function Ta(U,de,we,ue,Ee){de.isScene!==!0&&(de=Re),ve.resetTextureUnits();const ot=de.fog,dt=ue.isMeshStandardMaterial?de.environment:null,ft=S===null?g.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:xa,St=(ue.isMeshStandardMaterial?Ye:De).get(ue.envMap||dt),Rt=ue.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,At=!!ue.normalMap&&!!we.attributes.tangent,Pt=!!we.morphAttributes.position,Cn=!!we.morphAttributes.normal,Sr=!!we.morphAttributes.color,Yr=ue.toneMapped?g.toneMapping:$s,ws=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,an=ws!==void 0?ws.length:0,gt=_e.get(ue),Lo=p.state.lights;if(N===!0&&(X===!0||U!==E)){const Gt=U===E&&ue.id===M;O.setState(ue,U,Gt)}let pn=!1;ue.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==Lo.state.version||gt.outputEncoding!==ft||Ee.isInstancedMesh&&gt.instancing===!1||!Ee.isInstancedMesh&&gt.instancing===!0||Ee.isSkinnedMesh&&gt.skinning===!1||!Ee.isSkinnedMesh&&gt.skinning===!0||gt.envMap!==St||ue.fog===!0&&gt.fog!==ot||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==O.numPlanes||gt.numIntersection!==O.numIntersection)||gt.vertexAlphas!==Rt||gt.vertexTangents!==At||gt.morphTargets!==Pt||gt.morphNormals!==Cn||gt.morphColors!==Sr||gt.toneMapping!==Yr||$e.isWebGL2===!0&&gt.morphTargetsCount!==an)&&(pn=!0):(pn=!0,gt.__version=ue.version);let Qi=gt.currentProgram;pn===!0&&(Qi=zt(ue,de,Ee));let Ca=!1,li=!1,ci=!1;const vt=Qi.getUniforms(),Lt=gt.uniforms;if(Le.useProgram(Qi.program)&&(Ca=!0,li=!0,ci=!0),ue.id!==M&&(M=ue.id,li=!0),Ca||E!==U){if(vt.setValue(ce,"projectionMatrix",U.projectionMatrix),$e.logarithmicDepthBuffer&&vt.setValue(ce,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),E!==U&&(E=U,li=!0,ci=!0),ue.isShaderMaterial||ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshStandardMaterial||ue.envMap){const Gt=vt.map.cameraPosition;Gt!==void 0&&Gt.setValue(ce,se.setFromMatrixPosition(U.matrixWorld))}(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&vt.setValue(ce,"isOrthographic",U.isOrthographicCamera===!0),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial||ue.isShadowMaterial||Ee.isSkinnedMesh)&&vt.setValue(ce,"viewMatrix",U.matrixWorldInverse)}if(Ee.isSkinnedMesh){vt.setOptional(ce,Ee,"bindMatrix"),vt.setOptional(ce,Ee,"bindMatrixInverse");const Gt=Ee.skeleton;Gt&&($e.floatVertexTextures?(Gt.boneTexture===null&&Gt.computeBoneTexture(),vt.setValue(ce,"boneTexture",Gt.boneTexture,ve),vt.setValue(ce,"boneTextureSize",Gt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ui=we.morphAttributes;if((ui.position!==void 0||ui.normal!==void 0||ui.color!==void 0&&$e.isWebGL2===!0)&&re.update(Ee,we,ue,Qi),(li||gt.receiveShadow!==Ee.receiveShadow)&&(gt.receiveShadow=Ee.receiveShadow,vt.setValue(ce,"receiveShadow",Ee.receiveShadow)),ue.isMeshGouraudMaterial&&ue.envMap!==null&&(Lt.envMap.value=St,Lt.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),li&&(vt.setValue(ce,"toneMappingExposure",g.toneMappingExposure),gt.needsLights&&Ea(Lt,ci),ot&&ue.fog===!0&&ht.refreshFogUniforms(Lt,ot),ht.refreshMaterialUniforms(Lt,ue,$,D,J),Nv.upload(ce,gt.uniformsList,Lt,ve)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(Nv.upload(ce,gt.uniformsList,Lt,ve),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&vt.setValue(ce,"center",Ee.center),vt.setValue(ce,"modelViewMatrix",Ee.modelViewMatrix),vt.setValue(ce,"normalMatrix",Ee.normalMatrix),vt.setValue(ce,"modelMatrix",Ee.matrixWorld),ue.isShaderMaterial||ue.isRawShaderMaterial){const Gt=ue.uniformsGroups;for(let qn=0,Ms=Gt.length;qn<Ms;qn++)if($e.isWebGL2){const Ts=Gt[qn];Ie.update(Ts,Qi),Ie.bind(Ts,Qi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Qi}function Ea(U,de){U.ambientLightColor.needsUpdate=de,U.lightProbe.needsUpdate=de,U.directionalLights.needsUpdate=de,U.directionalLightShadows.needsUpdate=de,U.pointLights.needsUpdate=de,U.pointLightShadows.needsUpdate=de,U.spotLights.needsUpdate=de,U.spotLightShadows.needsUpdate=de,U.rectAreaLights.needsUpdate=de,U.hemisphereLights.needsUpdate=de}function Ul(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(U,de,we){_e.get(U.texture).__webglTexture=de,_e.get(U.depthTexture).__webglTexture=we;const ue=_e.get(U);ue.__hasExternalTextures=!0,ue.__hasExternalTextures&&(ue.__autoAllocateDepthBuffer=we===void 0,ue.__autoAllocateDepthBuffer||Ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ue.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,de){const we=_e.get(U);we.__webglFramebuffer=de,we.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(U,de=0,we=0){S=U,_=de,b=we;let ue=!0,Ee=null,ot=!1,dt=!1;if(U){const St=_e.get(U);St.__useDefaultFramebuffer!==void 0?(Le.bindFramebuffer(36160,null),ue=!1):St.__webglFramebuffer===void 0?ve.setupRenderTarget(U):St.__hasExternalTextures&&ve.rebindTextures(U,_e.get(U.texture).__webglTexture,_e.get(U.depthTexture).__webglTexture);const Rt=U.texture;(Rt.isData3DTexture||Rt.isDataArrayTexture||Rt.isCompressedArrayTexture)&&(dt=!0);const At=_e.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Ee=At[de],ot=!0):$e.isWebGL2&&U.samples>0&&ve.useMultisampledRTT(U)===!1?Ee=_e.get(U).__webglMultisampledFramebuffer:Ee=At,P.copy(U.viewport),R.copy(U.scissor),C=U.scissorTest}else P.copy(I).multiplyScalar($).floor(),R.copy(H).multiplyScalar($).floor(),C=K;if(Le.bindFramebuffer(36160,Ee)&&$e.drawBuffers&&ue&&Le.drawBuffers(U,Ee),Le.viewport(P),Le.scissor(R),Le.setScissorTest(C),ot){const St=_e.get(U.texture);ce.framebufferTexture2D(36160,36064,34069+de,St.__webglTexture,we)}else if(dt){const St=_e.get(U.texture),Rt=de||0;ce.framebufferTextureLayer(36160,36064,St.__webglTexture,we||0,Rt)}M=-1},this.readRenderTargetPixels=function(U,de,we,ue,Ee,ot,dt){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=_e.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&dt!==void 0&&(ft=ft[dt]),ft){Le.bindFramebuffer(36160,ft);try{const St=U.texture,Rt=St.format,At=St.type;if(Rt!==Ui&&Me.convert(Rt)!==ce.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Pt=At===nf&&(Ue.has("EXT_color_buffer_half_float")||$e.isWebGL2&&Ue.has("EXT_color_buffer_float"));if(At!==Cl&&Me.convert(At)!==ce.getParameter(35738)&&!(At===sa&&($e.isWebGL2||Ue.has("OES_texture_float")||Ue.has("WEBGL_color_buffer_float")))&&!Pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=U.width-ue&&we>=0&&we<=U.height-Ee&&ce.readPixels(de,we,ue,Ee,Me.convert(Rt),Me.convert(At),ot)}finally{const St=S!==null?_e.get(S).__webglFramebuffer:null;Le.bindFramebuffer(36160,St)}}},this.copyFramebufferToTexture=function(U,de,we=0){const ue=Math.pow(2,-we),Ee=Math.floor(de.image.width*ue),ot=Math.floor(de.image.height*ue);ve.setTexture2D(de,0),ce.copyTexSubImage2D(3553,we,0,0,U.x,U.y,Ee,ot),Le.unbindTexture()},this.copyTextureToTexture=function(U,de,we,ue=0){const Ee=de.image.width,ot=de.image.height,dt=Me.convert(we.format),ft=Me.convert(we.type);ve.setTexture2D(we,0),ce.pixelStorei(37440,we.flipY),ce.pixelStorei(37441,we.premultiplyAlpha),ce.pixelStorei(3317,we.unpackAlignment),de.isDataTexture?ce.texSubImage2D(3553,ue,U.x,U.y,Ee,ot,dt,ft,de.image.data):de.isCompressedTexture?ce.compressedTexSubImage2D(3553,ue,U.x,U.y,de.mipmaps[0].width,de.mipmaps[0].height,dt,de.mipmaps[0].data):ce.texSubImage2D(3553,ue,U.x,U.y,dt,ft,de.image),ue===0&&we.generateMipmaps&&ce.generateMipmap(3553),Le.unbindTexture()},this.copyTextureToTexture3D=function(U,de,we,ue,Ee=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ot=U.max.x-U.min.x+1,dt=U.max.y-U.min.y+1,ft=U.max.z-U.min.z+1,St=Me.convert(ue.format),Rt=Me.convert(ue.type);let At;if(ue.isData3DTexture)ve.setTexture3D(ue,0),At=32879;else if(ue.isDataArrayTexture)ve.setTexture2DArray(ue,0),At=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ce.pixelStorei(37440,ue.flipY),ce.pixelStorei(37441,ue.premultiplyAlpha),ce.pixelStorei(3317,ue.unpackAlignment);const Pt=ce.getParameter(3314),Cn=ce.getParameter(32878),Sr=ce.getParameter(3316),Yr=ce.getParameter(3315),ws=ce.getParameter(32877),an=we.isCompressedTexture?we.mipmaps[0]:we.image;ce.pixelStorei(3314,an.width),ce.pixelStorei(32878,an.height),ce.pixelStorei(3316,U.min.x),ce.pixelStorei(3315,U.min.y),ce.pixelStorei(32877,U.min.z),we.isDataTexture||we.isData3DTexture?ce.texSubImage3D(At,Ee,de.x,de.y,de.z,ot,dt,ft,St,Rt,an.data):we.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ce.compressedTexSubImage3D(At,Ee,de.x,de.y,de.z,ot,dt,ft,St,an.data)):ce.texSubImage3D(At,Ee,de.x,de.y,de.z,ot,dt,ft,St,Rt,an),ce.pixelStorei(3314,Pt),ce.pixelStorei(32878,Cn),ce.pixelStorei(3316,Sr),ce.pixelStorei(3315,Yr),ce.pixelStorei(32877,ws),Ee===0&&ue.generateMipmaps&&ce.generateMipmap(At),Le.unbindTexture()},this.initTexture=function(U){U.isCubeTexture?ve.setTextureCube(U,0):U.isData3DTexture?ve.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?ve.setTexture2DArray(U,0):ve.setTexture2D(U,0),Le.unbindTexture()},this.resetState=function(){_=0,b=0,S=null,Le.reset(),ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Mz extends qT{}Mz.prototype.isWebGL1Renderer=!0;class $x{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ge(e),this.density=t}clone(){return new $x(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Xx{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ge(e),this.near=t,this.far=r}clone(){return new Xx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class YT extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class km{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=nm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$i()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$i()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$i()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Jr=new z;class Al{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.applyMatrix4(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.applyNormalMatrix(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.transformDirection(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=oa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=oa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=oa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=oa(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array),s=gn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new rn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Al(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class KT extends tr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ku;const xh=new z,Zu=new z,Ju=new z,Qu=new Ce,_h=new Ce,Tz=new pt,I0=new z,bh=new z,D0=new z,Rk=new Ce,Hb=new Ce,kk=new Ce;class Ez extends Bt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ku===void 0){Ku=new wt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new km(t,5);Ku.setIndex([0,1,2,0,2,3]),Ku.setAttribute("position",new Al(r,3,0,!1)),Ku.setAttribute("uv",new Al(r,2,3,!1))}this.geometry=Ku,this.material=e!==void 0?e:new KT,this.center=new Ce(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zu.setFromMatrixScale(this.matrixWorld),Tz.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ju.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zu.multiplyScalar(-Ju.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;O0(I0.set(-.5,-.5,0),Ju,o,Zu,i,s),O0(bh.set(.5,-.5,0),Ju,o,Zu,i,s),O0(D0.set(.5,.5,0),Ju,o,Zu,i,s),Rk.set(0,0),Hb.set(1,0),kk.set(1,1);let a=e.ray.intersectTriangle(I0,bh,D0,!1,xh);if(a===null&&(O0(bh.set(-.5,.5,0),Ju,o,Zu,i,s),Hb.set(0,1),a=e.ray.intersectTriangle(I0,D0,bh,!1,xh),a===null))return;const l=e.ray.origin.distanceTo(xh);l<e.near||l>e.far||t.push({distance:l,point:xh.clone(),uv:gs.getUV(xh,I0,bh,D0,Rk,Hb,kk,new Ce),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function O0(n,e,t,r,i,s){Qu.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(_h.x=s*Qu.x-i*Qu.y,_h.y=i*Qu.x+s*Qu.y):_h.copy(Qu),n.copy(e),n.x+=_h.x,n.y+=_h.y,n.applyMatrix4(Tz)}const N0=new z,Lk=new z;class Cz extends Bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){N0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(N0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){N0.setFromMatrixPosition(e.matrixWorld),Lk.setFromMatrixPosition(this.matrixWorld);const r=N0.distanceTo(Lk)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const Ik=new z,Dk=new dn,Ok=new dn,bce=new z,Nk=new pt;class ZT extends vr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new pt,this.bindMatrixInverse=new pt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;Dk.fromBufferAttribute(i.attributes.skinIndex,e),Ok.fromBufferAttribute(i.attributes.skinWeight,e),Ik.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Ok.getComponent(s);if(o!==0){const a=Dk.getComponent(s);Nk.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(bce.copy(Ik).applyMatrix4(Nk),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class qx extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bd extends Rn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Vn,u=Vn,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const zk=new pt,Sce=new pt;class Lm{constructor(e=[],t=[]){this.uuid=$i(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new pt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Sce;zk.multiplyMatrices(a,t[s]),zk.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Lm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=lz(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Bd(t,e,e,Ui,sa);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new qx),this.bones.push(o),this.boneInverses.push(new pt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class af extends rn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Fk=new pt,Bk=new pt,z0=[],wce=new pt,Sh=new vr;class JT extends vr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new af(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,wce)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Sh.geometry=this.geometry,Sh.material=this.material,Sh.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,Fk),Bk.multiplyMatrices(r,Fk),Sh.matrixWorld=Bk,Sh.raycast(e,z0);for(let o=0,a=z0.length;o<a;o++){const l=z0[o];l.instanceId=s,l.object=this,t.push(l)}z0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new af(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class qr extends tr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ge(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Uk=new z,Vk=new z,Hk=new pt,jb=new Cm,F0=new zl;class _a extends Bt{constructor(e=new wt,t=new qr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)Uk.fromBufferAttribute(t,i-1),Vk.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Uk.distanceTo(Vk);e.setAttribute("lineDistance",new nt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),F0.copy(r.boundingSphere),F0.applyMatrix4(i),F0.radius+=s,e.ray.intersectsSphere(F0)===!1)return;Hk.copy(i).invert(),jb.copy(e.ray).applyMatrix4(Hk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new z,u=new z,h=new z,p=new z,m=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const _=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let S=_,M=b-1;S<M;S+=m){const E=v.getX(S),P=v.getX(S+1);if(c.fromBufferAttribute(x,E),u.fromBufferAttribute(x,P),jb.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),b=Math.min(x.count,o.start+o.count);for(let S=_,M=b-1;S<M;S+=m){if(c.fromBufferAttribute(x,S),u.fromBufferAttribute(x,S+1),jb.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const jk=new z,Wk=new z;class Zs extends _a{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)jk.fromBufferAttribute(t,i),Wk.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+jk.distanceTo(Wk);e.setAttribute("lineDistance",new nt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class QT extends _a{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Yx extends tr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Gk=new pt,_M=new Cm,B0=new zl,U0=new z;class eE extends Bt{constructor(e=new wt,t=new Yx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),B0.copy(r.boundingSphere),B0.applyMatrix4(i),B0.radius+=s,e.ray.intersectsSphere(B0)===!1)return;Gk.copy(i).invert(),_M.copy(e.ray).applyMatrix4(Gk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,g=m;v<g;v++){const x=c.getX(v);U0.fromBufferAttribute(h,x),$k(U0,x,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,g=m;v<g;v++)U0.fromBufferAttribute(h,v),$k(U0,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function $k(n,e,t,r,i,s,o){const a=_M.distanceSqToPoint(n);if(a<t){const l=new z;_M.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Mce extends Rn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Dn,this.magFilter=s!==void 0?s:Dn,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Tce extends Rn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Vn,this.minFilter=Vn,this.generateMipmaps=!1,this.needsUpdate=!0}}class tE extends Rn{constructor(e,t,r,i,s,o,a,l,c,u,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Ece extends tE{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Pr}}class Cce extends Rn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Js{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Ce:new z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new z,i=[],s=[],o=[],a=new z,l=new pt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new z)}s[0]=new z,o[0]=new z;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Xn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Xn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Kx extends Js{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Ce,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*h+this.aX,c=p*h+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Az extends Kx{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function nE(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const V0=new z,Wb=new nE,Gb=new nE,$b=new nE;class Pz extends Js{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new z){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(V0.subVectors(i[0],i[1]).add(i[0]),c=V0);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(V0.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=V0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(u),m);g<1e-4&&(g=1),v<1e-4&&(v=g),x<1e-4&&(x=g),Wb.initNonuniformCatmullRom(c.x,h.x,p.x,u.x,v,g,x),Gb.initNonuniformCatmullRom(c.y,h.y,p.y,u.y,v,g,x),$b.initNonuniformCatmullRom(c.z,h.z,p.z,u.z,v,g,x)}else this.curveType==="catmullrom"&&(Wb.initCatmullRom(c.x,h.x,p.x,u.x,this.tension),Gb.initCatmullRom(c.y,h.y,p.y,u.y,this.tension),$b.initCatmullRom(c.z,h.z,p.z,u.z,this.tension));return r.set(Wb.calc(l),Gb.calc(l),$b.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Xk(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Ace(n,e){const t=1-n;return t*t*e}function Pce(n,e){return 2*(1-n)*n*e}function Rce(n,e){return n*n*e}function hp(n,e,t,r){return Ace(n,e)+Pce(n,t)+Rce(n,r)}function kce(n,e){const t=1-n;return t*t*t*e}function Lce(n,e){const t=1-n;return 3*t*t*n*e}function Ice(n,e){return 3*(1-n)*n*n*e}function Dce(n,e){return n*n*n*e}function pp(n,e,t,r,i){return kce(n,e)+Lce(n,t)+Ice(n,r)+Dce(n,i)}class rE extends Js{constructor(e=new Ce,t=new Ce,r=new Ce,i=new Ce){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ce){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(pp(e,i.x,s.x,o.x,a.x),pp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Rz extends Js{constructor(e=new z,t=new z,r=new z,i=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new z){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(pp(e,i.x,s.x,o.x,a.x),pp(e,i.y,s.y,o.y,a.y),pp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Zx extends Js{constructor(e=new Ce,t=new Ce){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ce){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Ce;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kz extends Js{constructor(e=new z,t=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new z){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iE extends Js{constructor(e=new Ce,t=new Ce,r=new Ce){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ce){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(hp(e,i.x,s.x,o.x),hp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sE extends Js{constructor(e=new z,t=new z,r=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new z){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(hp(e,i.x,s.x,o.x),hp(e,i.y,s.y,o.y),hp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oE extends Js{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ce){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(Xk(a,l.x,c.x,u.x,h.x),Xk(a,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ce().fromArray(i))}return this}}var aE=Object.freeze({__proto__:null,ArcCurve:Az,CatmullRomCurve3:Pz,CubicBezierCurve:rE,CubicBezierCurve3:Rz,EllipseCurve:Kx,LineCurve:Zx,LineCurve3:kz,QuadraticBezierCurve:iE,QuadraticBezierCurve3:sE,SplineCurve:oE});class Lz extends Js{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Zx(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new aE[i.type]().fromJSON(i))}return this}}class sm extends Lz{constructor(e){super(),this.type="Path",this.currentPoint=new Ce,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Zx(this.currentPoint.clone(),new Ce(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new iE(this.currentPoint.clone(),new Ce(e,t),new Ce(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new rE(this.currentPoint.clone(),new Ce(e,t),new Ce(r,i),new Ce(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new oE(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new Kx(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wf extends wt{constructor(e=[new Ce(0,-.5),new Ce(.5,0),new Ce(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Xn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,h=new z,p=new Ce,m=new z,v=new z,g=new z;let x=0,_=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,_=e[b+1].y-e[b].y,m.x=_*1,m.y=-x,m.z=_*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:x=e[b+1].x-e[b].x,_=e[b+1].y-e[b].y,m.x=_*1,m.y=-x,m.z=_*0,v.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(v)}for(let b=0;b<=t;b++){const S=r+b*u*i,M=Math.sin(S),E=Math.cos(S);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*M,h.y=e[P].y,h.z=e[P].x*E,o.push(h.x,h.y,h.z),p.x=b/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*M,C=l[3*P+1],k=l[3*P+0]*E;c.push(R,C,k)}}for(let b=0;b<t;b++)for(let S=0;S<e.length-1;S++){const M=S+b*e.length,E=M,P=M+e.length,R=M+e.length+1,C=M+1;s.push(E,P,C),s.push(R,C,P)}this.setIndex(s),this.setAttribute("position",new nt(o,3)),this.setAttribute("uv",new nt(a,2)),this.setAttribute("normal",new nt(c,3))}static fromJSON(e){return new wf(e.points,e.segments,e.phiStart,e.phiLength)}}class Im extends wf{constructor(e=1,t=1,r=4,i=8){const s=new sm;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Im(e.radius,e.length,e.capSegments,e.radialSegments)}}class Dm extends wt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new z,u=new Ce;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new nt(o,3)),this.setAttribute("normal",new nt(a,3)),this.setAttribute("uv",new nt(l,2))}static fromJSON(e){return new Dm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class uu extends wt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],m=[];let v=0;const g=[],x=r/2;let _=0;b(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new nt(h,3)),this.setAttribute("normal",new nt(p,3)),this.setAttribute("uv",new nt(m,2));function b(){const M=new z,E=new z;let P=0;const R=(t-e)/r;for(let C=0;C<=s;C++){const k=[],D=C/s,$=D*(t-e)+e;for(let le=0;le<=i;le++){const Y=le/i,I=Y*l+a,H=Math.sin(I),K=Math.cos(I);E.x=$*H,E.y=-D*r+x,E.z=$*K,h.push(E.x,E.y,E.z),M.set(H,R,K).normalize(),p.push(M.x,M.y,M.z),m.push(Y,1-D),k.push(v++)}g.push(k)}for(let C=0;C<i;C++)for(let k=0;k<s;k++){const D=g[k][C],$=g[k+1][C],le=g[k+1][C+1],Y=g[k][C+1];u.push(D,$,Y),u.push($,le,Y),P+=6}c.addGroup(_,P,0),_+=P}function S(M){const E=v,P=new Ce,R=new z;let C=0;const k=M===!0?e:t,D=M===!0?1:-1;for(let le=1;le<=i;le++)h.push(0,x*D,0),p.push(0,D,0),m.push(.5,.5),v++;const $=v;for(let le=0;le<=i;le++){const I=le/i*l+a,H=Math.cos(I),K=Math.sin(I);R.x=k*K,R.y=x*D,R.z=k*H,h.push(R.x,R.y,R.z),p.push(0,D,0),P.x=H*.5+.5,P.y=K*.5*D+.5,m.push(P.x,P.y),v++}for(let le=0;le<i;le++){const Y=E+le,I=$+le;M===!0?u.push(I,I+1,Y):u.push(I+1,I,Y),C+=3}c.addGroup(_,C,M===!0?1:2),_+=C}}static fromJSON(e){return new uu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Om extends uu{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Om(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wa extends wt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new nt(s,3)),this.setAttribute("normal",new nt(s.slice(),3)),this.setAttribute("uv",new nt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const S=new z,M=new z,E=new z;for(let P=0;P<t.length;P+=3)m(t[P+0],S),m(t[P+1],M),m(t[P+2],E),l(S,M,E,b)}function l(b,S,M,E){const P=E+1,R=[];for(let C=0;C<=P;C++){R[C]=[];const k=b.clone().lerp(M,C/P),D=S.clone().lerp(M,C/P),$=P-C;for(let le=0;le<=$;le++)le===0&&C===P?R[C][le]=k:R[C][le]=k.clone().lerp(D,le/$)}for(let C=0;C<P;C++)for(let k=0;k<2*(P-C)-1;k++){const D=Math.floor(k/2);k%2===0?(p(R[C][D+1]),p(R[C+1][D]),p(R[C][D])):(p(R[C][D+1]),p(R[C+1][D+1]),p(R[C+1][D]))}}function c(b){const S=new z;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(b),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function u(){const b=new z;for(let S=0;S<s.length;S+=3){b.x=s[S+0],b.y=s[S+1],b.z=s[S+2];const M=x(b)/2/Math.PI+.5,E=_(b)/Math.PI+.5;o.push(M,1-E)}v(),h()}function h(){for(let b=0;b<o.length;b+=6){const S=o[b+0],M=o[b+2],E=o[b+4],P=Math.max(S,M,E),R=Math.min(S,M,E);P>.9&&R<.1&&(S<.2&&(o[b+0]+=1),M<.2&&(o[b+2]+=1),E<.2&&(o[b+4]+=1))}}function p(b){s.push(b.x,b.y,b.z)}function m(b,S){const M=b*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const b=new z,S=new z,M=new z,E=new z,P=new Ce,R=new Ce,C=new Ce;for(let k=0,D=0;k<s.length;k+=9,D+=6){b.set(s[k+0],s[k+1],s[k+2]),S.set(s[k+3],s[k+4],s[k+5]),M.set(s[k+6],s[k+7],s[k+8]),P.set(o[D+0],o[D+1]),R.set(o[D+2],o[D+3]),C.set(o[D+4],o[D+5]),E.copy(b).add(S).add(M).divideScalar(3);const $=x(E);g(P,D+0,b,$),g(R,D+2,S,$),g(C,D+4,M,$)}}function g(b,S,M,E){E<0&&b.x===1&&(o[S]=b.x-1),M.x===0&&M.z===0&&(o[S]=E/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function _(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}static fromJSON(e){return new wa(e.vertices,e.indices,e.radius,e.details)}}class Nm extends wa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Nm(e.radius,e.detail)}}const H0=new z,j0=new z,Xb=new z,W0=new gs;class Iz extends wt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Gc*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:g,b:x,c:_}=W0;if(g.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),W0.getNormal(Xb),h[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let b=0;b<3;b++){const S=(b+1)%3,M=h[b],E=h[S],P=W0[u[b]],R=W0[u[S]],C=`${M}_${E}`,k=`${E}_${M}`;k in p&&p[k]?(Xb.dot(p[k].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[k]=null):C in p||(p[C]={index0:c[b],index1:c[S],normal:Xb.clone()})}}for(const v in p)if(p[v]){const{index0:g,index1:x}=p[v];H0.fromBufferAttribute(a,g),j0.fromBufferAttribute(a,x),m.push(H0.x,H0.y,H0.z),m.push(j0.x,j0.y,j0.z)}this.setAttribute("position",new nt(m,3))}}}class qc extends sm{constructor(e){super(e),this.uuid=$i(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new sm().fromJSON(i))}return this}}const Oce={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Dz(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,p,m;if(r&&(s=Uce(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let v=t;v<i;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return om(s,o,t,a,l,m,0),o}};function Dz(n,e,t,r,i){let s,o;if(i===Zce(n,e,t,r)>0)for(s=e;s<t;s+=r)o=qk(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=qk(s,n[s],n[s+1],o);return o&&Jx(o,o.next)&&(lm(o),o=o.next),o}function ru(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Jx(t,t.next)||On(t.prev,t,t.next)===0)){if(lm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function om(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Gce(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?zce(n,r,i,s):Nce(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),lm(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Fce(ru(n),e,t),om(n,e,t,r,i,s,2)):o===2&&Bce(n,e,t,r,i,s):om(ru(n),e,t,r,i,s,1);break}}}function Nce(n){const e=n.prev,t=n,r=n.next;if(On(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=p&&v.y>=h&&v.y<=m&&Sd(i,a,s,l,o,c,v.x,v.y)&&On(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function zce(n,e,t,r){const i=n.prev,s=n,o=n.next;if(On(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<h?u<p?u:p:h<p?h:p,g=a>l?a>c?a:c:l>c?l:c,x=u>h?u>p?u:p:h>p?h:p,_=bM(m,v,e,t,r),b=bM(g,x,e,t,r);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=_&&M&&M.z<=b;){if(S.x>=m&&S.x<=g&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&Sd(a,u,l,h,c,p,S.x,S.y)&&On(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=g&&M.y>=v&&M.y<=x&&M!==i&&M!==o&&Sd(a,u,l,h,c,p,M.x,M.y)&&On(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=_;){if(S.x>=m&&S.x<=g&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&Sd(a,u,l,h,c,p,S.x,S.y)&&On(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=b;){if(M.x>=m&&M.x<=g&&M.y>=v&&M.y<=x&&M!==i&&M!==o&&Sd(a,u,l,h,c,p,M.x,M.y)&&On(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Fce(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Jx(i,s)&&Oz(i,r,r.next,s)&&am(i,s)&&am(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),lm(r),lm(r.next),r=n=s),r=r.next}while(r!==n);return ru(r)}function Bce(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&qce(o,a)){let l=Nz(o,a);o=ru(o,o.next),l=ru(l,l.next),om(o,e,t,r,i,s,0),om(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function Uce(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=Dz(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Xce(c));for(i.sort(Vce),s=0;s<i.length;s++)t=Hce(i[s],t);return t}function Vce(n,e){return n.x-e.x}function Hce(n,e){const t=jce(n,e);if(!t)return e;const r=Nz(t,n);return ru(r,r.next),ru(t,t.next)}function jce(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,h;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Sd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),am(t,n)&&(h<u||h===u&&(t.x>i.x||t.x===i.x&&Wce(i,t)))&&(i=t,u=h)),t=t.next;while(t!==a);return i}function Wce(n,e){return On(n.prev,n,e.prev)<0&&On(e.next,n,n.next)<0}function Gce(n,e,t,r){let i=n;do i.z===0&&(i.z=bM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,$ce(i)}function $ce(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function bM(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Xce(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Sd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function qce(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Yce(n,e)&&(am(n,e)&&am(e,n)&&Kce(n,e)&&(On(n.prev,n,e.prev)||On(n,e.prev,e))||Jx(n,e)&&On(n.prev,n,n.next)>0&&On(e.prev,e,e.next)>0)}function On(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Jx(n,e){return n.x===e.x&&n.y===e.y}function Oz(n,e,t,r){const i=$0(On(n,e,t)),s=$0(On(n,e,r)),o=$0(On(t,r,n)),a=$0(On(t,r,e));return!!(i!==s&&o!==a||i===0&&G0(n,t,e)||s===0&&G0(n,r,e)||o===0&&G0(t,n,r)||a===0&&G0(t,e,r))}function G0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function $0(n){return n>0?1:n<0?-1:0}function Yce(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Oz(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function am(n,e){return On(n.prev,n,n.next)<0?On(n,e,n.next)>=0&&On(n,n.prev,e)>=0:On(n,e,n.prev)<0||On(n,n.next,e)<0}function Kce(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Nz(n,e){const t=new SM(n.i,n.x,n.y),r=new SM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function qk(n,e,t,r){const i=new SM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function lm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function SM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Zce(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Mo{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Mo.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];Yk(e),Kk(r,e);let o=e.length;t.forEach(Yk);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,Kk(r,t[l]);const a=Oce.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Yk(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Kk(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class zm extends wt{constructor(e=new qc([new Ce(.5,.5),new Ce(-.5,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new nt(i,3)),this.setAttribute("uv",new nt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:Jce;let S,M=!1,E,P,R,C;_&&(S=_.getSpacedPoints(u),M=!0,p=!1,E=_.computeFrenetFrames(u,!1),P=new z,R=new z,C=new z),p||(x=0,m=0,v=0,g=0);const k=a.extractPoints(c);let D=k.shape;const $=k.holes;if(!Mo.isClockWise(D)){D=D.reverse();for(let _e=0,ve=$.length;_e<ve;_e++){const De=$[_e];Mo.isClockWise(De)&&($[_e]=De.reverse())}}const Y=Mo.triangulateShape(D,$),I=D;for(let _e=0,ve=$.length;_e<ve;_e++){const De=$[_e];D=D.concat(De)}function H(_e,ve,De){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),ve.clone().multiplyScalar(De).add(_e)}const K=D.length,oe=Y.length;function N(_e,ve,De){let Ye,ze,tt;const Qe=_e.x-ve.x,Ze=_e.y-ve.y,ht=De.x-_e.x,bt=De.y-_e.y,W=Qe*Qe+Ze*Ze,O=Qe*bt-Ze*ht;if(Math.abs(O)>Number.EPSILON){const V=Math.sqrt(W),q=Math.sqrt(ht*ht+bt*bt),re=ve.x-Ze/V,ge=ve.y+Qe/V,Te=De.x-bt/q,Me=De.y+ht/q,ae=((Te-re)*bt-(Me-ge)*ht)/(Qe*bt-Ze*ht);Ye=re+Qe*ae-_e.x,ze=ge+Ze*ae-_e.y;const Ie=Ye*Ye+ze*ze;if(Ie<=2)return new Ce(Ye,ze);tt=Math.sqrt(Ie/2)}else{let V=!1;Qe>Number.EPSILON?ht>Number.EPSILON&&(V=!0):Qe<-Number.EPSILON?ht<-Number.EPSILON&&(V=!0):Math.sign(Ze)===Math.sign(bt)&&(V=!0),V?(Ye=-Ze,ze=Qe,tt=Math.sqrt(W)):(Ye=Qe,ze=Ze,tt=Math.sqrt(W/2))}return new Ce(Ye/tt,ze/tt)}const X=[];for(let _e=0,ve=I.length,De=ve-1,Ye=_e+1;_e<ve;_e++,De++,Ye++)De===ve&&(De=0),Ye===ve&&(Ye=0),X[_e]=N(I[_e],I[De],I[Ye]);const J=[];let he,Z=X.concat();for(let _e=0,ve=$.length;_e<ve;_e++){const De=$[_e];he=[];for(let Ye=0,ze=De.length,tt=ze-1,Qe=Ye+1;Ye<ze;Ye++,tt++,Qe++)tt===ze&&(tt=0),Qe===ze&&(Qe=0),he[Ye]=N(De[Ye],De[tt],De[Qe]);J.push(he),Z=Z.concat(he)}for(let _e=0;_e<x;_e++){const ve=_e/x,De=m*Math.cos(ve*Math.PI/2),Ye=v*Math.sin(ve*Math.PI/2)+g;for(let ze=0,tt=I.length;ze<tt;ze++){const Qe=H(I[ze],X[ze],Ye);Be(Qe.x,Qe.y,-De)}for(let ze=0,tt=$.length;ze<tt;ze++){const Qe=$[ze];he=J[ze];for(let Ze=0,ht=Qe.length;Ze<ht;Ze++){const bt=H(Qe[Ze],he[Ze],Ye);Be(bt.x,bt.y,-De)}}}const se=v+g;for(let _e=0;_e<K;_e++){const ve=p?H(D[_e],Z[_e],se):D[_e];M?(R.copy(E.normals[0]).multiplyScalar(ve.x),P.copy(E.binormals[0]).multiplyScalar(ve.y),C.copy(S[0]).add(R).add(P),Be(C.x,C.y,C.z)):Be(ve.x,ve.y,0)}for(let _e=1;_e<=u;_e++)for(let ve=0;ve<K;ve++){const De=p?H(D[ve],Z[ve],se):D[ve];M?(R.copy(E.normals[_e]).multiplyScalar(De.x),P.copy(E.binormals[_e]).multiplyScalar(De.y),C.copy(S[_e]).add(R).add(P),Be(C.x,C.y,C.z)):Be(De.x,De.y,h/u*_e)}for(let _e=x-1;_e>=0;_e--){const ve=_e/x,De=m*Math.cos(ve*Math.PI/2),Ye=v*Math.sin(ve*Math.PI/2)+g;for(let ze=0,tt=I.length;ze<tt;ze++){const Qe=H(I[ze],X[ze],Ye);Be(Qe.x,Qe.y,h+De)}for(let ze=0,tt=$.length;ze<tt;ze++){const Qe=$[ze];he=J[ze];for(let Ze=0,ht=Qe.length;Ze<ht;Ze++){const bt=H(Qe[Ze],he[Ze],Ye);M?Be(bt.x,bt.y+S[u-1].y,S[u-1].x+De):Be(bt.x,bt.y,h+De)}}}Re(),ke();function Re(){const _e=i.length/3;if(p){let ve=0,De=K*ve;for(let Ye=0;Ye<oe;Ye++){const ze=Y[Ye];Ue(ze[2]+De,ze[1]+De,ze[0]+De)}ve=u+x*2,De=K*ve;for(let Ye=0;Ye<oe;Ye++){const ze=Y[Ye];Ue(ze[0]+De,ze[1]+De,ze[2]+De)}}else{for(let ve=0;ve<oe;ve++){const De=Y[ve];Ue(De[2],De[1],De[0])}for(let ve=0;ve<oe;ve++){const De=Y[ve];Ue(De[0]+K*u,De[1]+K*u,De[2]+K*u)}}r.addGroup(_e,i.length/3-_e,0)}function ke(){const _e=i.length/3;let ve=0;ce(I,ve),ve+=I.length;for(let De=0,Ye=$.length;De<Ye;De++){const ze=$[De];ce(ze,ve),ve+=ze.length}r.addGroup(_e,i.length/3-_e,1)}function ce(_e,ve){let De=_e.length;for(;--De>=0;){const Ye=De;let ze=De-1;ze<0&&(ze=_e.length-1);for(let tt=0,Qe=u+x*2;tt<Qe;tt++){const Ze=K*tt,ht=K*(tt+1),bt=ve+Ye+Ze,W=ve+ze+Ze,O=ve+ze+ht,V=ve+Ye+ht;$e(bt,W,O,V)}}}function Be(_e,ve,De){l.push(_e),l.push(ve),l.push(De)}function Ue(_e,ve,De){Le(_e),Le(ve),Le(De);const Ye=i.length/3,ze=b.generateTopUV(r,i,Ye-3,Ye-2,Ye-1);Fe(ze[0]),Fe(ze[1]),Fe(ze[2])}function $e(_e,ve,De,Ye){Le(_e),Le(ve),Le(Ye),Le(ve),Le(De),Le(Ye);const ze=i.length/3,tt=b.generateSideWallUV(r,i,ze-6,ze-3,ze-2,ze-1);Fe(tt[0]),Fe(tt[1]),Fe(tt[3]),Fe(tt[1]),Fe(tt[2]),Fe(tt[3])}function Le(_e){i.push(l[_e*3+0]),i.push(l[_e*3+1]),i.push(l[_e*3+2])}function Fe(_e){s.push(_e.x),s.push(_e.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Qce(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new aE[i.type]().fromJSON(i)),new zm(r,e.options)}}const Jce={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ce(s,o),new Ce(a,l),new Ce(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],g=e[s*3],x=e[s*3+1],_=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ce(o,1-l),new Ce(c,1-h),new Ce(p,1-v),new Ce(g,1-_)]:[new Ce(a,1-l),new Ce(u,1-h),new Ce(m,1-v),new Ce(x,1-_)]}};function Qce(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Fm extends wa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fm(e.radius,e.detail)}}class Mf extends wa{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mf(e.radius,e.detail)}}class Bm extends wt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let h=e;const p=(t-e)/i,m=new z,v=new Ce;for(let g=0;g<=i;g++){for(let x=0;x<=r;x++){const _=s+x/r*o;m.x=h*Math.cos(_),m.y=h*Math.sin(_),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}h+=p}for(let g=0;g<i;g++){const x=g*(r+1);for(let _=0;_<r;_++){const b=_+x,S=b,M=b+r+1,E=b+r+2,P=b+1;a.push(S,M,P),a.push(M,E,P)}}this.setIndex(a),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(c,3)),this.setAttribute("uv",new nt(u,2))}static fromJSON(e){return new Bm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Um extends wt{constructor(e=new qc([new Ce(0,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new nt(i,3)),this.setAttribute("normal",new nt(s,3)),this.setAttribute("uv",new nt(o,2));function c(u){const h=i.length/3,p=u.extractPoints(t);let m=p.shape;const v=p.holes;Mo.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,_=v.length;x<_;x++){const b=v[x];Mo.isClockWise(b)===!0&&(v[x]=b.reverse())}const g=Mo.triangulateShape(m,v);for(let x=0,_=v.length;x<_;x++){const b=v[x];m=m.concat(b)}for(let x=0,_=m.length;x<_;x++){const b=m[x];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let x=0,_=g.length;x<_;x++){const b=g[x],S=b[0]+h,M=b[1]+h,E=b[2]+h;r.push(S,M,E),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return eue(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Um(r,e.curveSegments)}}function eue(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Tf extends wt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new z,p=new z,m=[],v=[],g=[],x=[];for(let _=0;_<=r;_++){const b=[],S=_/r;let M=0;_==0&&o==0?M=.5/t:_==r&&l==Math.PI&&(M=-.5/t);for(let E=0;E<=t;E++){const P=E/t;h.x=-e*Math.cos(i+P*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(i+P*s)*Math.sin(o+S*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),x.push(P+M,1-S),b.push(c++)}u.push(b)}for(let _=0;_<r;_++)for(let b=0;b<t;b++){const S=u[_][b+1],M=u[_][b],E=u[_+1][b],P=u[_+1][b+1];(_!==0||o>0)&&m.push(S,M,P),(_!==r-1||l<Math.PI)&&m.push(M,E,P)}this.setIndex(m),this.setAttribute("position",new nt(v,3)),this.setAttribute("normal",new nt(g,3)),this.setAttribute("uv",new nt(x,2))}static fromJSON(e){return new Tf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Vm extends wa{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vm(e.radius,e.detail)}}class Hm extends wt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new z,h=new z,p=new z;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const g=v/i*s,x=m/r*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(g),h.y=(e+t*Math.cos(x))*Math.sin(g),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),p.subVectors(h,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const g=(i+1)*m+v-1,x=(i+1)*(m-1)+v-1,_=(i+1)*(m-1)+v,b=(i+1)*m+v;o.push(g,x,b),o.push(x,_,b)}this.setIndex(o),this.setAttribute("position",new nt(a,3)),this.setAttribute("normal",new nt(l,3)),this.setAttribute("uv",new nt(c,2))}static fromJSON(e){return new Hm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class jm extends wt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],h=new z,p=new z,m=new z,v=new z,g=new z,x=new z,_=new z;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;b(M,s,o,e,m),b(M+.01,s,o,e,v),x.subVectors(v,m),_.addVectors(v,m),g.crossVectors(x,_),_.crossVectors(g,x),g.normalize(),_.normalize();for(let E=0;E<=i;++E){const P=E/i*Math.PI*2,R=-t*Math.cos(P),C=t*Math.sin(P);h.x=m.x+(R*_.x+C*g.x),h.y=m.y+(R*_.y+C*g.y),h.z=m.z+(R*_.z+C*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),u.push(S/r),u.push(E/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const E=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),R=(i+1)*S+M,C=(i+1)*(S-1)+M;a.push(E,P,C),a.push(P,R,C)}this.setIndex(a),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(c,3)),this.setAttribute("uv",new nt(u,2));function b(S,M,E,P,R){const C=Math.cos(S),k=Math.sin(S),D=E/M*S,$=Math.cos(D);R.x=P*(2+$)*.5*C,R.y=P*(2+$)*k*.5,R.z=P*Math.sin(D)*.5}}static fromJSON(e){return new jm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Wm extends wt{constructor(e=new sE(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new z,l=new z,c=new Ce;let u=new z;const h=[],p=[],m=[],v=[];g(),this.setIndex(v),this.setAttribute("position",new nt(h,3)),this.setAttribute("normal",new nt(p,3)),this.setAttribute("uv",new nt(m,2));function g(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),b(),_()}function x(S){u=e.getPointAt(S/t,u);const M=o.normals[S],E=o.binormals[S];for(let P=0;P<=i;P++){const R=P/i*Math.PI*2,C=Math.sin(R),k=-Math.cos(R);l.x=k*M.x+C*E.x,l.y=k*M.y+C*E.y,l.z=k*M.z+C*E.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,h.push(a.x,a.y,a.z)}}function _(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const E=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),R=(i+1)*S+M,C=(i+1)*(S-1)+M;v.push(E,P,C),v.push(P,R,C)}}function b(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)c.x=S/t,c.y=M/i,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Wm(new aE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class zz extends wt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new z,s=new z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,g=p+m;v<g;v+=3)for(let x=0;x<3;x++){const _=a.getX(v+x),b=a.getX(v+(x+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,b),Zk(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),Zk(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new nt(t,3))}}}function Zk(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var Jk=Object.freeze({__proto__:null,BoxGeometry:Fl,CapsuleGeometry:Im,CircleGeometry:Dm,ConeGeometry:Om,CylinderGeometry:uu,DodecahedronGeometry:Nm,EdgesGeometry:Iz,ExtrudeGeometry:zm,IcosahedronGeometry:Fm,LatheGeometry:wf,OctahedronGeometry:Mf,PlaneGeometry:bf,PolyhedronGeometry:wa,RingGeometry:Bm,ShapeGeometry:Um,SphereGeometry:Tf,TetrahedronGeometry:Vm,TorusGeometry:Hm,TorusKnotGeometry:jm,TubeGeometry:Wm,WireframeGeometry:zz});class Fz extends tr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ge(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Bz extends Ao{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Gm extends tr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ge(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ma extends Gm{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ce(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ge(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ge(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ge(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Uz extends tr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ge(16777215),this.specular=new Ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Em,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Vz extends tr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ge(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Hz extends tr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class jz extends tr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Em,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Wz extends tr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ge(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ol,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Gz extends qr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hs(n,e,t){return lE(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Nc(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function lE(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function $z(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function wM(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function cE(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function tue(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<t||v>=r)){h.push(c.times[m]);for(let g=0;g<u;++g)p.push(c.values[m*u+g])}}h.length!==0&&(c.times=Nc(h,c.times.constructor),c.values=Nc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function nue(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let g;if(s<=a.times[0]){const _=u,b=h-u;g=hs(a.values,_,b)}else if(s>=a.times[v]){const _=v*h+u,b=_+h-u;g=hs(a.values,_,b)}else{const _=a.createInterpolant(),b=u,S=h-u;_.evaluate(s),g=hs(_.resultBuffer,b,S)}l==="quaternion"&&new xr().fromArray(g).normalize().conjugate().toArray(g);const x=c.times.length;for(let _=0;_<x;++_){const b=_*m+p;if(l==="quaternion")xr.multiplyQuaternionsFlat(c.values,b,g,0,c.values,b);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[b+M]-=g[M]}}}return n.blendMode=FT,n}var rue=Object.freeze({__proto__:null,arraySlice:hs,convertArray:Nc,flattenJSON:cE,getKeyframeOrder:$z,isTypedArray:lE,makeClipAdditive:nue,sortedArray:wM,subclip:tue});class Ef{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Xz extends Ef{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ic,endingEnd:Ic}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Dc:s=e,a=2*t-r;break;case tm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Dc:o=e,l=2*r-t;break;case tm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),g=v*v,x=g*v,_=-p*x+2*p*g-p*v,b=(1+p)*x+(-1.5-2*p)*g+(-.5+p)*v+1,S=(-1-m)*x+(1.5+m)*g+.5*v,M=m*x-m*g;for(let E=0;E!==a;++E)s[E]=_*o[u+E]+b*o[c+E]+S*o[l+E]+M*o[h+E];return s}}class uE extends Ef{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),h=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*u;return s}}class qz extends Ef{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Qs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Nc(t,this.TimeBufferType),this.values=Nc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Nc(e.times,Array),values:Nc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new qz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new uE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Xz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rf:t=this.InterpolantFactoryMethodDiscrete;break;case nu:t=this.InterpolantFactoryMethodLinear;break;case Iv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rf;case this.InterpolantFactoryMethodLinear:return nu;case this.InterpolantFactoryMethodSmooth:return Iv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=hs(r,s,o),this.values=hs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&lE(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=hs(this.times),t=hs(this.values),r=this.getValueSize(),i=this.getInterpolation()===Iv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let v=0;v!==r;++v){const g=t[h+v];if(g!==t[p+v]||g!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=hs(e,0,o),this.values=hs(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=hs(this.times,0),t=hs(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Qs.prototype.TimeBufferType=Float32Array;Qs.prototype.ValueBufferType=Float32Array;Qs.prototype.DefaultInterpolation=nu;class du extends Qs{}du.prototype.ValueTypeName="bool";du.prototype.ValueBufferType=Array;du.prototype.DefaultInterpolation=rf;du.prototype.InterpolantFactoryMethodLinear=void 0;du.prototype.InterpolantFactoryMethodSmooth=void 0;class dE extends Qs{}dE.prototype.ValueTypeName="color";class lf extends Qs{}lf.prototype.ValueTypeName="number";class Yz extends Ef{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)xr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Pl extends Qs{InterpolantFactoryMethodLinear(e){return new Yz(this.times,this.values,this.getValueSize(),e)}}Pl.prototype.ValueTypeName="quaternion";Pl.prototype.DefaultInterpolation=nu;Pl.prototype.InterpolantFactoryMethodSmooth=void 0;class fu extends Qs{}fu.prototype.ValueTypeName="string";fu.prototype.ValueBufferType=Array;fu.prototype.DefaultInterpolation=rf;fu.prototype.InterpolantFactoryMethodLinear=void 0;fu.prototype.InterpolantFactoryMethodSmooth=void 0;class cf extends Qs{}cf.prototype.ValueTypeName="vector";class uf{constructor(e,t=-1,r,i=Hx){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=$i(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(sue(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Qs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=$z(l);l=wM(l,1,u),c=wM(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new lf(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,v,g){if(m.length!==0){const x=[],_=[];cE(m,x,_,v),x.length!==0&&g.push(new h(p,x,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let g=0;g<p[v].morphTargets.length;g++)m[p[v].morphTargets[g]]=-1;for(const g in m){const x=[],_=[];for(let b=0;b!==p[v].morphTargets.length;++b){const S=p[v];x.push(S.time),_.push(S.morphTarget===g?1:0)}i.push(new lf(".morphTargetInfluence["+g+"]",x,_))}l=m.length*o}else{const m=".bones["+t[h].name+"]";r(cf,m+".position",p,"pos",i),r(Pl,m+".quaternion",p,"rot",i),r(cf,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function iue(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lf;case"vector":case"vector2":case"vector3":case"vector4":return cf;case"color":return dE;case"quaternion":return Pl;case"bool":case"boolean":return du;case"string":return fu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function sue(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=iue(n.type);if(n.times===void 0){const t=[],r=[];cE(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const iu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class fE{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const wd=new fE;let Ai=class{constructor(e){this.manager=e!==void 0?e:wd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const Xo={};class oue extends Error{constructor(e,t){super(e),this.response=t}}class Ks extends Ai{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=iu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Xo[e]!==void 0){Xo[e].push({onLoad:t,onProgress:r,onError:i});return}Xo[e]=[],Xo[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Xo[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let g=0;const x=new ReadableStream({start(_){b();function b(){h.read().then(({done:S,value:M})=>{if(S)_.close();else{g+=M.byteLength;const E=new ProgressEvent("progress",{lengthComputable:v,loaded:g,total:m});for(let P=0,R=u.length;P<R;P++){const C=u[P];C.onProgress&&C.onProgress(E)}_.enqueue(M),b()}})}}});return new Response(x)}else throw new oue(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{iu.add(e,c);const u=Xo[e];delete Xo[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Xo[e];if(u===void 0)throw this.manager.itemError(e),c;delete Xo[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class aue extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ks(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=uf.parse(e[r]);t.push(i)}return t}}class lue extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new tE,l=new Ks(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Dn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)u(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+g]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Dn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class cm extends Ai{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=iu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=im("img");function l(){u(),iu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class cue extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=new Rm,o=new cm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class uue extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Bd,a=new Ks(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Pr,o.wrapT=c.wrapT!==void 0?c.wrapT:Pr,o.magFilter=c.magFilter!==void 0?c.magFilter:Dn,o.minFilter=c.minFilter!==void 0?c.minFilter:Dn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Co),c.mipmapCount===1&&(o.minFilter=Dn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class Kz extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=new Rn,o=new cm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Bl extends Bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ge(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Zz extends Bl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ge(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const qb=new pt,Qk=new z,eL=new z;class hE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ce(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Wx,this._frameExtents=new Ce(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Qk.setFromMatrixPosition(e.matrixWorld),t.position.copy(Qk),eL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(eL),t.updateMatrixWorld(),qb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(qb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class due extends hE{constructor(){super(new vn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=rm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class pE extends Bl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new due}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const tL=new pt,wh=new z,Yb=new z;class fue extends hE{constructor(){super(new vn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ce(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),wh.setFromMatrixPosition(e.matrixWorld),r.position.copy(wh),Yb.copy(r.position),Yb.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(Yb),r.updateMatrixWorld(),i.makeTranslation(-wh.x,-wh.y,-wh.z),tL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tL)}}class mE extends Bl{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new fue}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class hue extends hE{constructor(){super(new Xs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class gE extends Bl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new hue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Jz extends Bl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Qz extends Bl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class eF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class Qx extends Bl{constructor(e=new eF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class e1 extends Ai{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Ks(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=e1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ge().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ge().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ce().fromArray(o.value);break;case"v3":i.uniforms[s].value=new z().fromArray(o.value);break;case"v4":i.uniforms[s].value=new dn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new ri().fromArray(o.value);break;case"m4":i.uniforms[s].value=new pt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ce().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ce().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Fz,SpriteMaterial:KT,RawShaderMaterial:Bz,ShaderMaterial:Ao,PointsMaterial:Yx,MeshPhysicalMaterial:Ma,MeshStandardMaterial:Gm,MeshPhongMaterial:Uz,MeshToonMaterial:Vz,MeshNormalMaterial:Hz,MeshLambertMaterial:jz,MeshDepthMaterial:$T,MeshDistanceMaterial:XT,MeshBasicMaterial:Hi,MeshMatcapMaterial:Wz,LineDashedMaterial:Gz,LineBasicMaterial:qr,Material:tr};return new t[e]}}class df{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class tF extends wt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class nF extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ks(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],_=s(m,x.buffer),b=_d(x.type,_),S=new km(b,x.stride);return S.uuid=x.uuid,t[v]=S,S}function s(m,v){if(r[v]!==void 0)return r[v];const x=m.arrayBuffers[v],_=new Uint32Array(x).buffer;return r[v]=_,_}const o=e.isInstancedBufferGeometry?new tF:new wt,a=e.data.index;if(a!==void 0){const m=_d(a.type,a.array);o.setIndex(new rn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let g;if(v.isInterleavedBufferAttribute){const x=i(e.data,v.data);g=new Al(x,v.itemSize,v.offset,v.normalized)}else{const x=_d(v.type,v.array),_=v.isInstancedBufferAttribute?af:rn;g=new _(x,v.itemSize,v.normalized)}v.name!==void 0&&(g.name=v.name),v.usage!==void 0&&g.setUsage(v.usage),v.updateRange!==void 0&&(g.updateRange.offset=v.updateRange.offset,g.updateRange.count=v.updateRange.count),o.setAttribute(m,g)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],g=[];for(let x=0,_=v.length;x<_;x++){const b=v[x];let S;if(b.isInterleavedBufferAttribute){const M=i(e.data,b.data);S=new Al(M,b.itemSize,b.offset,b.normalized)}else{const M=_d(b.type,b.array);S=new rn(M,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),g.push(S)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const g=h[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new z;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new zl(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class pue extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?df.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ks(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?df.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ks(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new qc().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Lm().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new nF;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Jk?a=Jk[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new e1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=uf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:_d(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new fE(t);s=new cm(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,g=p.length;v<g;v++){const x=p[v],_=a(x);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new Bd(_.data,_.width,_.height)))}i[h.uuid]=new Oc(m)}else{const m=a(h.url);i[h.uuid]=new Oc(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:_d(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new cm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new Bd(v.data,v.width,v.height)))}r[l.uuid]=new Oc(u)}else{const u=await s(l.url);r[l.uuid]=new Oc(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Rm,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Bd:u=new Rn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,mue)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],nL),u.wrapT=r(a.wrap[1],nL)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,rL)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,rL)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,g=p.length;v<g;v++){const x=p[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,h;switch(e.type){case"Scene":o=new YT,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ge(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Xx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new $x(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new vn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Xs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Jz(e.color,e.intensity);break;case"DirectionalLight":o=new gE(e.color,e.intensity);break;case"PointLight":o=new mE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Qz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new pE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Zz(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Qx().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new ZT(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new vr(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new JT(u,h,p),o.instanceMatrix=new af(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new af(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new Cz;break;case"Line":o=new _a(a(e.geometry),l(e.material));break;case"LineLoop":o=new QT(a(e.geometry),l(e.material));break;case"LineSegments":o=new Zs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new eE(a(e.geometry),l(e.material));break;case"Sprite":o=new Ez(l(e.material));break;case"Group":o=new aa;break;case"Bone":o=new qx;break;default:o=new Bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],g=o.getObjectByProperty("uuid",v.object);g!==void 0&&o.addLevel(g,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const mue={UVMapping:Ux,CubeReflectionMapping:Ml,CubeRefractionMapping:Tl,EquirectangularReflectionMapping:Jp,EquirectangularRefractionMapping:Qp,CubeUVReflectionMapping:_f},nL={RepeatWrapping:El,ClampToEdgeWrapping:Pr,MirroredRepeatWrapping:tf},rL={NearestFilter:Vn,NearestMipmapNearestFilter:em,NearestMipmapLinearFilter:Fd,LinearFilter:Dn,LinearMipmapNearestFilter:Vx,LinearMipmapLinearFilter:Co};class rF extends Ai{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=iu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){iu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let X0;class vE{static getContext(){return X0===void 0&&(X0=new(window.AudioContext||window.webkitAudioContext)),X0}static setContext(e){X0=e}}class gue extends Ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ks(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);vE.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class vue extends Qx{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ge().set(e),s=new Ge().set(t),o=new z(i.r,i.g,i.b),a=new z(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class yue extends Qx{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Ge().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const iL=new pt,sL=new pt,ac=new pt;class xue{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new vn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new vn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ac.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Gc*t.fov*.5)/t.zoom;let a,l;sL.elements[12]=-i,iL.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,ac.elements[0]=2*t.near/(l-a),ac.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ac),a=-o*t.aspect-s,l=o*t.aspect-s,ac.elements[0]=2*t.near/(l-a),ac.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ac)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(iL)}}class yE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=oL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=oL();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function oL(){return(typeof performance>"u"?Date:performance).now()}const lc=new z,aL=new xr,_ue=new z,cc=new z;class bue extends Bt{constructor(){super(),this.type="AudioListener",this.context=vE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lc,aL,_ue),cc.set(0,0,-1).applyQuaternion(aL),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(lc.x,i),t.positionY.linearRampToValueAtTime(lc.y,i),t.positionZ.linearRampToValueAtTime(lc.z,i),t.forwardX.linearRampToValueAtTime(cc.x,i),t.forwardY.linearRampToValueAtTime(cc.y,i),t.forwardZ.linearRampToValueAtTime(cc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(lc.x,lc.y,lc.z),t.setOrientation(cc.x,cc.y,cc.z,r.x,r.y,r.z)}}class iF extends Bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const uc=new z,lL=new xr,Sue=new z,dc=new z;class wue extends iF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(uc,lL,Sue),dc.set(0,0,1).applyQuaternion(lL);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(uc.x,r),t.positionY.linearRampToValueAtTime(uc.y,r),t.positionZ.linearRampToValueAtTime(uc.z,r),t.orientationX.linearRampToValueAtTime(dc.x,r),t.orientationY.linearRampToValueAtTime(dc.y,r),t.orientationZ.linearRampToValueAtTime(dc.z,r)}else t.setPosition(uc.x,uc.y,uc.z),t.setOrientation(dc.x,dc.y,dc.z)}}class Mue{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class sF{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){xr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;xr.multiplyQuaternionsFlat(e,o,e,t,e,r),xr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const xE="\\[\\]\\.:\\/",Tue=new RegExp("["+xE+"]","g"),_E="[^"+xE+"]",Eue="[^"+xE.replace("\\.","")+"]",Cue=/((?:WC+[\/:])*)/.source.replace("WC",_E),Aue=/(WCOD+)?/.source.replace("WCOD",Eue),Pue=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_E),Rue=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_E),kue=new RegExp("^"+Cue+Aue+Pue+Rue+"$"),Lue=["material","materials","bones","map"];class Iue{constructor(e,t,r){const i=r||Ft.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Ft{constructor(e,t,r){this.path=t,this.parsedPath=r||Ft.parseTrackName(t),this.node=Ft.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Ft.Composite(e,t,r):new Ft(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Tue,"")}static parseTrackName(e){const t=kue.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Lue.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Ft.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ft.Composite=Iue;Ft.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ft.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ft.prototype.GetterByBindingType=[Ft.prototype._getValue_direct,Ft.prototype._getValue_array,Ft.prototype._getValue_arrayElement,Ft.prototype._getValue_toArray];Ft.prototype.SetterByBindingTypeAndVersioning=[[Ft.prototype._setValue_direct,Ft.prototype._setValue_direct_setNeedsUpdate,Ft.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_array,Ft.prototype._setValue_array_setNeedsUpdate,Ft.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_arrayElement,Ft.prototype._setValue_arrayElement_setNeedsUpdate,Ft.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_fromArray,Ft.prototype._setValue_fromArray_setNeedsUpdate,Ft.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Due{constructor(){this.isAnimationObjectGroup=!0,this.uuid=$i(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let g=0,x=o;g!==x;++g)s[g].push(new Ft(p,r[g],i[g]))}else if(v<c){a=e[v];const g=--c,x=e[g];t[x.uuid]=v,e[v]=x,t[m]=g,e[g]=p;for(let _=0,b=o;_!==b;++_){const S=s[_],M=S[g];let E=S[v];S[v]=M,E===void 0&&(E=new Ft(p,r[_],i[_])),S[g]=E}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,p=e[h];t[p.uuid]=u,e[u]=p,t[c]=h,e[h]=l;for(let m=0,v=i;m!==v;++m){const g=r[m],x=g[h],_=g[u];g[u]=x,g[h]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const p=--s,m=e[p],v=--o,g=e[v];t[m.uuid]=h,e[h]=m,t[g.uuid]=p,e[p]=g,e.pop();for(let x=0,_=i;x!==_;++x){const b=r[x],S=b[p],M=b[v];b[h]=S,b[p]=M,b.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,g=i;v!==g;++v){const x=r[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=u,m=l.length;p!==m;++p){const v=l[p];h[p]=new Ft(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Oue{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ic,endingEnd:Ic};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=tz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case FT:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Hx:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===nz;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===ez){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Dc,i.endingEnd=Dc):(e?i.endingStart=this.zeroSlopeAtStart?Dc:Ic:i.endingStart=tm,t?i.endingEnd=this.zeroSlopeAtEnd?Dc:Ic:i.endingEnd=tm)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Nue=new Float32Array(1);class zue extends ko{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;v=new sF(Ft.create(r,m,g),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new uE(new Float32Array(2),new Float32Array(2),1,Nue),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?uf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Hx),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Oue(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?uf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class bE{constructor(e){this.value=e}clone(){return new bE(this.value.clone===void 0?this.value:this.value.clone())}}let Fue=0;class Bue extends ko{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Fue++}),this.name="",this.usage=nm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Uue extends km{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Vue{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class oF{constructor(e,t,r=0,i=1/0){this.ray=new Cm(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Xc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return MM(e,this,r,t),r.sort(cL),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)MM(e[i],this,r,t);return r.sort(cL),r}}function cL(n,e){return n.distance-e.distance}function MM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)MM(i[s],e,t,!0)}}class TM{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Hue{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const uL=new Ce;class jue{constructor(e=new Ce(1/0,1/0),t=new Ce(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=uL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return uL.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dL=new z,q0=new z;class Wue{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){dL.subVectors(e,this.start),q0.subVectors(this.end,this.start);const r=q0.dot(q0);let s=q0.dot(dL)/r;return t&&(s=Xn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const fL=new z;class Gue extends Bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new wt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new nt(i,3));const s=new qr({fog:!1,toneMapped:!1});this.cone=new Zs(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),fL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(fL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $a=new z,Y0=new pt,Kb=new pt;class $ue extends Zs{constructor(e){const t=aF(e),r=new wt,i=[],s=[],o=new Ge(0,0,1),a=new Ge(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new nt(i,3)),r.setAttribute("color",new nt(s,3));const l=new qr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");Kb.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Y0.multiplyMatrices(Kb,a.matrixWorld),$a.setFromMatrixPosition(Y0),i.setXYZ(o,$a.x,$a.y,$a.z),Y0.multiplyMatrices(Kb,a.parent.matrixWorld),$a.setFromMatrixPosition(Y0),i.setXYZ(o+1,$a.x,$a.y,$a.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function aF(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,aF(n.children[t]));return e}class Xue extends vr{constructor(e,t,r){const i=new Tf(t,4,2),s=new Hi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const que=new z,hL=new Ge,pL=new Ge;class Yue extends Bt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Mf(t);i.rotateY(Math.PI*.5),this.material=new Hi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new rn(o,3)),this.add(new vr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");hL.copy(this.light.color),pL.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?hL:pL;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(que.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Kue extends Zs{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ge(r),i=new Ge(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const g=p===s?r:i;g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3}const u=new wt;u.setAttribute("position",new nt(l,3)),u.setAttribute("color",new nt(c,3));const h=new qr({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zue extends Zs{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ge(s),o=new Ge(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const g=h&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let v=0;v<i;v++){let g=v/i*(Math.PI*2),x=Math.sin(g)*m,_=Math.cos(g)*m;a.push(x,0,_),l.push(p.r,p.g,p.b),g=(v+1)/i*(Math.PI*2),x=Math.sin(g)*m,_=Math.cos(g)*m,a.push(x,0,_),l.push(p.r,p.g,p.b)}}const c=new wt;c.setAttribute("position",new nt(a,3)),c.setAttribute("color",new nt(l,3));const u=new qr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const mL=new z,K0=new z,gL=new z;class Jue extends Bt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new wt;i.setAttribute("position",new nt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new qr({fog:!1,toneMapped:!1});this.lightPlane=new _a(i,s),this.add(this.lightPlane),i=new wt,i.setAttribute("position",new nt([0,0,0,0,0,1],3)),this.targetLine=new _a(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),mL.setFromMatrixPosition(this.light.matrixWorld),K0.setFromMatrixPosition(this.light.target.matrixWorld),gL.subVectors(K0,mL),this.lightPlane.lookAt(K0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(K0),this.targetLine.scale.z=gL.length()}}const Z0=new z,Bn=new Pm;class Que extends Zs{constructor(e){const t=new wt,r=new qr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,g){l(v),l(g)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new nt(i,3)),t.setAttribute("color",new nt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ge(16755200),u=new Ge(16711680),h=new Ge(43775),p=new Ge(16777215),m=new Ge(3355443);this.setColors(c,u,h,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Bn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Gn("c",t,e,Bn,0,0,-1),Gn("t",t,e,Bn,0,0,1),Gn("n1",t,e,Bn,-r,-i,-1),Gn("n2",t,e,Bn,r,-i,-1),Gn("n3",t,e,Bn,-r,i,-1),Gn("n4",t,e,Bn,r,i,-1),Gn("f1",t,e,Bn,-r,-i,1),Gn("f2",t,e,Bn,r,-i,1),Gn("f3",t,e,Bn,-r,i,1),Gn("f4",t,e,Bn,r,i,1),Gn("u1",t,e,Bn,r*.7,i*1.1,-1),Gn("u2",t,e,Bn,-r*.7,i*1.1,-1),Gn("u3",t,e,Bn,0,i*2,-1),Gn("cf1",t,e,Bn,-r,0,1),Gn("cf2",t,e,Bn,r,0,1),Gn("cf3",t,e,Bn,0,-i,1),Gn("cf4",t,e,Bn,0,i,1),Gn("cn1",t,e,Bn,-r,0,-1),Gn("cn2",t,e,Bn,r,0,-1),Gn("cn3",t,e,Bn,0,-i,-1),Gn("cn4",t,e,Bn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Gn(n,e,t,r,i,s,o){Z0.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Z0.x,Z0.y,Z0.z)}}const J0=new Nl;class ede extends Zs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new wt;s.setIndex(new rn(r,1)),s.setAttribute("position",new rn(i,3)),super(s,new qr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&J0.setFromObject(this.object),J0.isEmpty())return;const t=J0.min,r=J0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tde extends Zs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new wt;s.setIndex(new rn(r,1)),s.setAttribute("position",new nt(i,3)),super(s,new qr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class nde extends _a{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new wt;o.setAttribute("position",new nt(s,3)),o.computeBoundingSphere(),super(o,new qr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new wt;l.setAttribute("position",new nt(a,3)),l.computeBoundingSphere(),this.add(new vr(l,new Hi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const vL=new z;let Q0,Zb;class rde extends Bt{constructor(e=new z(0,0,1),t=new z(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Q0===void 0&&(Q0=new wt,Q0.setAttribute("position",new nt([0,0,0,0,1,0],3)),Zb=new uu(0,.5,1,5,1),Zb.translate(0,-.5,0)),this.position.copy(t),this.line=new _a(Q0,new qr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new vr(Zb,new Hi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{vL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(vL,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ide extends Zs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new wt;i.setAttribute("position",new nt(t,3)),i.setAttribute("color",new nt(r,3));const s=new qr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ge,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sde{constructor(){this.type="ShapePath",this.color=new Ge,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new sm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const b=[];for(let S=0,M=_.length;S<M;S++){const E=_[S],P=new qc;P.curves=E.curves,b.push(P)}return b}function r(_,b){const S=b.length;let M=!1;for(let E=S-1,P=0;P<S;E=P++){let R=b[E],C=b[P],k=C.x-R.x,D=C.y-R.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(R=b[P],k=-k,C=b[E],D=-D),_.y<R.y||_.y>C.y)continue;if(_.y===R.y){if(_.x===R.x)return!0}else{const $=D*(_.x-R.x)-k*(_.y-R.y);if($===0)return!0;if($<0)continue;M=!M}}else{if(_.y!==R.y)continue;if(C.x<=_.x&&_.x<=R.x||R.x<=_.x&&_.x<=C.x)return!0}}return M}const i=Mo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new qc,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],p=[];let m=[],v=0,g;p[v]=void 0,m[v]=[];for(let _=0,b=s.length;_<b;_++)a=s[_],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!u&&p[v]&&v++,p[v]={s:new qc,p:g},p[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:g[0]});if(!p[0])return t(s);if(p.length>1){let _=!1,b=0;for(let S=0,M=p.length;S<M;S++)h[S]=[];for(let S=0,M=p.length;S<M;S++){const E=m[S];for(let P=0;P<E.length;P++){const R=E[P];let C=!0;for(let k=0;k<p.length;k++)r(R.p,p[k].p)&&(S!==k&&b++,C?(C=!1,h[k].push(R)):_=!0);C&&h[S].push(R)}}b>0&&_===!1&&(m=h)}let x;for(let _=0,b=p.length;_<b;_++){l=p[_].s,c.push(l),x=m[_];for(let S=0,M=x.length;S<M;S++)l.holes.push(x[S].h)}return c}}const ea=ode();function ode(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ade(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Xn(n,-65504,65504),ea.floatView[0]=n;const e=ea.uint32View[0],t=e>>23&511;return ea.baseTable[t]+((e&8388607)>>ea.shiftTable[t])}function lde(n){const e=n>>10;return ea.uint32View[0]=ea.mantissaTable[ea.offsetTable[e]+(n&1023)]+ea.exponentTable[e],ea.floatView[0]}var cde=Object.freeze({__proto__:null,fromHalfFloat:lde,toHalfFloat:ade});class ude extends Fl{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class dde extends Im{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class fde extends Dm{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class hde extends Om{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class pde extends uu{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class mde extends Nm{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class gde extends zm{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class vde extends Fm{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class yde extends wf{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class xde extends Mf{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class _de extends bf{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class bde extends wa{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class Sde extends Bm{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class wde extends Um{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Mde extends Tf{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class Tde extends Vm{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class Ede extends Hm{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class Cde extends jm{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Ade extends Wm{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Fx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Fx);const Iy=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:NT,AddEquation:Mc,AddOperation:DN,AdditiveAnimationBlendMode:FT,AdditiveBlending:Hw,AlphaFormat:WN,AlwaysDepth:CN,AlwaysStencilFunc:az,AmbientLight:Jz,AmbientLightProbe:yue,AnimationClip:uf,AnimationLoader:aue,AnimationMixer:zue,AnimationObjectGroup:Due,AnimationUtils:rue,ArcCurve:Az,ArrayCamera:Sz,ArrowHelper:rde,Audio:iF,AudioAnalyser:Mue,AudioContext:vE,AudioListener:bue,AudioLoader:gue,AxesHelper:ide,BackSide:wi,BasicDepthPacking:iz,BasicShadowMap:hN,Bone:qx,BooleanKeyframeTrack:du,Box2:jue,Box3:Nl,Box3Helper:tde,BoxBufferGeometry:ude,BoxGeometry:Fl,BoxHelper:ede,BufferAttribute:rn,BufferGeometry:wt,BufferGeometryLoader:nF,ByteType:BN,Cache:iu,Camera:Pm,CameraHelper:Que,CanvasTexture:Cce,CapsuleBufferGeometry:dde,CapsuleGeometry:Im,CatmullRomCurve3:Pz,CineonToneMapping:zN,CircleBufferGeometry:fde,CircleGeometry:Dm,ClampToEdgeWrapping:Pr,Clock:yE,Color:Ge,ColorKeyframeTrack:dE,ColorManagement:jr,CompressedArrayTexture:Ece,CompressedTexture:tE,CompressedTextureLoader:lue,ConeBufferGeometry:hde,ConeGeometry:Om,CubeCamera:pz,CubeReflectionMapping:Ml,CubeRefractionMapping:Tl,CubeTexture:Rm,CubeTextureLoader:cue,CubeUVReflectionMapping:_f,CubicBezierCurve:rE,CubicBezierCurve3:Rz,CubicInterpolant:Xz,CullFaceBack:Vw,CullFaceFront:fN,CullFaceFrontBack:Lre,CullFaceNone:dN,Curve:Js,CurvePath:Lz,CustomBlending:pN,CustomToneMapping:FN,CylinderBufferGeometry:pde,CylinderGeometry:uu,Cylindrical:Hue,Data3DTexture:HT,DataArrayTexture:jx,DataTexture:Bd,DataTextureLoader:uue,DataUtils:cde,DecrementStencilOp:Hre,DecrementWrapStencilOp:Wre,DefaultLoadingManager:wd,DepthFormat:yl,DepthStencilFormat:tu,DepthTexture:wz,DirectionalLight:gE,DirectionalLightHelper:Jue,DiscreteInterpolant:qz,DodecahedronBufferGeometry:mde,DodecahedronGeometry:Nm,DoubleSide:js,DstAlphaFactor:bN,DstColorFactor:wN,DynamicCopyUsage:sie,DynamicDrawUsage:Qre,DynamicReadUsage:nie,EdgesGeometry:Iz,EllipseCurve:Kx,EqualDepth:PN,EqualStencilFunc:qre,EquirectangularReflectionMapping:Jp,EquirectangularRefractionMapping:Qp,Euler:Am,EventDispatcher:ko,ExtrudeBufferGeometry:gde,ExtrudeGeometry:zm,FileLoader:Ks,Float16BufferAttribute:Bie,Float32BufferAttribute:nt,Float64BufferAttribute:Uie,FloatType:sa,Fog:Xx,FogExp2:$x,FramebufferTexture:Tce,FrontSide:Eo,Frustum:Wx,GLBufferAttribute:Vue,GLSL1:aie,GLSL3:gM,GreaterDepth:kN,GreaterEqualDepth:RN,GreaterEqualStencilFunc:Jre,GreaterStencilFunc:Kre,GridHelper:Kue,Group:aa,HalfFloatType:nf,HemisphereLight:Zz,HemisphereLightHelper:Yue,HemisphereLightProbe:vue,IcosahedronBufferGeometry:vde,IcosahedronGeometry:Fm,ImageBitmapLoader:rF,ImageLoader:cm,ImageUtils:VT,IncrementStencilOp:Vre,IncrementWrapStencilOp:jre,InstancedBufferAttribute:af,InstancedBufferGeometry:tF,InstancedInterleavedBuffer:Uue,InstancedMesh:JT,Int16BufferAttribute:zie,Int32BufferAttribute:Fie,Int8BufferAttribute:Die,IntType:VN,InterleavedBuffer:km,InterleavedBufferAttribute:Al,Interpolant:Ef,InterpolateDiscrete:rf,InterpolateLinear:nu,InterpolateSmooth:Iv,InvertStencilOp:Gre,KeepStencilOp:Dv,KeyframeTrack:Qs,LOD:Cz,LatheBufferGeometry:yde,LatheGeometry:wf,Layers:Xc,LessDepth:AN,LessEqualDepth:Py,LessEqualStencilFunc:Yre,LessStencilFunc:Xre,Light:Bl,LightProbe:Qx,Line:_a,Line3:Wue,LineBasicMaterial:qr,LineCurve:Zx,LineCurve3:kz,LineDashedMaterial:Gz,LineLoop:QT,LineSegments:Zs,LinearEncoding:xa,LinearFilter:Dn,LinearInterpolant:uE,LinearMipMapLinearFilter:zre,LinearMipMapNearestFilter:Nre,LinearMipmapLinearFilter:Co,LinearMipmapNearestFilter:Vx,LinearSRGBColorSpace:sf,LinearToneMapping:ON,Loader:Ai,LoaderUtils:df,LoadingManager:fE,LoopOnce:ez,LoopPingPong:nz,LoopRepeat:tz,LuminanceAlphaFormat:$N,LuminanceFormat:GN,MOUSE:mc,Material:tr,MaterialLoader:e1,MathUtils:cz,Matrix3:ri,Matrix4:pt,MaxEquation:$w,Mesh:vr,MeshBasicMaterial:Hi,MeshDepthMaterial:$T,MeshDistanceMaterial:XT,MeshLambertMaterial:jz,MeshMatcapMaterial:Wz,MeshNormalMaterial:Hz,MeshPhongMaterial:Uz,MeshPhysicalMaterial:Ma,MeshStandardMaterial:Gm,MeshToonMaterial:Vz,MinEquation:Gw,MirroredRepeatWrapping:tf,MixOperation:IN,MultiplyBlending:Ww,MultiplyOperation:Em,NearestFilter:Vn,NearestMipMapLinearFilter:Ore,NearestMipMapNearestFilter:Dre,NearestMipmapLinearFilter:Fd,NearestMipmapNearestFilter:em,NeverDepth:EN,NeverStencilFunc:$re,NoBlending:fa,NoColorSpace:Fre,NoToneMapping:$s,NormalAnimationBlendMode:Hx,NormalBlending:jc,NotEqualDepth:LN,NotEqualStencilFunc:Zre,NumberKeyframeTrack:lf,Object3D:Bt,ObjectLoader:pue,ObjectSpaceNormalMap:oz,OctahedronBufferGeometry:xde,OctahedronGeometry:Mf,OneFactor:yN,OneMinusDstAlphaFactor:SN,OneMinusDstColorFactor:MN,OneMinusSrcAlphaFactor:OT,OneMinusSrcColorFactor:_N,OrthographicCamera:Xs,PCFShadowMap:Bx,PCFSoftShadowMap:dp,PMREMGenerator:yM,Path:sm,PerspectiveCamera:vn,Plane:Qa,PlaneBufferGeometry:_de,PlaneGeometry:bf,PlaneHelper:nde,PointLight:mE,PointLightHelper:Xue,Points:eE,PointsMaterial:Yx,PolarGridHelper:Zue,PolyhedronBufferGeometry:bde,PolyhedronGeometry:wa,PositionalAudio:wue,PropertyBinding:Ft,PropertyMixer:sF,QuadraticBezierCurve:iE,QuadraticBezierCurve3:sE,Quaternion:xr,QuaternionKeyframeTrack:Pl,QuaternionLinearInterpolant:Yz,RED_GREEN_RGTC2_Format:pM,RED_RGTC1_Format:QN,REVISION:Fx,RGBADepthPacking:sz,RGBAFormat:Ui,RGBAIntegerFormat:ZN,RGBA_ASTC_10x10_Format:uM,RGBA_ASTC_10x5_Format:aM,RGBA_ASTC_10x6_Format:lM,RGBA_ASTC_10x8_Format:cM,RGBA_ASTC_12x10_Format:dM,RGBA_ASTC_12x12_Format:fM,RGBA_ASTC_4x4_Format:Qw,RGBA_ASTC_5x4_Format:eM,RGBA_ASTC_5x5_Format:tM,RGBA_ASTC_6x5_Format:nM,RGBA_ASTC_6x6_Format:rM,RGBA_ASTC_8x5_Format:iM,RGBA_ASTC_8x6_Format:sM,RGBA_ASTC_8x8_Format:oM,RGBA_BPTC_Format:Lv,RGBA_ETC2_EAC_Format:Jw,RGBA_PVRTC_2BPPV1_Format:Kw,RGBA_PVRTC_4BPPV1_Format:Yw,RGBA_S3TC_DXT1_Format:Pv,RGBA_S3TC_DXT3_Format:Rv,RGBA_S3TC_DXT5_Format:kv,RGB_ETC1_Format:JN,RGB_ETC2_Format:Zw,RGB_PVRTC_2BPPV1_Format:qw,RGB_PVRTC_4BPPV1_Format:Xw,RGB_S3TC_DXT1_Format:Av,RGFormat:YN,RGIntegerFormat:KN,RawShaderMaterial:Bz,Ray:Cm,Raycaster:oF,RectAreaLight:Qz,RedFormat:XN,RedIntegerFormat:qN,ReinhardToneMapping:NN,RepeatWrapping:El,ReplaceStencilOp:Ure,ReverseSubtractEquation:gN,RingBufferGeometry:Sde,RingGeometry:Bm,SIGNED_RED_GREEN_RGTC2_Format:mM,SIGNED_RED_RGTC1_Format:hM,SRGBColorSpace:Bs,Scene:YT,ShaderChunk:Tt,ShaderLib:Vs,ShaderMaterial:Ao,ShadowMaterial:Fz,Shape:qc,ShapeBufferGeometry:wde,ShapeGeometry:Um,ShapePath:sde,ShapeUtils:Mo,ShortType:UN,Skeleton:Lm,SkeletonHelper:$ue,SkinnedMesh:ZT,Source:Oc,Sphere:zl,SphereBufferGeometry:Mde,SphereGeometry:Tf,Spherical:TM,SphericalHarmonics3:eF,SplineCurve:oE,SpotLight:pE,SpotLightHelper:Gue,Sprite:Ez,SpriteMaterial:KT,SrcAlphaFactor:DT,SrcAlphaSaturateFactor:TN,SrcColorFactor:xN,StaticCopyUsage:iie,StaticDrawUsage:nm,StaticReadUsage:tie,StereoCamera:xue,StreamCopyUsage:oie,StreamDrawUsage:eie,StreamReadUsage:rie,StringKeyframeTrack:fu,SubtractEquation:mN,SubtractiveBlending:jw,TOUCH:gc,TangentSpaceNormalMap:Ol,TetrahedronBufferGeometry:Tde,TetrahedronGeometry:Vm,Texture:Rn,TextureLoader:Kz,TorusBufferGeometry:Ede,TorusGeometry:Hm,TorusKnotBufferGeometry:Cde,TorusKnotGeometry:jm,Triangle:gs,TriangleFanDrawMode:Ry,TriangleStripDrawMode:BT,TrianglesDrawMode:rz,TubeBufferGeometry:Ade,TubeGeometry:Wm,TwoPassDoubleSide:Ire,UVMapping:Ux,Uint16BufferAttribute:jT,Uint32BufferAttribute:WT,Uint8BufferAttribute:Oie,Uint8ClampedBufferAttribute:Nie,Uniform:bE,UniformsGroup:Bue,UniformsLib:He,UniformsUtils:hz,UnsignedByteType:Cl,UnsignedInt248Type:Wc,UnsignedIntType:al,UnsignedShort4444Type:HN,UnsignedShort5551Type:jN,UnsignedShortType:zT,VSMShadowMap:Lc,Vector2:Ce,Vector3:z,Vector4:dn,VectorKeyframeTrack:cf,VideoTexture:Mce,WebGL1Renderer:Mz,WebGL3DRenderTarget:Mie,WebGLArrayRenderTarget:wie,WebGLCubeRenderTarget:mz,WebGLMultipleRenderTargets:Tie,WebGLRenderTarget:Ys,WebGLRenderer:qT,WebGLUtils:bz,WireframeGeometry:zz,WrapAroundEnding:tm,ZeroCurvatureEnding:Ic,ZeroFactor:vN,ZeroSlopeEnding:Dc,ZeroStencilOp:Bre,_SRGBAFormat:ky,sRGBEncoding:Vt},Symbol.toStringTag,{value:"Module"}));var ll={},Pde={get exports(){return ll},set exports(n){ll=n}},hu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */hu.ConcurrentRoot=1;hu.ContinuousEventPriority=4;hu.DefaultEventPriority=16;hu.DiscreteEventPriority=1;hu.IdleEventPriority=536870912;hu.LegacyRoot=0;(function(n){n.exports=hu})(Pde);function Rde(n){let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=u?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const v=u(e);if(!h(p,v)){const g=p;c(p=v,g)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const kde=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),yL=kde?L.useEffect:L.useLayoutEffect;function lF(n){const e=typeof n=="function"?Rde(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=L.useReducer(x=>x+1,0),o=e.getState(),a=L.useRef(o),l=L.useRef(r),c=L.useRef(i),u=L.useRef(!1),h=L.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(h.current,p)),yL(()=>{m&&(h.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const v=L.useRef(o);yL(()=>{const x=()=>{try{const b=e.getState(),S=l.current(b);c.current(h.current,S)||(a.current=b,h.current=S,s())}catch{u.current=!0,s()}},_=e.subscribe(x);return e.getState()!==v.current&&x(),_},[]);const g=m?p:h.current;return L.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var EM={},Lde={get exports(){return EM},set exports(n){EM=n}},um={},Ide={get exports(){return um},set exports(n){um=n}},cF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,X){var J=N.length;N.push(X);e:for(;0<J;){var he=J-1>>>1,Z=N[he];if(0<i(Z,X))N[he]=X,N[J]=Z,J=he;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var X=N[0],J=N.pop();if(J!==X){N[0]=J;e:for(var he=0,Z=N.length,se=Z>>>1;he<se;){var Re=2*(he+1)-1,ke=N[Re],ce=Re+1,Be=N[ce];if(0>i(ke,J))ce<Z&&0>i(Be,ke)?(N[he]=Be,N[ce]=J,he=ce):(N[he]=ke,N[Re]=J,he=Re);else if(ce<Z&&0>i(Be,J))N[he]=Be,N[ce]=J,he=ce;else break e}}return X}function i(N,X){var J=N.sortIndex-X.sortIndex;return J!==0?J:N.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=N)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function M(N){if(g=!1,S(N),!v)if(t(l)!==null)v=!0,K(E);else{var X=t(c);X!==null&&oe(M,X.startTime-N)}}function E(N,X){v=!1,g&&(g=!1,_(C),C=-1),m=!0;var J=p;try{for(S(X),h=t(l);h!==null&&(!(h.expirationTime>X)||N&&!$());){var he=h.callback;if(typeof he=="function"){h.callback=null,p=h.priorityLevel;var Z=he(h.expirationTime<=X);X=n.unstable_now(),typeof Z=="function"?h.callback=Z:h===t(l)&&r(l),S(X)}else r(l);h=t(l)}if(h!==null)var se=!0;else{var Re=t(c);Re!==null&&oe(M,Re.startTime-X),se=!1}return se}finally{h=null,p=J,m=!1}}var P=!1,R=null,C=-1,k=5,D=-1;function $(){return!(n.unstable_now()-D<k)}function le(){if(R!==null){var N=n.unstable_now();D=N;var X=!0;try{X=R(!0,N)}finally{X?Y():(P=!1,R=null)}}else P=!1}var Y;if(typeof b=="function")Y=function(){b(le)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=le,Y=function(){H.postMessage(null)}}else Y=function(){x(le,0)};function K(N){R=N,P||(P=!0,Y())}function oe(N,X){C=x(function(){N(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,K(E))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var J=p;p=X;try{return N()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=p;p=N;try{return X()}finally{p=J}},n.unstable_scheduleCallback=function(N,X,J){var he=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,N){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,N={id:u++,callback:X,priorityLevel:N,startTime:J,expirationTime:Z,sortIndex:-1},J>he?(N.sortIndex=J,e(c,N),t(l)===null&&N===t(c)&&(g?(_(C),C=-1):g=!0,oe(M,J-he))):(N.sortIndex=Z,e(l,N),v||m||(v=!0,K(E))),N},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(N){var X=p;return function(){var J=p;p=X;try{return N.apply(this,arguments)}finally{p=J}}}})(cF);(function(n){n.exports=cF})(Ide);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dde=function(e){var t={},r=L,i=um,s=Object.assign;function o(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),E=Symbol.iterator;function P(d){return d===null||typeof d!="object"?null:(d=E&&d[E]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case g:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case b:return f=d.displayName||null,f!==null?f:R(d.type)||"Memo";case S:f=d._payload,d=d._init;try{return R(d(f))}catch{}}return null}function C(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function k(d){var f=d,y=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,f.flags&4098&&(y=f.return),d=f.return;while(d)}return f.tag===3?y:null}function D(d){if(k(d)!==d)throw Error(o(188))}function $(d){var f=d.alternate;if(!f){if(f=k(d),f===null)throw Error(o(188));return f!==d?null:d}for(var y=d,w=f;;){var T=y.return;if(T===null)break;var A=T.alternate;if(A===null){if(w=T.return,w!==null){y=w;continue}break}if(T.child===A.child){for(A=T.child;A;){if(A===y)return D(T),d;if(A===w)return D(T),f;A=A.sibling}throw Error(o(188))}if(y.return!==w.return)y=T,w=A;else{for(var j=!1,te=T.child;te;){if(te===y){j=!0,y=T,w=A;break}if(te===w){j=!0,w=T,y=A;break}te=te.sibling}if(!j){for(te=A.child;te;){if(te===y){j=!0,y=A,w=T;break}if(te===w){j=!0,w=A,y=T;break}te=te.sibling}if(!j)throw Error(o(189))}}if(y.alternate!==w)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?d:f}function le(d){return d=$(d),d!==null?Y(d):null}function Y(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=Y(d);if(f!==null)return f;d=d.sibling}return null}function I(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var f=I(d);if(f!==null)return f}d=d.sibling}return null}var H=Array.isArray,K=e.getPublicInstance,oe=e.getRootHostContext,N=e.getChildHostContext,X=e.prepareForCommit,J=e.resetAfterCommit,he=e.createInstance,Z=e.appendInitialChild,se=e.finalizeInitialChildren,Re=e.prepareUpdate,ke=e.shouldSetTextContent,ce=e.createTextInstance,Be=e.scheduleTimeout,Ue=e.cancelTimeout,$e=e.noTimeout,Le=e.isPrimaryRenderer,Fe=e.supportsMutation,_e=e.supportsPersistence,ve=e.supportsHydration,De=e.getInstanceFromNode,Ye=e.preparePortalMount,ze=e.getCurrentEventPriority,tt=e.detachDeletedInstance,Qe=e.supportsMicrotasks,Ze=e.scheduleMicrotask,ht=e.supportsTestSelectors,bt=e.findFiberRoot,W=e.getBoundingRect,O=e.getTextContent,V=e.isHiddenSubtree,q=e.matchAccessibilityRole,re=e.setFocusIfFocusable,ge=e.setupIntersectionObserver,Te=e.appendChild,Me=e.appendChildToContainer,ae=e.commitTextUpdate,Ie=e.commitMount,G=e.commitUpdate,fe=e.insertBefore,be=e.insertInContainerBefore,Pe=e.removeChild,Xe=e.removeChildFromContainer,st=e.resetTextContent,Ut=e.hideInstance,Q=e.hideTextInstance,ye=e.unhideInstance,Ae=e.unhideTextInstance,Ve=e.clearContainer,je=e.cloneInstance,lt=e.createContainerChildSet,Kt=e.appendChildToContainerChildSet,Sn=e.finalizeContainerChildren,Lr=e.replaceContainerChildren,Zt=e.cloneHiddenInstance,Ir=e.cloneHiddenTextInstance,zt=e.canHydrateInstance,eo=e.canHydrateTextInstance,Ta=e.canHydrateSuspenseInstance,Ea=e.isSuspenseInstancePending,Ul=e.isSuspenseInstanceFallback,U=e.registerSuspenseInstanceRetry,de=e.getNextHydratableSibling,we=e.getFirstHydratableChild,ue=e.getFirstHydratableChildWithinContainer,Ee=e.getFirstHydratableChildWithinSuspenseInstance,ot=e.hydrateInstance,dt=e.hydrateTextInstance,ft=e.hydrateSuspenseInstance,St=e.getNextHydratableInstanceAfterSuspenseInstance,Rt=e.commitHydratedContainer,At=e.commitHydratedSuspenseInstance,Pt=e.clearSuspenseBoundary,Cn=e.clearSuspenseBoundaryFromContainer,Sr=e.shouldDeleteUnhydratedTailInstances,Yr=e.didNotMatchHydratedContainerTextInstance,ws=e.didNotMatchHydratedTextInstance,an;function gt(d){if(an===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);an=f&&f[1]||""}return`
`+an+d}var Lo=!1;function pn(d,f){if(!d||Lo)return"";Lo=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ne){var w=Ne}Reflect.construct(d,[],f)}else{try{f.call()}catch(Ne){w=Ne}d.call(f.prototype)}else{try{throw Error()}catch(Ne){w=Ne}d()}}catch(Ne){if(Ne&&w&&typeof Ne.stack=="string"){for(var T=Ne.stack.split(`
`),A=w.stack.split(`
`),j=T.length-1,te=A.length-1;1<=j&&0<=te&&T[j]!==A[te];)te--;for(;1<=j&&0<=te;j--,te--)if(T[j]!==A[te]){if(j!==1||te!==1)do if(j--,te--,0>te||T[j]!==A[te]){var Se=`
`+T[j].replace(" at new "," at ");return d.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",d.displayName)),Se}while(1<=j&&0<=te);break}}}finally{Lo=!1,Error.prepareStackTrace=y}return(d=d?d.displayName||d.name:"")?gt(d):""}var Qi=Object.prototype.hasOwnProperty,Ca=[],li=-1;function ci(d){return{current:d}}function vt(d){0>li||(d.current=Ca[li],Ca[li]=null,li--)}function Lt(d,f){li++,Ca[li]=d.current,d.current=f}var ui={},Gt=ci(ui),qn=ci(!1),Ms=ui;function Ts(d,f){var y=d.type.contextTypes;if(!y)return ui;var w=d.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var T={},A;for(A in y)T[A]=f[A];return w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=T),T}function Dr(d){return d=d.childContextTypes,d!=null}function pu(){vt(qn),vt(Gt)}function qm(d,f,y){if(Gt.current!==ui)throw Error(o(168));Lt(Gt,f),Lt(qn,y)}function Ym(d,f,y){var w=d.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return y;w=w.getChildContext();for(var T in w)if(!(T in f))throw Error(o(108,C(d)||"Unknown",T));return s({},y,w)}function Io(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ui,Ms=Gt.current,Lt(Gt,d),Lt(qn,qn.current),!0}function mu(d,f,y){var w=d.stateNode;if(!w)throw Error(o(169));y?(d=Ym(d,f,Ms),w.__reactInternalMemoizedMergedChildContext=d,vt(qn),vt(Gt),Lt(Gt,d)):vt(qn),Lt(qn,y)}var Pi=Math.clz32?Math.clz32:n1,t1=Math.log,Km=Math.LN2;function n1(d){return d>>>=0,d===0?32:31-(t1(d)/Km|0)|0}var gu=64,vu=4194304;function Aa(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function yu(d,f){var y=d.pendingLanes;if(y===0)return 0;var w=0,T=d.suspendedLanes,A=d.pingedLanes,j=y&268435455;if(j!==0){var te=j&~T;te!==0?w=Aa(te):(A&=j,A!==0&&(w=Aa(A)))}else j=y&~T,j!==0?w=Aa(j):A!==0&&(w=Aa(A));if(w===0)return 0;if(f!==0&&f!==w&&!(f&T)&&(T=w&-w,A=f&-f,T>=A||T===16&&(A&4194240)!==0))return f;if(w&4&&(w|=y&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=w;0<f;)y=31-Pi(f),T=1<<y,w|=d[y],f&=~T;return w}function r1(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i1(d,f){for(var y=d.suspendedLanes,w=d.pingedLanes,T=d.expirationTimes,A=d.pendingLanes;0<A;){var j=31-Pi(A),te=1<<j,Se=T[j];Se===-1?(!(te&y)||te&w)&&(T[j]=r1(te,f)):Se<=f&&(d.expiredLanes|=te),A&=~te}}function Vl(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Cf(d){for(var f=[],y=0;31>y;y++)f.push(d);return f}function Hl(d,f,y){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-Pi(f),d[f]=y}function s1(d,f){var y=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var w=d.eventTimes;for(d=d.expirationTimes;0<y;){var T=31-Pi(y),A=1<<T;f[T]=0,w[T]=-1,d[T]=-1,y&=~A}}function Pa(d,f){var y=d.entangledLanes|=f;for(d=d.entanglements;y;){var w=31-Pi(y),T=1<<w;T&f|d[w]&f&&(d[w]|=f),y&=~T}}var It=0;function xu(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var jl=i.unstable_scheduleCallback,Zm=i.unstable_cancelCallback,Jm=i.unstable_shouldYield,Af=i.unstable_requestPaint,jn=i.unstable_now,Es=i.unstable_ImmediatePriority,Wl=i.unstable_UserBlockingPriority,Pf=i.unstable_NormalPriority,Qm=i.unstable_IdlePriority,_u=null,Ri=null;function o1(d){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(_u,d,void 0,(d.current.flags&128)===128)}catch{}}function a1(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var ki=typeof Object.is=="function"?Object.is:a1,Cs=null,B=!1,ee=!1;function me(d){Cs===null?Cs=[d]:Cs.push(d)}function Ke(d){B=!0,me(d)}function mt(){if(!ee&&Cs!==null){ee=!0;var d=0,f=It;try{var y=Cs;for(It=1;d<y.length;d++){var w=y[d];do w=w(!0);while(w!==null)}Cs=null,B=!1}catch(T){throw Cs!==null&&(Cs=Cs.slice(d+1)),jl(Es,mt),T}finally{It=f,ee=!1}}return null}var ln=a.ReactCurrentBatchConfig;function cn(d,f){if(ki(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var y=Object.keys(d),w=Object.keys(f);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var T=y[w];if(!Qi.call(f,T)||!ki(d[T],f[T]))return!1}return!0}function kt(d){switch(d.tag){case 5:return gt(d.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 2:case 15:return d=pn(d.type,!1),d;case 11:return d=pn(d.type.render,!1),d;case 1:return d=pn(d.type,!0),d;default:return""}}function Dt(d,f){if(d&&d.defaultProps){f=s({},f),d=d.defaultProps;for(var y in d)f[y]===void 0&&(f[y]=d[y]);return f}return f}var wr=ci(null),dr=null,es=null,Gl=null;function $l(){Gl=es=dr=null}function Rf(d,f,y){Le?(Lt(wr,f._currentValue),f._currentValue=y):(Lt(wr,f._currentValue2),f._currentValue2=y)}function l1(d){var f=wr.current;vt(wr),Le?d._currentValue=f:d._currentValue2=f}function c1(d,f,y){for(;d!==null;){var w=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),d===y)break;d=d.return}}function bu(d,f){dr=d,Gl=es=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&f&&(Di=!0),d.firstContext=null)}function ts(d){var f=Le?d._currentValue:d._currentValue2;if(Gl!==d)if(d={context:d,memoizedValue:f,next:null},es===null){if(dr===null)throw Error(o(308));es=d,dr.dependencies={lanes:0,firstContext:d}}else es=es.next=d;return f}var to=null,Ra=!1;function u1(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TE(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Do(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function ka(d,f){var y=d.updateQueue;y!==null&&(y=y.shared,Yn!==null&&d.mode&1&&!(Ct&2)?(d=y.interleaved,d===null?(f.next=f,to===null?to=[y]:to.push(y)):(f.next=d.next,d.next=f),y.interleaved=f):(d=y.pending,d===null?f.next=f:(f.next=d.next,d.next=f),y.pending=f))}function eg(d,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var w=f.lanes;w&=d.pendingLanes,y|=w,f.lanes=y,Pa(d,y)}}function EE(d,f){var y=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var T=null,A=null;if(y=y.firstBaseUpdate,y!==null){do{var j={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};A===null?T=A=j:A=A.next=j,y=y.next}while(y!==null);A===null?T=A=f:A=A.next=f}else T=A=f;y={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:A,shared:w.shared,effects:w.effects},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=f:d.next=f,y.lastBaseUpdate=f}function tg(d,f,y,w){var T=d.updateQueue;Ra=!1;var A=T.firstBaseUpdate,j=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var Se=te,Ne=Se.next;Se.next=null,j===null?A=Ne:j.next=Ne,j=Se;var et=d.alternate;et!==null&&(et=et.updateQueue,te=et.lastBaseUpdate,te!==j&&(te===null?et.firstBaseUpdate=Ne:te.next=Ne,et.lastBaseUpdate=Se))}if(A!==null){var yt=T.baseState;j=0,et=Ne=Se=null,te=A;do{var ct=te.lane,mn=te.eventTime;if((w&ct)===ct){et!==null&&(et=et.next={eventTime:mn,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var it=d,Fr=te;switch(ct=f,mn=y,Fr.tag){case 1:if(it=Fr.payload,typeof it=="function"){yt=it.call(mn,yt,ct);break e}yt=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=Fr.payload,ct=typeof it=="function"?it.call(mn,yt,ct):it,ct==null)break e;yt=s({},yt,ct);break e;case 2:Ra=!0}}te.callback!==null&&te.lane!==0&&(d.flags|=64,ct=T.effects,ct===null?T.effects=[te]:ct.push(te))}else mn={eventTime:mn,lane:ct,tag:te.tag,payload:te.payload,callback:te.callback,next:null},et===null?(Ne=et=mn,Se=yt):et=et.next=mn,j|=ct;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;ct=te,te=ct.next,ct.next=null,T.lastBaseUpdate=ct,T.shared.pending=null}}while(1);if(et===null&&(Se=yt),T.baseState=Se,T.firstBaseUpdate=Ne,T.lastBaseUpdate=et,f=T.shared.interleaved,f!==null){T=f;do j|=T.lane,T=T.next;while(T!==f)}else A===null&&(T.shared.lanes=0);Ru|=j,d.lanes=j,d.memoizedState=yt}}function CE(d,f,y){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var w=d[f],T=w.callback;if(T!==null){if(w.callback=null,w=y,typeof T!="function")throw Error(o(191,T));T.call(w)}}}var AE=new r.Component().refs;function d1(d,f,y,w){f=d.memoizedState,y=y(w,f),y=y==null?f:s({},f,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var ng={isMounted:function(d){return(d=d._reactInternals)?k(d)===d:!1},enqueueSetState:function(d,f,y){d=d._reactInternals;var w=Zr(),T=Da(d),A=Do(w,T);A.payload=f,y!=null&&(A.callback=y),ka(d,A),f=os(d,T,w),f!==null&&eg(f,d,T)},enqueueReplaceState:function(d,f,y){d=d._reactInternals;var w=Zr(),T=Da(d),A=Do(w,T);A.tag=1,A.payload=f,y!=null&&(A.callback=y),ka(d,A),f=os(d,T,w),f!==null&&eg(f,d,T)},enqueueForceUpdate:function(d,f){d=d._reactInternals;var y=Zr(),w=Da(d),T=Do(y,w);T.tag=2,f!=null&&(T.callback=f),ka(d,T),f=os(d,w,y),f!==null&&eg(f,d,w)}};function PE(d,f,y,w,T,A,j){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,A,j):f.prototype&&f.prototype.isPureReactComponent?!cn(y,w)||!cn(T,A):!0}function RE(d,f,y){var w=!1,T=ui,A=f.contextType;return typeof A=="object"&&A!==null?A=ts(A):(T=Dr(f)?Ms:Gt.current,w=f.contextTypes,A=(w=w!=null)?Ts(d,T):ui),f=new f(y,A),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ng,d.stateNode=f,f._reactInternals=d,w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=T,d.__reactInternalMemoizedMaskedChildContext=A),f}function kE(d,f,y,w){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,w),f.state!==d&&ng.enqueueReplaceState(f,f.state,null)}function f1(d,f,y,w){var T=d.stateNode;T.props=y,T.state=d.memoizedState,T.refs=AE,u1(d);var A=f.contextType;typeof A=="object"&&A!==null?T.context=ts(A):(A=Dr(f)?Ms:Gt.current,T.context=Ts(d,A)),T.state=d.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(d1(d,f,A,y),T.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(f=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),f!==T.state&&ng.enqueueReplaceState(T,T.state,null),tg(d,y,T,w),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308)}var Su=[],wu=0,rg=null,ig=0,ns=[],rs=0,Xl=null,Oo=1,No="";function ql(d,f){Su[wu++]=ig,Su[wu++]=rg,rg=d,ig=f}function LE(d,f,y){ns[rs++]=Oo,ns[rs++]=No,ns[rs++]=Xl,Xl=d;var w=Oo;d=No;var T=32-Pi(w)-1;w&=~(1<<T),y+=1;var A=32-Pi(f)+T;if(30<A){var j=T-T%5;A=(w&(1<<j)-1).toString(32),w>>=j,T-=j,Oo=1<<32-Pi(f)+T|y<<T|w,No=A+d}else Oo=1<<A|y<<T|w,No=d}function h1(d){d.return!==null&&(ql(d,1),LE(d,1,0))}function p1(d){for(;d===rg;)rg=Su[--wu],Su[wu]=null,ig=Su[--wu],Su[wu]=null;for(;d===Xl;)Xl=ns[--rs],ns[rs]=null,No=ns[--rs],ns[rs]=null,Oo=ns[--rs],ns[rs]=null}var Li=null,Ii=null,An=!1,kf=!1,As=null;function IE(d,f){var y=as(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=d,f=d.deletions,f===null?(d.deletions=[y],d.flags|=16):f.push(y)}function DE(d,f){switch(d.tag){case 5:return f=zt(f,d.type,d.pendingProps),f!==null?(d.stateNode=f,Li=d,Ii=we(f),!0):!1;case 6:return f=eo(f,d.pendingProps),f!==null?(d.stateNode=f,Li=d,Ii=null,!0):!1;case 13:if(f=Ta(f),f!==null){var y=Xl!==null?{id:Oo,overflow:No}:null;return d.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=as(18,null,null,0),y.stateNode=f,y.return=d,d.child=y,Li=d,Ii=null,!0}return!1;default:return!1}}function m1(d){return(d.mode&1)!==0&&(d.flags&128)===0}function g1(d){if(An){var f=Ii;if(f){var y=f;if(!DE(d,f)){if(m1(d))throw Error(o(418));f=de(y);var w=Li;f&&DE(d,f)?IE(w,y):(d.flags=d.flags&-4097|2,An=!1,Li=d)}}else{if(m1(d))throw Error(o(418));d.flags=d.flags&-4097|2,An=!1,Li=d}}}function OE(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Li=d}function Lf(d){if(!ve||d!==Li)return!1;if(!An)return OE(d),An=!0,!1;if(d.tag!==3&&(d.tag!==5||Sr(d.type)&&!ke(d.type,d.memoizedProps))){var f=Ii;if(f){if(m1(d)){for(d=Ii;d;)d=de(d);throw Error(o(418))}for(;f;)IE(d,f),f=de(f)}}if(OE(d),d.tag===13){if(!ve)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Ii=St(d)}else Ii=Li?de(d.stateNode):null;return!0}function Mu(){ve&&(Ii=Li=null,kf=An=!1)}function v1(d){As===null?As=[d]:As.push(d)}function If(d,f,y){if(d=y.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var w=y.stateNode}if(!w)throw Error(o(147,d));var T=w,A=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===A?f.ref:(f=function(j){var te=T.refs;te===AE&&(te=T.refs={}),j===null?delete te[A]:te[A]=j},f._stringRef=A,f)}if(typeof d!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,d))}return d}function sg(d,f){throw d=Object.prototype.toString.call(f),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function NE(d){var f=d._init;return f(d._payload)}function zE(d){function f(pe,ie){if(d){var xe=pe.deletions;xe===null?(pe.deletions=[ie],pe.flags|=16):xe.push(ie)}}function y(pe,ie){if(!d)return null;for(;ie!==null;)f(pe,ie),ie=ie.sibling;return null}function w(pe,ie){for(pe=new Map;ie!==null;)ie.key!==null?pe.set(ie.key,ie):pe.set(ie.index,ie),ie=ie.sibling;return pe}function T(pe,ie){return pe=Na(pe,ie),pe.index=0,pe.sibling=null,pe}function A(pe,ie,xe){return pe.index=xe,d?(xe=pe.alternate,xe!==null?(xe=xe.index,xe<ie?(pe.flags|=2,ie):xe):(pe.flags|=2,ie)):(pe.flags|=1048576,ie)}function j(pe){return d&&pe.alternate===null&&(pe.flags|=2),pe}function te(pe,ie,xe,qe){return ie===null||ie.tag!==6?(ie=e_(xe,pe.mode,qe),ie.return=pe,ie):(ie=T(ie,xe),ie.return=pe,ie)}function Se(pe,ie,xe,qe){var rt=xe.type;return rt===u?et(pe,ie,xe.props.children,qe,xe.key):ie!==null&&(ie.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&NE(rt)===ie.type)?(qe=T(ie,xe.props),qe.ref=If(pe,ie,xe),qe.return=pe,qe):(qe=Ng(xe.type,xe.key,xe.props,null,pe.mode,qe),qe.ref=If(pe,ie,xe),qe.return=pe,qe)}function Ne(pe,ie,xe,qe){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==xe.containerInfo||ie.stateNode.implementation!==xe.implementation?(ie=t_(xe,pe.mode,qe),ie.return=pe,ie):(ie=T(ie,xe.children||[]),ie.return=pe,ie)}function et(pe,ie,xe,qe,rt){return ie===null||ie.tag!==7?(ie=tc(xe,pe.mode,qe,rt),ie.return=pe,ie):(ie=T(ie,xe),ie.return=pe,ie)}function yt(pe,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=e_(""+ie,pe.mode,xe),ie.return=pe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return xe=Ng(ie.type,ie.key,ie.props,null,pe.mode,xe),xe.ref=If(pe,null,ie),xe.return=pe,xe;case c:return ie=t_(ie,pe.mode,xe),ie.return=pe,ie;case S:var qe=ie._init;return yt(pe,qe(ie._payload),xe)}if(H(ie)||P(ie))return ie=tc(ie,pe.mode,xe,null),ie.return=pe,ie;sg(pe,ie)}return null}function ct(pe,ie,xe,qe){var rt=ie!==null?ie.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return rt!==null?null:te(pe,ie,""+xe,qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return xe.key===rt?Se(pe,ie,xe,qe):null;case c:return xe.key===rt?Ne(pe,ie,xe,qe):null;case S:return rt=xe._init,ct(pe,ie,rt(xe._payload),qe)}if(H(xe)||P(xe))return rt!==null?null:et(pe,ie,xe,qe,null);sg(pe,xe)}return null}function mn(pe,ie,xe,qe,rt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return pe=pe.get(xe)||null,te(ie,pe,""+qe,rt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return pe=pe.get(qe.key===null?xe:qe.key)||null,Se(ie,pe,qe,rt);case c:return pe=pe.get(qe.key===null?xe:qe.key)||null,Ne(ie,pe,qe,rt);case S:var Mt=qe._init;return mn(pe,ie,xe,Mt(qe._payload),rt)}if(H(qe)||P(qe))return pe=pe.get(xe)||null,et(ie,pe,qe,rt,null);sg(ie,qe)}return null}function it(pe,ie,xe,qe){for(var rt=null,Mt=null,xt=ie,$t=ie=0,hr=null;xt!==null&&$t<xe.length;$t++){xt.index>$t?(hr=xt,xt=null):hr=xt.sibling;var Xt=ct(pe,xt,xe[$t],qe);if(Xt===null){xt===null&&(xt=hr);break}d&&xt&&Xt.alternate===null&&f(pe,xt),ie=A(Xt,ie,$t),Mt===null?rt=Xt:Mt.sibling=Xt,Mt=Xt,xt=hr}if($t===xe.length)return y(pe,xt),An&&ql(pe,$t),rt;if(xt===null){for(;$t<xe.length;$t++)xt=yt(pe,xe[$t],qe),xt!==null&&(ie=A(xt,ie,$t),Mt===null?rt=xt:Mt.sibling=xt,Mt=xt);return An&&ql(pe,$t),rt}for(xt=w(pe,xt);$t<xe.length;$t++)hr=mn(xt,pe,$t,xe[$t],qe),hr!==null&&(d&&hr.alternate!==null&&xt.delete(hr.key===null?$t:hr.key),ie=A(hr,ie,$t),Mt===null?rt=hr:Mt.sibling=hr,Mt=hr);return d&&xt.forEach(function(za){return f(pe,za)}),An&&ql(pe,$t),rt}function Fr(pe,ie,xe,qe){var rt=P(xe);if(typeof rt!="function")throw Error(o(150));if(xe=rt.call(xe),xe==null)throw Error(o(151));for(var Mt=rt=null,xt=ie,$t=ie=0,hr=null,Xt=xe.next();xt!==null&&!Xt.done;$t++,Xt=xe.next()){xt.index>$t?(hr=xt,xt=null):hr=xt.sibling;var za=ct(pe,xt,Xt.value,qe);if(za===null){xt===null&&(xt=hr);break}d&&xt&&za.alternate===null&&f(pe,xt),ie=A(za,ie,$t),Mt===null?rt=za:Mt.sibling=za,Mt=za,xt=hr}if(Xt.done)return y(pe,xt),An&&ql(pe,$t),rt;if(xt===null){for(;!Xt.done;$t++,Xt=xe.next())Xt=yt(pe,Xt.value,qe),Xt!==null&&(ie=A(Xt,ie,$t),Mt===null?rt=Xt:Mt.sibling=Xt,Mt=Xt);return An&&ql(pe,$t),rt}for(xt=w(pe,xt);!Xt.done;$t++,Xt=xe.next())Xt=mn(xt,pe,$t,Xt.value,qe),Xt!==null&&(d&&Xt.alternate!==null&&xt.delete(Xt.key===null?$t:Xt.key),ie=A(Xt,ie,$t),Mt===null?rt=Xt:Mt.sibling=Xt,Mt=Xt);return d&&xt.forEach(function(a6){return f(pe,a6)}),An&&ql(pe,$t),rt}function ls(pe,ie,xe,qe){if(typeof xe=="object"&&xe!==null&&xe.type===u&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:e:{for(var rt=xe.key,Mt=ie;Mt!==null;){if(Mt.key===rt){if(rt=xe.type,rt===u){if(Mt.tag===7){y(pe,Mt.sibling),ie=T(Mt,xe.props.children),ie.return=pe,pe=ie;break e}}else if(Mt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&NE(rt)===Mt.type){y(pe,Mt.sibling),ie=T(Mt,xe.props),ie.ref=If(pe,Mt,xe),ie.return=pe,pe=ie;break e}y(pe,Mt);break}else f(pe,Mt);Mt=Mt.sibling}xe.type===u?(ie=tc(xe.props.children,pe.mode,qe,xe.key),ie.return=pe,pe=ie):(qe=Ng(xe.type,xe.key,xe.props,null,pe.mode,qe),qe.ref=If(pe,ie,xe),qe.return=pe,pe=qe)}return j(pe);case c:e:{for(Mt=xe.key;ie!==null;){if(ie.key===Mt)if(ie.tag===4&&ie.stateNode.containerInfo===xe.containerInfo&&ie.stateNode.implementation===xe.implementation){y(pe,ie.sibling),ie=T(ie,xe.children||[]),ie.return=pe,pe=ie;break e}else{y(pe,ie);break}else f(pe,ie);ie=ie.sibling}ie=t_(xe,pe.mode,qe),ie.return=pe,pe=ie}return j(pe);case S:return Mt=xe._init,ls(pe,ie,Mt(xe._payload),qe)}if(H(xe))return it(pe,ie,xe,qe);if(P(xe))return Fr(pe,ie,xe,qe);sg(pe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,ie!==null&&ie.tag===6?(y(pe,ie.sibling),ie=T(ie,xe),ie.return=pe,pe=ie):(y(pe,ie),ie=e_(xe,pe.mode,qe),ie.return=pe,pe=ie),j(pe)):y(pe,ie)}return ls}var Tu=zE(!0),FE=zE(!1),Df={},is=ci(Df),Of=ci(Df),Eu=ci(Df);function no(d){if(d===Df)throw Error(o(174));return d}function y1(d,f){Lt(Eu,f),Lt(Of,d),Lt(is,Df),d=oe(f),vt(is),Lt(is,d)}function Cu(){vt(is),vt(Of),vt(Eu)}function BE(d){var f=no(Eu.current),y=no(is.current);f=N(y,d.type,f),y!==f&&(Lt(Of,d),Lt(is,f))}function x1(d){Of.current===d&&(vt(is),vt(Of))}var kn=ci(0);function og(d){for(var f=d;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Ea(y)||Ul(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var _1=[];function b1(){for(var d=0;d<_1.length;d++){var f=_1[d];Le?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}_1.length=0}var ag=a.ReactCurrentDispatcher,ss=a.ReactCurrentBatchConfig,Au=0,Fn=null,Or=null,fr=null,lg=!1,Nf=!1,zf=0,LF=0;function Nr(){throw Error(o(321))}function S1(d,f){if(f===null)return!1;for(var y=0;y<f.length&&y<d.length;y++)if(!ki(d[y],f[y]))return!1;return!0}function w1(d,f,y,w,T,A){if(Au=A,Fn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ag.current=d===null||d.memoizedState===null?NF:zF,d=y(w,T),Nf){A=0;do{if(Nf=!1,zf=0,25<=A)throw Error(o(301));A+=1,fr=Or=null,f.updateQueue=null,ag.current=FF,d=y(w,T)}while(Nf)}if(ag.current=hg,f=Or!==null&&Or.next!==null,Au=0,fr=Or=Fn=null,lg=!1,f)throw Error(o(300));return d}function M1(){var d=zf!==0;return zf=0,d}function zo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Fn.memoizedState=fr=d:fr=fr.next=d,fr}function ro(){if(Or===null){var d=Fn.alternate;d=d!==null?d.memoizedState:null}else d=Or.next;var f=fr===null?Fn.memoizedState:fr.next;if(f!==null)fr=f,Or=d;else{if(d===null)throw Error(o(310));Or=d,d={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},fr===null?Fn.memoizedState=fr=d:fr=fr.next=d}return fr}function Yl(d,f){return typeof f=="function"?f(d):f}function cg(d){var f=ro(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=d;var w=Or,T=w.baseQueue,A=y.pending;if(A!==null){if(T!==null){var j=T.next;T.next=A.next,A.next=j}w.baseQueue=T=A,y.pending=null}if(T!==null){A=T.next,w=w.baseState;var te=j=null,Se=null,Ne=A;do{var et=Ne.lane;if((Au&et)===et)Se!==null&&(Se=Se.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),w=Ne.hasEagerState?Ne.eagerState:d(w,Ne.action);else{var yt={lane:et,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};Se===null?(te=Se=yt,j=w):Se=Se.next=yt,Fn.lanes|=et,Ru|=et}Ne=Ne.next}while(Ne!==null&&Ne!==A);Se===null?j=w:Se.next=te,ki(w,f.memoizedState)||(Di=!0),f.memoizedState=w,f.baseState=j,f.baseQueue=Se,y.lastRenderedState=w}if(d=y.interleaved,d!==null){T=d;do A=T.lane,Fn.lanes|=A,Ru|=A,T=T.next;while(T!==d)}else T===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function ug(d){var f=ro(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=d;var w=y.dispatch,T=y.pending,A=f.memoizedState;if(T!==null){y.pending=null;var j=T=T.next;do A=d(A,j.action),j=j.next;while(j!==T);ki(A,f.memoizedState)||(Di=!0),f.memoizedState=A,f.baseQueue===null&&(f.baseState=A),y.lastRenderedState=A}return[A,w]}function UE(){}function VE(d,f){var y=Fn,w=ro(),T=f(),A=!ki(w.memoizedState,T);if(A&&(w.memoizedState=T,Di=!0),w=w.queue,Bf(WE.bind(null,y,w,d),[d]),w.getSnapshot!==f||A||fr!==null&&fr.memoizedState.tag&1){if(y.flags|=2048,Ff(9,jE.bind(null,y,w,T,f),void 0,null),Yn===null)throw Error(o(349));Au&30||HE(y,f,T)}return T}function HE(d,f,y){d.flags|=16384,d={getSnapshot:f,value:y},f=Fn.updateQueue,f===null?(f={lastEffect:null,stores:null},Fn.updateQueue=f,f.stores=[d]):(y=f.stores,y===null?f.stores=[d]:y.push(d))}function jE(d,f,y,w){f.value=y,f.getSnapshot=w,GE(f)&&os(d,1,-1)}function WE(d,f,y){return y(function(){GE(f)&&os(d,1,-1)})}function GE(d){var f=d.getSnapshot;d=d.value;try{var y=f();return!ki(d,y)}catch{return!0}}function T1(d){var f=zo();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:d},f.queue=d,d=d.dispatch=OF.bind(null,Fn,d),[f.memoizedState,d]}function Ff(d,f,y,w){return d={tag:d,create:f,destroy:y,deps:w,next:null},f=Fn.updateQueue,f===null?(f={lastEffect:null,stores:null},Fn.updateQueue=f,f.lastEffect=d.next=d):(y=f.lastEffect,y===null?f.lastEffect=d.next=d:(w=y.next,y.next=d,d.next=w,f.lastEffect=d)),d}function $E(){return ro().memoizedState}function dg(d,f,y,w){var T=zo();Fn.flags|=d,T.memoizedState=Ff(1|f,y,void 0,w===void 0?null:w)}function fg(d,f,y,w){var T=ro();w=w===void 0?null:w;var A=void 0;if(Or!==null){var j=Or.memoizedState;if(A=j.destroy,w!==null&&S1(w,j.deps)){T.memoizedState=Ff(f,y,A,w);return}}Fn.flags|=d,T.memoizedState=Ff(1|f,y,A,w)}function E1(d,f){return dg(8390656,8,d,f)}function Bf(d,f){return fg(2048,8,d,f)}function XE(d,f){return fg(4,2,d,f)}function qE(d,f){return fg(4,4,d,f)}function YE(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function KE(d,f,y){return y=y!=null?y.concat([d]):null,fg(4,4,YE.bind(null,f,d),y)}function C1(){}function ZE(d,f){var y=ro();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&S1(f,w[1])?w[0]:(y.memoizedState=[d,f],d)}function JE(d,f){var y=ro();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&S1(f,w[1])?w[0]:(d=d(),y.memoizedState=[d,f],d)}function IF(d,f){var y=It;It=y!==0&&4>y?y:4,d(!0);var w=ss.transition;ss.transition={};try{d(!1),f()}finally{It=y,ss.transition=w}}function QE(){return ro().memoizedState}function DF(d,f,y){var w=Da(d);y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},eC(d)?tC(f,y):(nC(d,f,y),y=Zr(),d=os(d,w,y),d!==null&&rC(d,f,w))}function OF(d,f,y){var w=Da(d),T={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(eC(d))tC(f,T);else{nC(d,f,T);var A=d.alternate;if(d.lanes===0&&(A===null||A.lanes===0)&&(A=f.lastRenderedReducer,A!==null))try{var j=f.lastRenderedState,te=A(j,y);if(T.hasEagerState=!0,T.eagerState=te,ki(te,j))return}catch{}finally{}y=Zr(),d=os(d,w,y),d!==null&&rC(d,f,w)}}function eC(d){var f=d.alternate;return d===Fn||f!==null&&f===Fn}function tC(d,f){Nf=lg=!0;var y=d.pending;y===null?f.next=f:(f.next=y.next,y.next=f),d.pending=f}function nC(d,f,y){Yn!==null&&d.mode&1&&!(Ct&2)?(d=f.interleaved,d===null?(y.next=y,to===null?to=[f]:to.push(f)):(y.next=d.next,d.next=y),f.interleaved=y):(d=f.pending,d===null?y.next=y:(y.next=d.next,d.next=y),f.pending=y)}function rC(d,f,y){if(y&4194240){var w=f.lanes;w&=d.pendingLanes,y|=w,f.lanes=y,Pa(d,y)}}var hg={readContext:ts,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},NF={readContext:ts,useCallback:function(d,f){return zo().memoizedState=[d,f===void 0?null:f],d},useContext:ts,useEffect:E1,useImperativeHandle:function(d,f,y){return y=y!=null?y.concat([d]):null,dg(4194308,4,YE.bind(null,f,d),y)},useLayoutEffect:function(d,f){return dg(4194308,4,d,f)},useInsertionEffect:function(d,f){return dg(4,2,d,f)},useMemo:function(d,f){var y=zo();return f=f===void 0?null:f,d=d(),y.memoizedState=[d,f],d},useReducer:function(d,f,y){var w=zo();return f=y!==void 0?y(f):f,w.memoizedState=w.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},w.queue=d,d=d.dispatch=DF.bind(null,Fn,d),[w.memoizedState,d]},useRef:function(d){var f=zo();return d={current:d},f.memoizedState=d},useState:T1,useDebugValue:C1,useDeferredValue:function(d){var f=T1(d),y=f[0],w=f[1];return E1(function(){var T=ss.transition;ss.transition={};try{w(d)}finally{ss.transition=T}},[d]),y},useTransition:function(){var d=T1(!1),f=d[0];return d=IF.bind(null,d[1]),zo().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,y){var w=Fn,T=zo();if(An){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),Yn===null)throw Error(o(349));Au&30||HE(w,f,y)}T.memoizedState=y;var A={value:y,getSnapshot:f};return T.queue=A,E1(WE.bind(null,w,A,d),[d]),w.flags|=2048,Ff(9,jE.bind(null,w,A,y,f),void 0,null),y},useId:function(){var d=zo(),f=Yn.identifierPrefix;if(An){var y=No,w=Oo;y=(w&~(1<<32-Pi(w)-1)).toString(32)+y,f=":"+f+"R"+y,y=zf++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=LF++,f=":"+f+"r"+y.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},zF={readContext:ts,useCallback:ZE,useContext:ts,useEffect:Bf,useImperativeHandle:KE,useInsertionEffect:XE,useLayoutEffect:qE,useMemo:JE,useReducer:cg,useRef:$E,useState:function(){return cg(Yl)},useDebugValue:C1,useDeferredValue:function(d){var f=cg(Yl),y=f[0],w=f[1];return Bf(function(){var T=ss.transition;ss.transition={};try{w(d)}finally{ss.transition=T}},[d]),y},useTransition:function(){var d=cg(Yl)[0],f=ro().memoizedState;return[d,f]},useMutableSource:UE,useSyncExternalStore:VE,useId:QE,unstable_isNewReconciler:!1},FF={readContext:ts,useCallback:ZE,useContext:ts,useEffect:Bf,useImperativeHandle:KE,useInsertionEffect:XE,useLayoutEffect:qE,useMemo:JE,useReducer:ug,useRef:$E,useState:function(){return ug(Yl)},useDebugValue:C1,useDeferredValue:function(d){var f=ug(Yl),y=f[0],w=f[1];return Bf(function(){var T=ss.transition;ss.transition={};try{w(d)}finally{ss.transition=T}},[d]),y},useTransition:function(){var d=ug(Yl)[0],f=ro().memoizedState;return[d,f]},useMutableSource:UE,useSyncExternalStore:VE,useId:QE,unstable_isNewReconciler:!1};function A1(d,f){try{var y="",w=f;do y+=kt(w),w=w.return;while(w);var T=y}catch(A){T=`
Error generating stack: `+A.message+`
`+A.stack}return{value:d,source:f,stack:T}}function P1(d,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var BF=typeof WeakMap=="function"?WeakMap:Map;function iC(d,f,y){y=Do(-1,y),y.tag=3,y.payload={element:null};var w=f.value;return y.callback=function(){Pg||(Pg=!0,X1=w),P1(d,f)},y}function sC(d,f,y){y=Do(-1,y),y.tag=3;var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var T=f.value;y.payload=function(){return w(T)},y.callback=function(){P1(d,f)}}var A=d.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(y.callback=function(){P1(d,f),typeof w!="function"&&(La===null?La=new Set([this]):La.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})}),y}function oC(d,f,y){var w=d.pingCache;if(w===null){w=d.pingCache=new BF;var T=new Set;w.set(f,T)}else T=w.get(f),T===void 0&&(T=new Set,w.set(f,T));T.has(y)||(T.add(y),d=QF.bind(null,d,f,y),f.then(d,d))}function aC(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function lC(d,f,y,w,T){return d.mode&1?(d.flags|=65536,d.lanes=T,d):(d===f?d.flags|=65536:(d.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Do(-1,1),f.tag=2,ka(y,f))),y.lanes|=1),d)}function io(d){d.flags|=4}function cC(d,f){if(d!==null&&d.child===f.child)return!0;if(f.flags&16)return!1;for(d=f.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Uf,Vf,pg,mg;if(Fe)Uf=function(d,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)Z(d,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Vf=function(){},pg=function(d,f,y,w,T){if(d=d.memoizedProps,d!==w){var A=f.stateNode,j=no(is.current);y=Re(A,y,d,w,T,j),(f.updateQueue=y)&&io(f)}},mg=function(d,f,y,w){y!==w&&io(f)};else if(_e){Uf=function(d,f,y,w){for(var T=f.child;T!==null;){if(T.tag===5){var A=T.stateNode;y&&w&&(A=Zt(A,T.type,T.memoizedProps,T)),Z(d,A)}else if(T.tag===6)A=T.stateNode,y&&w&&(A=Ir(A,T.memoizedProps,T)),Z(d,A);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)A=T.child,A!==null&&(A.return=T),Uf(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var uC=function(d,f,y,w){for(var T=f.child;T!==null;){if(T.tag===5){var A=T.stateNode;y&&w&&(A=Zt(A,T.type,T.memoizedProps,T)),Kt(d,A)}else if(T.tag===6)A=T.stateNode,y&&w&&(A=Ir(A,T.memoizedProps,T)),Kt(d,A);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)A=T.child,A!==null&&(A.return=T),uC(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};Vf=function(d,f){var y=f.stateNode;if(!cC(d,f)){d=y.containerInfo;var w=lt(d);uC(w,f,!1,!1),y.pendingChildren=w,io(f),Sn(d,w)}},pg=function(d,f,y,w,T){var A=d.stateNode,j=d.memoizedProps;if((d=cC(d,f))&&j===w)f.stateNode=A;else{var te=f.stateNode,Se=no(is.current),Ne=null;j!==w&&(Ne=Re(te,y,j,w,T,Se)),d&&Ne===null?f.stateNode=A:(A=je(A,Ne,y,j,w,f,d,te),se(A,y,w,T,Se)&&io(f),f.stateNode=A,d?io(f):Uf(A,f,!1,!1))}},mg=function(d,f,y,w){y!==w?(d=no(Eu.current),y=no(is.current),f.stateNode=ce(w,d,y,f),io(f)):f.stateNode=d.stateNode}}else Vf=function(){},pg=function(){},mg=function(){};function Hf(d,f){if(!An)switch(d.tailMode){case"hidden":f=d.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function zr(d){var f=d.alternate!==null&&d.alternate.child===d.child,y=0,w=0;if(f)for(var T=d.child;T!==null;)y|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)y|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=w,d.childLanes=y,f}function UF(d,f,y){var w=f.pendingProps;switch(p1(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(f),null;case 1:return Dr(f.type)&&pu(),zr(f),null;case 3:return w=f.stateNode,Cu(),vt(qn),vt(Gt),b1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(d===null||d.child===null)&&(Lf(f)?io(f):d===null||d.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,As!==null&&(K1(As),As=null))),Vf(d,f),zr(f),null;case 5:x1(f),y=no(Eu.current);var T=f.type;if(d!==null&&f.stateNode!=null)pg(d,f,T,w,y),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return zr(f),null}if(d=no(is.current),Lf(f)){if(!ve)throw Error(o(175));d=ot(f.stateNode,f.type,f.memoizedProps,y,d,f,!kf),f.updateQueue=d,d!==null&&io(f)}else{var A=he(T,w,y,d,f);Uf(A,f,!1,!1),f.stateNode=A,se(A,T,w,y,d)&&io(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return zr(f),null;case 6:if(d&&f.stateNode!=null)mg(d,f,d.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(d=no(Eu.current),y=no(is.current),Lf(f)){if(!ve)throw Error(o(176));if(d=f.stateNode,w=f.memoizedProps,(y=dt(d,w,f,!kf))&&(T=Li,T!==null))switch(A=(T.mode&1)!==0,T.tag){case 3:Yr(T.stateNode.containerInfo,d,w,A);break;case 5:ws(T.type,T.memoizedProps,T.stateNode,d,w,A)}y&&io(f)}else f.stateNode=ce(w,d,y,f)}return zr(f),null;case 13:if(vt(kn),w=f.memoizedState,An&&Ii!==null&&f.mode&1&&!(f.flags&128)){for(d=Ii;d;)d=de(d);return Mu(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=Lf(f),d===null){if(!w)throw Error(o(318));if(!ve)throw Error(o(344));if(d=f.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ft(d,f)}else Mu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return zr(f),null}return As!==null&&(K1(As),As=null),f.flags&128?(f.lanes=y,f):(w=w!==null,y=!1,d===null?Lf(f):y=d.memoizedState!==null,w&&!y&&(f.child.flags|=8192,f.mode&1&&(d===null||kn.current&1?nr===0&&(nr=3):J1())),f.updateQueue!==null&&(f.flags|=4),zr(f),null);case 4:return Cu(),Vf(d,f),d===null&&Ye(f.stateNode.containerInfo),zr(f),null;case 10:return l1(f.type._context),zr(f),null;case 17:return Dr(f.type)&&pu(),zr(f),null;case 19:if(vt(kn),T=f.memoizedState,T===null)return zr(f),null;if(w=(f.flags&128)!==0,A=T.rendering,A===null)if(w)Hf(T,!1);else{if(nr!==0||d!==null&&d.flags&128)for(d=f.child;d!==null;){if(A=og(d),A!==null){for(f.flags|=128,Hf(T,!1),d=A.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),f.subtreeFlags=0,d=y,w=f.child;w!==null;)y=w,T=d,y.flags&=14680066,A=y.alternate,A===null?(y.childLanes=0,y.lanes=T,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,y.type=A.type,T=A.dependencies,y.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),w=w.sibling;return Lt(kn,kn.current&1|2),f.child}d=d.sibling}T.tail!==null&&jn()>$1&&(f.flags|=128,w=!0,Hf(T,!1),f.lanes=4194304)}else{if(!w)if(d=og(A),d!==null){if(f.flags|=128,w=!0,d=d.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),Hf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!A.alternate&&!An)return zr(f),null}else 2*jn()-T.renderingStartTime>$1&&y!==1073741824&&(f.flags|=128,w=!0,Hf(T,!1),f.lanes=4194304);T.isBackwards?(A.sibling=f.child,f.child=A):(d=T.last,d!==null?d.sibling=A:f.child=A,T.last=A)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=jn(),f.sibling=null,d=kn.current,Lt(kn,w?d&1|2:d&1),f):(zr(f),null);case 22:case 23:return Z1(),w=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Oi&1073741824&&(zr(f),Fe&&f.subtreeFlags&6&&(f.flags|=8192)):zr(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var VF=a.ReactCurrentOwner,Di=!1;function Kr(d,f,y,w){f.child=d===null?FE(f,null,y,w):Tu(f,d.child,y,w)}function dC(d,f,y,w,T){y=y.render;var A=f.ref;return bu(f,T),w=w1(d,f,y,w,A,T),y=M1(),d!==null&&!Di?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~T,Fo(d,f,T)):(An&&y&&h1(f),f.flags|=1,Kr(d,f,w,T),f.child)}function fC(d,f,y,w,T){if(d===null){var A=y.type;return typeof A=="function"&&!Q1(A)&&A.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=A,hC(d,f,A,w,T)):(d=Ng(y.type,null,w,f,f.mode,T),d.ref=f.ref,d.return=f,f.child=d)}if(A=d.child,!(d.lanes&T)){var j=A.memoizedProps;if(y=y.compare,y=y!==null?y:cn,y(j,w)&&d.ref===f.ref)return Fo(d,f,T)}return f.flags|=1,d=Na(A,w),d.ref=f.ref,d.return=f,f.child=d}function hC(d,f,y,w,T){if(d!==null&&cn(d.memoizedProps,w)&&d.ref===f.ref)if(Di=!1,(d.lanes&T)!==0)d.flags&131072&&(Di=!0);else return f.lanes=d.lanes,Fo(d,f,T);return R1(d,f,y,w,T)}function pC(d,f,y){var w=f.pendingProps,T=w.children,A=d!==null?d.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Lt(Pu,Oi),Oi|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=A!==null?A.baseLanes:y,Lt(Pu,Oi),Oi|=w;else return d=A!==null?A.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null},f.updateQueue=null,Lt(Pu,Oi),Oi|=d,null;else A!==null?(w=A.baseLanes|y,f.memoizedState=null):w=y,Lt(Pu,Oi),Oi|=w;return Kr(d,f,T,y),f.child}function mC(d,f){var y=f.ref;(d===null&&y!==null||d!==null&&d.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function R1(d,f,y,w,T){var A=Dr(y)?Ms:Gt.current;return A=Ts(f,A),bu(f,T),y=w1(d,f,y,w,A,T),w=M1(),d!==null&&!Di?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~T,Fo(d,f,T)):(An&&w&&h1(f),f.flags|=1,Kr(d,f,y,T),f.child)}function gC(d,f,y,w,T){if(Dr(y)){var A=!0;Io(f)}else A=!1;if(bu(f,T),f.stateNode===null)d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),RE(f,y,w),f1(f,y,w,T),w=!0;else if(d===null){var j=f.stateNode,te=f.memoizedProps;j.props=te;var Se=j.context,Ne=y.contextType;typeof Ne=="object"&&Ne!==null?Ne=ts(Ne):(Ne=Dr(y)?Ms:Gt.current,Ne=Ts(f,Ne));var et=y.getDerivedStateFromProps,yt=typeof et=="function"||typeof j.getSnapshotBeforeUpdate=="function";yt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(te!==w||Se!==Ne)&&kE(f,j,w,Ne),Ra=!1;var ct=f.memoizedState;j.state=ct,tg(f,w,j,T),Se=f.memoizedState,te!==w||ct!==Se||qn.current||Ra?(typeof et=="function"&&(d1(f,y,et,w),Se=f.memoizedState),(te=Ra||PE(f,y,te,w,ct,Se,Ne))?(yt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Se),j.props=w,j.state=Se,j.context=Ne,w=te):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{j=f.stateNode,TE(d,f),te=f.memoizedProps,Ne=f.type===f.elementType?te:Dt(f.type,te),j.props=Ne,yt=f.pendingProps,ct=j.context,Se=y.contextType,typeof Se=="object"&&Se!==null?Se=ts(Se):(Se=Dr(y)?Ms:Gt.current,Se=Ts(f,Se));var mn=y.getDerivedStateFromProps;(et=typeof mn=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(te!==yt||ct!==Se)&&kE(f,j,w,Se),Ra=!1,ct=f.memoizedState,j.state=ct,tg(f,w,j,T);var it=f.memoizedState;te!==yt||ct!==it||qn.current||Ra?(typeof mn=="function"&&(d1(f,y,mn,w),it=f.memoizedState),(Ne=Ra||PE(f,y,Ne,w,ct,it,Se)||!1)?(et||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,it,Se),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,it,Se)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||te===d.memoizedProps&&ct===d.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&ct===d.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=it),j.props=w,j.state=it,j.context=Se,w=Ne):(typeof j.componentDidUpdate!="function"||te===d.memoizedProps&&ct===d.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&ct===d.memoizedState||(f.flags|=1024),w=!1)}return k1(d,f,y,w,A,T)}function k1(d,f,y,w,T,A){mC(d,f);var j=(f.flags&128)!==0;if(!w&&!j)return T&&mu(f,y,!1),Fo(d,f,A);w=f.stateNode,VF.current=f;var te=j&&typeof y.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,d!==null&&j?(f.child=Tu(f,d.child,null,A),f.child=Tu(f,null,te,A)):Kr(d,f,te,A),f.memoizedState=w.state,T&&mu(f,y,!0),f.child}function vC(d){var f=d.stateNode;f.pendingContext?qm(d,f.pendingContext,f.pendingContext!==f.context):f.context&&qm(d,f.context,!1),y1(d,f.containerInfo)}function yC(d,f,y,w,T){return Mu(),v1(T),f.flags|=256,Kr(d,f,y,w),f.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function vg(d){return{baseLanes:d,cachePool:null}}function xC(d,f,y){var w=f.pendingProps,T=kn.current,A=!1,j=(f.flags&128)!==0,te;if((te=j)||(te=d!==null&&d.memoizedState===null?!1:(T&2)!==0),te?(A=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(T|=1),Lt(kn,T&1),d===null)return g1(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(f.mode&1?Ul(d)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(T=w.children,d=w.fallback,A?(w=f.mode,A=f.child,T={mode:"hidden",children:T},!(w&1)&&A!==null?(A.childLanes=0,A.pendingProps=T):A=zg(T,w,0,null),d=tc(d,w,y,null),A.return=f,d.return=f,A.sibling=d,f.child=A,f.child.memoizedState=vg(y),f.memoizedState=gg,d):L1(f,T));if(T=d.memoizedState,T!==null){if(te=T.dehydrated,te!==null){if(j)return f.flags&256?(f.flags&=-257,yg(d,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(A=w.fallback,T=f.mode,w=zg({mode:"visible",children:w.children},T,0,null),A=tc(A,T,y,null),A.flags|=2,w.return=f,A.return=f,w.sibling=A,f.child=w,f.mode&1&&Tu(f,d.child,null,y),f.child.memoizedState=vg(y),f.memoizedState=gg,A);if(!(f.mode&1))f=yg(d,f,y,null);else if(Ul(te))f=yg(d,f,y,Error(o(419)));else if(w=(y&d.childLanes)!==0,Di||w){if(w=Yn,w!==null){switch(y&-y){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}w=A&(w.suspendedLanes|y)?0:A,w!==0&&w!==T.retryLane&&(T.retryLane=w,os(d,w,-1))}J1(),f=yg(d,f,y,Error(o(421)))}else Ea(te)?(f.flags|=128,f.child=d.child,f=e6.bind(null,d),U(te,f),f=null):(y=T.treeContext,ve&&(Ii=Ee(te),Li=f,An=!0,As=null,kf=!1,y!==null&&(ns[rs++]=Oo,ns[rs++]=No,ns[rs++]=Xl,Oo=y.id,No=y.overflow,Xl=f)),f=L1(f,f.pendingProps.children),f.flags|=4096);return f}return A?(w=bC(d,f,w.children,w.fallback,y),A=f.child,T=d.child.memoizedState,A.memoizedState=T===null?vg(y):{baseLanes:T.baseLanes|y,cachePool:null},A.childLanes=d.childLanes&~y,f.memoizedState=gg,w):(y=_C(d,f,w.children,y),f.memoizedState=null,y)}return A?(w=bC(d,f,w.children,w.fallback,y),A=f.child,T=d.child.memoizedState,A.memoizedState=T===null?vg(y):{baseLanes:T.baseLanes|y,cachePool:null},A.childLanes=d.childLanes&~y,f.memoizedState=gg,w):(y=_C(d,f,w.children,y),f.memoizedState=null,y)}function L1(d,f){return f=zg({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function _C(d,f,y,w){var T=d.child;return d=T.sibling,y=Na(T,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=w),y.return=f,y.sibling=null,d!==null&&(w=f.deletions,w===null?(f.deletions=[d],f.flags|=16):w.push(d)),f.child=y}function bC(d,f,y,w,T){var A=f.mode;d=d.child;var j=d.sibling,te={mode:"hidden",children:y};return!(A&1)&&f.child!==d?(y=f.child,y.childLanes=0,y.pendingProps=te,f.deletions=null):(y=Na(d,te),y.subtreeFlags=d.subtreeFlags&14680064),j!==null?w=Na(j,w):(w=tc(w,A,T,null),w.flags|=2),w.return=f,y.return=f,y.sibling=w,f.child=y,w}function yg(d,f,y,w){return w!==null&&v1(w),Tu(f,d.child,null,y),d=L1(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function SC(d,f,y){d.lanes|=f;var w=d.alternate;w!==null&&(w.lanes|=f),c1(d.return,f,y)}function I1(d,f,y,w,T){var A=d.memoizedState;A===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:T}:(A.isBackwards=f,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=y,A.tailMode=T)}function wC(d,f,y){var w=f.pendingProps,T=w.revealOrder,A=w.tail;if(Kr(d,f,w.children,y),w=kn.current,w&2)w=w&1|2,f.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&SC(d,y,f);else if(d.tag===19)SC(d,y,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}if(Lt(kn,w),!(f.mode&1))f.memoizedState=null;else switch(T){case"forwards":for(y=f.child,T=null;y!==null;)d=y.alternate,d!==null&&og(d)===null&&(T=y),y=y.sibling;y=T,y===null?(T=f.child,f.child=null):(T=y.sibling,y.sibling=null),I1(f,!1,T,y,A);break;case"backwards":for(y=null,T=f.child,f.child=null;T!==null;){if(d=T.alternate,d!==null&&og(d)===null){f.child=T;break}d=T.sibling,T.sibling=y,y=T,T=d}I1(f,!0,y,null,A);break;case"together":I1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Fo(d,f,y){if(d!==null&&(f.dependencies=d.dependencies),Ru|=f.lanes,!(y&f.childLanes))return null;if(d!==null&&f.child!==d.child)throw Error(o(153));if(f.child!==null){for(d=f.child,y=Na(d,d.pendingProps),f.child=y,y.return=f;d.sibling!==null;)d=d.sibling,y=y.sibling=Na(d,d.pendingProps),y.return=f;y.sibling=null}return f.child}function HF(d,f,y){switch(f.tag){case 3:vC(f),Mu();break;case 5:BE(f);break;case 1:Dr(f.type)&&Io(f);break;case 4:y1(f,f.stateNode.containerInfo);break;case 10:Rf(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Lt(kn,kn.current&1),f.flags|=128,null):y&f.child.childLanes?xC(d,f,y):(Lt(kn,kn.current&1),d=Fo(d,f,y),d!==null?d.sibling:null);Lt(kn,kn.current&1);break;case 19:if(w=(y&f.childLanes)!==0,d.flags&128){if(w)return wC(d,f,y);f.flags|=128}var T=f.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Lt(kn,kn.current),w)break;return null;case 22:case 23:return f.lanes=0,pC(d,f,y)}return Fo(d,f,y)}function jF(d,f){switch(p1(f),f.tag){case 1:return Dr(f.type)&&pu(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return Cu(),vt(qn),vt(Gt),b1(),d=f.flags,d&65536&&!(d&128)?(f.flags=d&-65537|128,f):null;case 5:return x1(f),null;case 13:if(vt(kn),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Mu()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return vt(kn),null;case 4:return Cu(),null;case 10:return l1(f.type._context),null;case 22:case 23:return Z1(),null;case 24:return null;default:return null}}var xg=!1,Kl=!1,WF=typeof WeakSet=="function"?WeakSet:Set,We=null;function _g(d,f){var y=d.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){hi(d,f,w)}else y.current=null}function D1(d,f,y){try{y()}catch(w){hi(d,f,w)}}var MC=!1;function GF(d,f){for(X(d.containerInfo),We=f;We!==null;)if(d=We,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,We=f;else for(;We!==null;){d=We;try{var y=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,T=y.memoizedState,A=d.stateNode,j=A.getSnapshotBeforeUpdate(d.elementType===d.type?w:Dt(d.type,w),T);A.__reactInternalSnapshotBeforeUpdate=j}break;case 3:Fe&&Ve(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){hi(d,d.return,te)}if(f=d.sibling,f!==null){f.return=d.return,We=f;break}We=d.return}return y=MC,MC=!1,y}function Zl(d,f,y){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&d)===d){var A=T.destroy;T.destroy=void 0,A!==void 0&&D1(f,y,A)}T=T.next}while(T!==w)}}function jf(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&d)===d){var w=y.create;y.destroy=w()}y=y.next}while(y!==f)}}function O1(d){var f=d.ref;if(f!==null){var y=d.stateNode;switch(d.tag){case 5:d=K(y);break;default:d=y}typeof f=="function"?f(d):f.current=d}}function TC(d,f,y){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(_u,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(d=f.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var w=d=d.next;do{var T=w,A=T.destroy;T=T.tag,A!==void 0&&(T&2||T&4)&&D1(f,y,A),w=w.next}while(w!==d)}break;case 1:if(_g(f,y),d=f.stateNode,typeof d.componentWillUnmount=="function")try{d.props=f.memoizedProps,d.state=f.memoizedState,d.componentWillUnmount()}catch(j){hi(f,y,j)}break;case 5:_g(f,y);break;case 4:Fe?kC(d,f,y):_e&&_e&&(f=f.stateNode.containerInfo,y=lt(f),Lr(f,y))}}function EC(d,f,y){for(var w=f;;)if(TC(d,w,y),w.child===null||Fe&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function CC(d){var f=d.alternate;f!==null&&(d.alternate=null,CC(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&tt(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function AC(d){return d.tag===5||d.tag===3||d.tag===4}function PC(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||AC(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function RC(d){if(Fe){e:{for(var f=d.return;f!==null;){if(AC(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(st(f),y.flags&=-33),y=PC(d),z1(d,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=PC(d),N1(d,y,f);break;default:throw Error(o(161))}}}function N1(d,f,y){var w=d.tag;if(w===5||w===6)d=d.stateNode,f?be(y,d,f):Me(y,d);else if(w!==4&&(d=d.child,d!==null))for(N1(d,f,y),d=d.sibling;d!==null;)N1(d,f,y),d=d.sibling}function z1(d,f,y){var w=d.tag;if(w===5||w===6)d=d.stateNode,f?fe(y,d,f):Te(y,d);else if(w!==4&&(d=d.child,d!==null))for(z1(d,f,y),d=d.sibling;d!==null;)z1(d,f,y),d=d.sibling}function kC(d,f,y){for(var w=f,T=!1,A,j;;){if(!T){T=w.return;e:for(;;){if(T===null)throw Error(o(160));switch(A=T.stateNode,T.tag){case 5:j=!1;break e;case 3:A=A.containerInfo,j=!0;break e;case 4:A=A.containerInfo,j=!0;break e}T=T.return}T=!0}if(w.tag===5||w.tag===6)EC(d,w,y),j?Xe(A,w.stateNode):Pe(A,w.stateNode);else if(w.tag===18)j?Cn(A,w.stateNode):Pt(A,w.stateNode);else if(w.tag===4){if(w.child!==null){A=w.stateNode.containerInfo,j=!0,w.child.return=w,w=w.child;continue}}else if(TC(d,w,y),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(T=!1)}w.sibling.return=w.return,w=w.sibling}}function F1(d,f){if(Fe){switch(f.tag){case 0:case 11:case 14:case 15:Zl(3,f,f.return),jf(3,f),Zl(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var w=f.memoizedProps;d=d!==null?d.memoizedProps:w;var T=f.type,A=f.updateQueue;f.updateQueue=null,A!==null&&G(y,A,T,d,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,ae(f.stateNode,d!==null?d.memoizedProps:y,y);return;case 3:ve&&d!==null&&d.memoizedState.isDehydrated&&Rt(f.stateNode.containerInfo);return;case 12:return;case 13:bg(f);return;case 19:bg(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:Zl(3,f,f.return),jf(3,f),Zl(5,f,f.return);return;case 12:return;case 13:bg(f);return;case 19:bg(f);return;case 3:ve&&d!==null&&d.memoizedState.isDehydrated&&Rt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(_e){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Lr(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function bg(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var y=d.stateNode;y===null&&(y=d.stateNode=new WF),f.forEach(function(w){var T=t6.bind(null,d,w);y.has(w)||(y.add(w),w.then(T,T))})}}function $F(d,f){for(We=f;We!==null;){f=We;var y=f.deletions;if(y!==null)for(var w=0;w<y.length;w++){var T=y[w];try{var A=d;Fe?kC(A,T,f):EC(A,T,f);var j=T.alternate;j!==null&&(j.return=null),T.return=null}catch(rt){hi(T,f,rt)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,We=y;else for(;We!==null;){f=We;try{var te=f.flags;if(te&32&&Fe&&st(f.stateNode),te&512){var Se=f.alternate;if(Se!==null){var Ne=Se.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if(te&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var et=f.alternate;(et===null||et.memoizedState===null)&&(G1=jn())}break;case 22:var yt=f.memoizedState!==null,ct=f.alternate,mn=ct!==null&&ct.memoizedState!==null;if(y=f,Fe){e:if(w=y,T=yt,A=null,Fe)for(var it=w;;){if(it.tag===5){if(A===null){A=it;var Fr=it.stateNode;T?Ut(Fr):ye(it.stateNode,it.memoizedProps)}}else if(it.tag===6){if(A===null){var ls=it.stateNode;T?Q(ls):Ae(ls,it.memoizedProps)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===w)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===w)break;for(;it.sibling===null;){if(it.return===null||it.return===w)break e;A===it&&(A=null),it=it.return}A===it&&(A=null),it.sibling.return=it.return,it=it.sibling}}if(yt&&!mn&&y.mode&1){We=y;for(var pe=y.child;pe!==null;){for(y=We=pe;We!==null;){w=We;var ie=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Zl(4,w,w.return);break;case 1:_g(w,w.return);var xe=w.stateNode;if(typeof xe.componentWillUnmount=="function"){var qe=w.return;try{xe.props=w.memoizedProps,xe.state=w.memoizedState,xe.componentWillUnmount()}catch(rt){hi(w,qe,rt)}}break;case 5:_g(w,w.return);break;case 22:if(w.memoizedState!==null){DC(y);continue}}ie!==null?(ie.return=w,We=ie):DC(y)}pe=pe.sibling}}}switch(te&4102){case 2:RC(f),f.flags&=-3;break;case 6:RC(f),f.flags&=-3,F1(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,F1(f.alternate,f);break;case 4:F1(f.alternate,f)}}catch(rt){hi(f,f.return,rt)}if(y=f.sibling,y!==null){y.return=f.return,We=y;break}We=f.return}}}function XF(d,f,y){We=d,LC(d)}function LC(d,f,y){for(var w=(d.mode&1)!==0;We!==null;){var T=We,A=T.child;if(T.tag===22&&w){var j=T.memoizedState!==null||xg;if(!j){var te=T.alternate,Se=te!==null&&te.memoizedState!==null||Kl;te=xg;var Ne=Kl;if(xg=j,(Kl=Se)&&!Ne)for(We=T;We!==null;)j=We,Se=j.child,j.tag===22&&j.memoizedState!==null?OC(T):Se!==null?(Se.return=j,We=Se):OC(T);for(;A!==null;)We=A,LC(A),A=A.sibling;We=T,xg=te,Kl=Ne}IC(d)}else T.subtreeFlags&8772&&A!==null?(A.return=T,We=A):IC(d)}}function IC(d){for(;We!==null;){var f=We;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Kl||jf(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!Kl)if(y===null)w.componentDidMount();else{var T=f.elementType===f.type?y.memoizedProps:Dt(f.type,y.memoizedProps);w.componentDidUpdate(T,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=f.updateQueue;A!==null&&CE(f,A,w);break;case 3:var j=f.updateQueue;if(j!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=K(f.child.stateNode);break;case 1:y=f.child.stateNode}CE(f,j,y)}break;case 5:var te=f.stateNode;y===null&&f.flags&4&&Ie(te,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&f.memoizedState===null){var Se=f.alternate;if(Se!==null){var Ne=Se.memoizedState;if(Ne!==null){var et=Ne.dehydrated;et!==null&&At(et)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Kl||f.flags&512&&O1(f)}catch(yt){hi(f,f.return,yt)}}if(f===d){We=null;break}if(y=f.sibling,y!==null){y.return=f.return,We=y;break}We=f.return}}function DC(d){for(;We!==null;){var f=We;if(f===d){We=null;break}var y=f.sibling;if(y!==null){y.return=f.return,We=y;break}We=f.return}}function OC(d){for(;We!==null;){var f=We;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{jf(4,f)}catch(Se){hi(f,y,Se)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var T=f.return;try{w.componentDidMount()}catch(Se){hi(f,T,Se)}}var A=f.return;try{O1(f)}catch(Se){hi(f,A,Se)}break;case 5:var j=f.return;try{O1(f)}catch(Se){hi(f,j,Se)}}}catch(Se){hi(f,f.return,Se)}if(f===d){We=null;break}var te=f.sibling;if(te!==null){te.return=f.return,We=te;break}We=f.return}}var Sg=0,wg=1,Mg=2,Tg=3,Eg=4;if(typeof Symbol=="function"&&Symbol.for){var Wf=Symbol.for;Sg=Wf("selector.component"),wg=Wf("selector.has_pseudo_class"),Mg=Wf("selector.role"),Tg=Wf("selector.test_id"),Eg=Wf("selector.text")}function B1(d){var f=De(d);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(d=bt(d),d===null)throw Error(o(362));return d.stateNode.current}function U1(d,f){switch(f.$$typeof){case Sg:if(d.type===f.value)return!0;break;case wg:e:{f=f.value,d=[d,0];for(var y=0;y<d.length;){var w=d[y++],T=d[y++],A=f[T];if(w.tag!==5||!V(w)){for(;A!=null&&U1(w,A);)T++,A=f[T];if(T===f.length){f=!0;break e}else for(w=w.child;w!==null;)d.push(w,T),w=w.sibling}}f=!1}return f;case Mg:if(d.tag===5&&q(d.stateNode,f.value))return!0;break;case Eg:if((d.tag===5||d.tag===6)&&(d=O(d),d!==null&&0<=d.indexOf(f.value)))return!0;break;case Tg:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function V1(d){switch(d.$$typeof){case Sg:return"<"+(R(d.value)||"Unknown")+">";case wg:return":has("+(V1(d)||"")+")";case Mg:return'[role="'+d.value+'"]';case Eg:return'"'+d.value+'"';case Tg:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function NC(d,f){var y=[];d=[d,0];for(var w=0;w<d.length;){var T=d[w++],A=d[w++],j=f[A];if(T.tag!==5||!V(T)){for(;j!=null&&U1(T,j);)A++,j=f[A];if(A===f.length)y.push(T);else for(T=T.child;T!==null;)d.push(T,A),T=T.sibling}}return y}function H1(d,f){if(!ht)throw Error(o(363));d=B1(d),d=NC(d,f),f=[],d=Array.from(d);for(var y=0;y<d.length;){var w=d[y++];if(w.tag===5)V(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)d.push(w),w=w.sibling}return f}var qF=Math.ceil,Cg=a.ReactCurrentDispatcher,j1=a.ReactCurrentOwner,Wn=a.ReactCurrentBatchConfig,Ct=0,Yn=null,Kn=null,Mr=0,Oi=0,Pu=ci(0),nr=0,Gf=null,Ru=0,Ag=0,W1=0,$f=null,di=null,G1=0,$1=1/0;function ku(){$1=jn()+500}var Pg=!1,X1=null,La=null,Rg=!1,Ia=null,kg=0,Xf=0,q1=null,Lg=-1,Ig=0;function Zr(){return Ct&6?jn():Lg!==-1?Lg:Lg=jn()}function Da(d){return d.mode&1?Ct&2&&Mr!==0?Mr&-Mr:ln.transition!==null?(Ig===0&&(d=gu,gu<<=1,!(gu&4194240)&&(gu=64),Ig=d),Ig):(d=It,d!==0?d:ze()):1}function os(d,f,y){if(50<Xf)throw Xf=0,q1=null,Error(o(185));var w=Dg(d,f);return w===null?null:(Hl(w,f,y),(!(Ct&2)||w!==Yn)&&(w===Yn&&(!(Ct&2)&&(Ag|=f),nr===4&&Oa(w,Mr)),fi(w,y),f===1&&Ct===0&&!(d.mode&1)&&(ku(),B&&mt())),w)}function Dg(d,f){d.lanes|=f;var y=d.alternate;for(y!==null&&(y.lanes|=f),y=d,d=d.return;d!==null;)d.childLanes|=f,y=d.alternate,y!==null&&(y.childLanes|=f),y=d,d=d.return;return y.tag===3?y.stateNode:null}function fi(d,f){var y=d.callbackNode;i1(d,f);var w=yu(d,d===Yn?Mr:0);if(w===0)y!==null&&Zm(y),d.callbackNode=null,d.callbackPriority=0;else if(f=w&-w,d.callbackPriority!==f){if(y!=null&&Zm(y),f===1)d.tag===0?Ke(FC.bind(null,d)):me(FC.bind(null,d)),Qe?Ze(function(){Ct===0&&mt()}):jl(Es,mt),y=null;else{switch(xu(w)){case 1:y=Es;break;case 4:y=Wl;break;case 16:y=Pf;break;case 536870912:y=Qm;break;default:y=Pf}y=XC(y,zC.bind(null,d))}d.callbackPriority=f,d.callbackNode=y}}function zC(d,f){if(Lg=-1,Ig=0,Ct&6)throw Error(o(327));var y=d.callbackNode;if(ec()&&d.callbackNode!==y)return null;var w=yu(d,d===Yn?Mr:0);if(w===0)return null;if(w&30||w&d.expiredLanes||f)f=Og(d,w);else{f=w;var T=Ct;Ct|=2;var A=VC();(Yn!==d||Mr!==f)&&(ku(),Jl(d,f));do try{ZF();break}catch(te){UC(d,te)}while(1);$l(),Cg.current=A,Ct=T,Kn!==null?f=0:(Yn=null,Mr=0,f=nr)}if(f!==0){if(f===2&&(T=Vl(d),T!==0&&(w=T,f=Y1(d,T))),f===1)throw y=Gf,Jl(d,0),Oa(d,w),fi(d,jn()),y;if(f===6)Oa(d,w);else{if(T=d.current.alternate,!(w&30)&&!YF(T)&&(f=Og(d,w),f===2&&(A=Vl(d),A!==0&&(w=A,f=Y1(d,A))),f===1))throw y=Gf,Jl(d,0),Oa(d,w),fi(d,jn()),y;switch(d.finishedWork=T,d.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:Ql(d,di);break;case 3:if(Oa(d,w),(w&130023424)===w&&(f=G1+500-jn(),10<f)){if(yu(d,0)!==0)break;if(T=d.suspendedLanes,(T&w)!==w){Zr(),d.pingedLanes|=d.suspendedLanes&T;break}d.timeoutHandle=Be(Ql.bind(null,d,di),f);break}Ql(d,di);break;case 4:if(Oa(d,w),(w&4194240)===w)break;for(f=d.eventTimes,T=-1;0<w;){var j=31-Pi(w);A=1<<j,j=f[j],j>T&&(T=j),w&=~A}if(w=T,w=jn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*qF(w/1960))-w,10<w){d.timeoutHandle=Be(Ql.bind(null,d,di),w);break}Ql(d,di);break;case 5:Ql(d,di);break;default:throw Error(o(329))}}}return fi(d,jn()),d.callbackNode===y?zC.bind(null,d):null}function Y1(d,f){var y=$f;return d.current.memoizedState.isDehydrated&&(Jl(d,f).flags|=256),d=Og(d,f),d!==2&&(f=di,di=y,f!==null&&K1(f)),d}function K1(d){di===null?di=d:di.push.apply(di,d)}function YF(d){for(var f=d;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var w=0;w<y.length;w++){var T=y[w],A=T.getSnapshot;T=T.value;try{if(!ki(A(),T))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Oa(d,f){for(f&=~W1,f&=~Ag,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var y=31-Pi(f),w=1<<y;d[y]=-1,f&=~w}}function FC(d){if(Ct&6)throw Error(o(327));ec();var f=yu(d,0);if(!(f&1))return fi(d,jn()),null;var y=Og(d,f);if(d.tag!==0&&y===2){var w=Vl(d);w!==0&&(f=w,y=Y1(d,w))}if(y===1)throw y=Gf,Jl(d,0),Oa(d,f),fi(d,jn()),y;if(y===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,Ql(d,di),fi(d,jn()),null}function BC(d){Ia!==null&&Ia.tag===0&&!(Ct&6)&&ec();var f=Ct;Ct|=1;var y=Wn.transition,w=It;try{if(Wn.transition=null,It=1,d)return d()}finally{It=w,Wn.transition=y,Ct=f,!(Ct&6)&&mt()}}function Z1(){Oi=Pu.current,vt(Pu)}function Jl(d,f){d.finishedWork=null,d.finishedLanes=0;var y=d.timeoutHandle;if(y!==$e&&(d.timeoutHandle=$e,Ue(y)),Kn!==null)for(y=Kn.return;y!==null;){var w=y;switch(p1(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&pu();break;case 3:Cu(),vt(qn),vt(Gt),b1();break;case 5:x1(w);break;case 4:Cu();break;case 13:vt(kn);break;case 19:vt(kn);break;case 10:l1(w.type._context);break;case 22:case 23:Z1()}y=y.return}if(Yn=d,Kn=d=Na(d.current,null),Mr=Oi=f,nr=0,Gf=null,W1=Ag=Ru=0,di=$f=null,to!==null){for(f=0;f<to.length;f++)if(y=to[f],w=y.interleaved,w!==null){y.interleaved=null;var T=w.next,A=y.pending;if(A!==null){var j=A.next;A.next=T,w.next=j}y.pending=w}to=null}return d}function UC(d,f){do{var y=Kn;try{if($l(),ag.current=hg,lg){for(var w=Fn.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}lg=!1}if(Au=0,fr=Or=Fn=null,Nf=!1,zf=0,j1.current=null,y===null||y.return===null){nr=1,Gf=f,Kn=null;break}e:{var A=d,j=y.return,te=y,Se=f;if(f=Mr,te.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ne=Se,et=te,yt=et.tag;if(!(et.mode&1)&&(yt===0||yt===11||yt===15)){var ct=et.alternate;ct?(et.updateQueue=ct.updateQueue,et.memoizedState=ct.memoizedState,et.lanes=ct.lanes):(et.updateQueue=null,et.memoizedState=null)}var mn=aC(j);if(mn!==null){mn.flags&=-257,lC(mn,j,te,A,f),mn.mode&1&&oC(A,Ne,f),f=mn,Se=Ne;var it=f.updateQueue;if(it===null){var Fr=new Set;Fr.add(Se),f.updateQueue=Fr}else it.add(Se);break e}else{if(!(f&1)){oC(A,Ne,f),J1();break e}Se=Error(o(426))}}else if(An&&te.mode&1){var ls=aC(j);if(ls!==null){!(ls.flags&65536)&&(ls.flags|=256),lC(ls,j,te,A,f),v1(Se);break e}}A=Se,nr!==4&&(nr=2),$f===null?$f=[A]:$f.push(A),Se=A1(Se,te),te=j;do{switch(te.tag){case 3:te.flags|=65536,f&=-f,te.lanes|=f;var pe=iC(te,Se,f);EE(te,pe);break e;case 1:A=Se;var ie=te.type,xe=te.stateNode;if(!(te.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(La===null||!La.has(xe)))){te.flags|=65536,f&=-f,te.lanes|=f;var qe=sC(te,A,f);EE(te,qe);break e}}te=te.return}while(te!==null)}jC(y)}catch(rt){f=rt,Kn===y&&y!==null&&(Kn=y=y.return);continue}break}while(1)}function VC(){var d=Cg.current;return Cg.current=hg,d===null?hg:d}function J1(){(nr===0||nr===3||nr===2)&&(nr=4),Yn===null||!(Ru&268435455)&&!(Ag&268435455)||Oa(Yn,Mr)}function Og(d,f){var y=Ct;Ct|=2;var w=VC();Yn===d&&Mr===f||Jl(d,f);do try{KF();break}catch(T){UC(d,T)}while(1);if($l(),Ct=y,Cg.current=w,Kn!==null)throw Error(o(261));return Yn=null,Mr=0,nr}function KF(){for(;Kn!==null;)HC(Kn)}function ZF(){for(;Kn!==null&&!Jm();)HC(Kn)}function HC(d){var f=$C(d.alternate,d,Oi);d.memoizedProps=d.pendingProps,f===null?jC(d):Kn=f,j1.current=null}function jC(d){var f=d;do{var y=f.alternate;if(d=f.return,f.flags&32768){if(y=jF(y,f),y!==null){y.flags&=32767,Kn=y;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{nr=6,Kn=null;return}}else if(y=UF(y,f,Oi),y!==null){Kn=y;return}if(f=f.sibling,f!==null){Kn=f;return}Kn=f=d}while(f!==null);nr===0&&(nr=5)}function Ql(d,f){var y=It,w=Wn.transition;try{Wn.transition=null,It=1,JF(d,f,y)}finally{Wn.transition=w,It=y}return null}function JF(d,f,y){do ec();while(Ia!==null);if(Ct&6)throw Error(o(327));var w=d.finishedWork,T=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var A=w.lanes|w.childLanes;if(s1(d,A),d===Yn&&(Kn=Yn=null,Mr=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Rg||(Rg=!0,XC(Pf,function(){return ec(),null})),A=(w.flags&15990)!==0,w.subtreeFlags&15990||A){A=Wn.transition,Wn.transition=null;var j=It;It=1;var te=Ct;Ct|=4,j1.current=null,GF(d,w),$F(d,w),J(d.containerInfo),d.current=w,XF(w),Af(),Ct=te,It=j,Wn.transition=A}else d.current=w;if(Rg&&(Rg=!1,Ia=d,kg=T),A=d.pendingLanes,A===0&&(La=null),o1(w.stateNode),fi(d,jn()),f!==null)for(y=d.onRecoverableError,w=0;w<f.length;w++)y(f[w]);if(Pg)throw Pg=!1,d=X1,X1=null,d;return kg&1&&d.tag!==0&&ec(),A=d.pendingLanes,A&1?d===q1?Xf++:(Xf=0,q1=d):Xf=0,mt(),null}function ec(){if(Ia!==null){var d=xu(kg),f=Wn.transition,y=It;try{if(Wn.transition=null,It=16>d?16:d,Ia===null)var w=!1;else{if(d=Ia,Ia=null,kg=0,Ct&6)throw Error(o(331));var T=Ct;for(Ct|=4,We=d.current;We!==null;){var A=We,j=A.child;if(We.flags&16){var te=A.deletions;if(te!==null){for(var Se=0;Se<te.length;Se++){var Ne=te[Se];for(We=Ne;We!==null;){var et=We;switch(et.tag){case 0:case 11:case 15:Zl(8,et,A)}var yt=et.child;if(yt!==null)yt.return=et,We=yt;else for(;We!==null;){et=We;var ct=et.sibling,mn=et.return;if(CC(et),et===Ne){We=null;break}if(ct!==null){ct.return=mn,We=ct;break}We=mn}}}var it=A.alternate;if(it!==null){var Fr=it.child;if(Fr!==null){it.child=null;do{var ls=Fr.sibling;Fr.sibling=null,Fr=ls}while(Fr!==null)}}We=A}}if(A.subtreeFlags&2064&&j!==null)j.return=A,We=j;else e:for(;We!==null;){if(A=We,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Zl(9,A,A.return)}var pe=A.sibling;if(pe!==null){pe.return=A.return,We=pe;break e}We=A.return}}var ie=d.current;for(We=ie;We!==null;){j=We;var xe=j.child;if(j.subtreeFlags&2064&&xe!==null)xe.return=j,We=xe;else e:for(j=ie;We!==null;){if(te=We,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:jf(9,te)}}catch(rt){hi(te,te.return,rt)}if(te===j){We=null;break e}var qe=te.sibling;if(qe!==null){qe.return=te.return,We=qe;break e}We=te.return}}if(Ct=T,mt(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(_u,d)}catch{}w=!0}return w}finally{It=y,Wn.transition=f}}return!1}function WC(d,f,y){f=A1(y,f),f=iC(d,f,1),ka(d,f),f=Zr(),d=Dg(d,1),d!==null&&(Hl(d,1,f),fi(d,f))}function hi(d,f,y){if(d.tag===3)WC(d,d,y);else for(;f!==null;){if(f.tag===3){WC(f,d,y);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(La===null||!La.has(w))){d=A1(y,d),d=sC(f,d,1),ka(f,d),d=Zr(),f=Dg(f,1),f!==null&&(Hl(f,1,d),fi(f,d));break}}f=f.return}}function QF(d,f,y){var w=d.pingCache;w!==null&&w.delete(f),f=Zr(),d.pingedLanes|=d.suspendedLanes&y,Yn===d&&(Mr&y)===y&&(nr===4||nr===3&&(Mr&130023424)===Mr&&500>jn()-G1?Jl(d,0):W1|=y),fi(d,f)}function GC(d,f){f===0&&(d.mode&1?(f=vu,vu<<=1,!(vu&130023424)&&(vu=4194304)):f=1);var y=Zr();d=Dg(d,f),d!==null&&(Hl(d,f,y),fi(d,y))}function e6(d){var f=d.memoizedState,y=0;f!==null&&(y=f.retryLane),GC(d,y)}function t6(d,f){var y=0;switch(d.tag){case 13:var w=d.stateNode,T=d.memoizedState;T!==null&&(y=T.retryLane);break;case 19:w=d.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),GC(d,y)}var $C;$C=function(d,f,y){if(d!==null)if(d.memoizedProps!==f.pendingProps||qn.current)Di=!0;else{if(!(d.lanes&y)&&!(f.flags&128))return Di=!1,HF(d,f,y);Di=!!(d.flags&131072)}else Di=!1,An&&f.flags&1048576&&LE(f,ig,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps;var T=Ts(f,Gt.current);bu(f,y),T=w1(null,f,w,d,T,y);var A=M1();return f.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Dr(w)?(A=!0,Io(f)):A=!1,f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,u1(f),T.updater=ng,f.stateNode=T,T._reactInternals=f,f1(f,w,d,y),f=k1(null,f,w,!0,A,y)):(f.tag=0,An&&A&&h1(f),Kr(null,f,T,y),f=f.child),f;case 16:w=f.elementType;e:{switch(d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps,T=w._init,w=T(w._payload),f.type=w,T=f.tag=r6(w),d=Dt(w,d),T){case 0:f=R1(null,f,w,d,y);break e;case 1:f=gC(null,f,w,d,y);break e;case 11:f=dC(null,f,w,d,y);break e;case 14:f=fC(null,f,w,Dt(w.type,d),y);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,T=f.pendingProps,T=f.elementType===w?T:Dt(w,T),R1(d,f,w,T,y);case 1:return w=f.type,T=f.pendingProps,T=f.elementType===w?T:Dt(w,T),gC(d,f,w,T,y);case 3:e:{if(vC(f),d===null)throw Error(o(387));w=f.pendingProps,A=f.memoizedState,T=A.element,TE(d,f),tg(f,w,null,y);var j=f.memoizedState;if(w=j.element,ve&&A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:j.cache,transitions:j.transitions},f.updateQueue.baseState=A,f.memoizedState=A,f.flags&256){T=Error(o(423)),f=yC(d,f,w,y,T);break e}else if(w!==T){T=Error(o(424)),f=yC(d,f,w,y,T);break e}else for(ve&&(Ii=ue(f.stateNode.containerInfo),Li=f,An=!0,As=null,kf=!1),y=FE(f,null,w,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Mu(),w===T){f=Fo(d,f,y);break e}Kr(d,f,w,y)}f=f.child}return f;case 5:return BE(f),d===null&&g1(f),w=f.type,T=f.pendingProps,A=d!==null?d.memoizedProps:null,j=T.children,ke(w,T)?j=null:A!==null&&ke(w,A)&&(f.flags|=32),mC(d,f),Kr(d,f,j,y),f.child;case 6:return d===null&&g1(f),null;case 13:return xC(d,f,y);case 4:return y1(f,f.stateNode.containerInfo),w=f.pendingProps,d===null?f.child=Tu(f,null,w,y):Kr(d,f,w,y),f.child;case 11:return w=f.type,T=f.pendingProps,T=f.elementType===w?T:Dt(w,T),dC(d,f,w,T,y);case 7:return Kr(d,f,f.pendingProps,y),f.child;case 8:return Kr(d,f,f.pendingProps.children,y),f.child;case 12:return Kr(d,f,f.pendingProps.children,y),f.child;case 10:e:{if(w=f.type._context,T=f.pendingProps,A=f.memoizedProps,j=T.value,Rf(f,w,j),A!==null)if(ki(A.value,j)){if(A.children===T.children&&!qn.current){f=Fo(d,f,y);break e}}else for(A=f.child,A!==null&&(A.return=f);A!==null;){var te=A.dependencies;if(te!==null){j=A.child;for(var Se=te.firstContext;Se!==null;){if(Se.context===w){if(A.tag===1){Se=Do(-1,y&-y),Se.tag=2;var Ne=A.updateQueue;if(Ne!==null){Ne=Ne.shared;var et=Ne.pending;et===null?Se.next=Se:(Se.next=et.next,et.next=Se),Ne.pending=Se}}A.lanes|=y,Se=A.alternate,Se!==null&&(Se.lanes|=y),c1(A.return,y,f),te.lanes|=y;break}Se=Se.next}}else if(A.tag===10)j=A.type===f.type?null:A.child;else if(A.tag===18){if(j=A.return,j===null)throw Error(o(341));j.lanes|=y,te=j.alternate,te!==null&&(te.lanes|=y),c1(j,y,f),j=A.sibling}else j=A.child;if(j!==null)j.return=A;else for(j=A;j!==null;){if(j===f){j=null;break}if(A=j.sibling,A!==null){A.return=j.return,j=A;break}j=j.return}A=j}Kr(d,f,T.children,y),f=f.child}return f;case 9:return T=f.type,w=f.pendingProps.children,bu(f,y),T=ts(T),w=w(T),f.flags|=1,Kr(d,f,w,y),f.child;case 14:return w=f.type,T=Dt(w,f.pendingProps),T=Dt(w.type,T),fC(d,f,w,T,y);case 15:return hC(d,f,f.type,f.pendingProps,y);case 17:return w=f.type,T=f.pendingProps,T=f.elementType===w?T:Dt(w,T),d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Dr(w)?(d=!0,Io(f)):d=!1,bu(f,y),RE(f,w,T),f1(f,w,T,y),k1(null,f,w,!0,d,y);case 19:return wC(d,f,y);case 22:return pC(d,f,y)}throw Error(o(156,f.tag))};function XC(d,f){return jl(d,f)}function n6(d,f,y,w){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(d,f,y,w){return new n6(d,f,y,w)}function Q1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function r6(d){if(typeof d=="function")return Q1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===g)return 11;if(d===b)return 14}return 2}function Na(d,f){var y=d.alternate;return y===null?(y=as(d.tag,f,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=f,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&14680064,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,f=d.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y}function Ng(d,f,y,w,T,A){var j=2;if(w=d,typeof d=="function")Q1(d)&&(j=1);else if(typeof d=="string")j=5;else e:switch(d){case u:return tc(y.children,T,A,f);case h:j=8,T|=8;break;case p:return d=as(12,y,f,T|2),d.elementType=p,d.lanes=A,d;case x:return d=as(13,y,f,T),d.elementType=x,d.lanes=A,d;case _:return d=as(19,y,f,T),d.elementType=_,d.lanes=A,d;case M:return zg(y,T,A,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:j=10;break e;case v:j=9;break e;case g:j=11;break e;case b:j=14;break e;case S:j=16,w=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return f=as(j,y,f,T),f.elementType=d,f.type=w,f.lanes=A,f}function tc(d,f,y,w){return d=as(7,d,w,f),d.lanes=y,d}function zg(d,f,y,w){return d=as(22,d,w,f),d.elementType=M,d.lanes=y,d.stateNode={},d}function e_(d,f,y){return d=as(6,d,null,f),d.lanes=y,d}function t_(d,f,y){return f=as(4,d.children!==null?d.children:[],d.key,f),f.lanes=y,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function i6(d,f,y,w,T){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=w,this.onRecoverableError=T,ve&&(this.mutableSourceEagerHydrationData=null)}function qC(d,f,y,w,T,A,j,te,Se){return d=new i6(d,f,y,te,Se),f===1?(f=1,A===!0&&(f|=8)):f=0,A=as(3,null,null,f),d.current=A,A.stateNode=d,A.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null},u1(A),d}function YC(d){if(!d)return ui;d=d._reactInternals;e:{if(k(d)!==d||d.tag!==1)throw Error(o(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Dr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(d.tag===1){var y=d.type;if(Dr(y))return Ym(d,y,f)}return f}function KC(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=le(f),d===null?null:d.stateNode}function ZC(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<f?y:f}}function n_(d,f){ZC(d,f),(d=d.alternate)&&ZC(d,f)}function s6(d){return d=le(d),d===null?null:d.stateNode}function o6(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var f=Zr();os(d,134217728,f),n_(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var f=Zr(),y=Da(d);os(d,y,f),n_(d,y)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var y=Aa(f.pendingLanes);y!==0&&(Pa(f,y|1),fi(f,jn()),!(Ct&6)&&(ku(),mt()))}break;case 13:var w=Zr();BC(function(){return os(d,1,w)}),n_(d,1)}},t.batchedUpdates=function(d,f){var y=Ct;Ct|=1;try{return d(f)}finally{Ct=y,Ct===0&&(ku(),B&&mt())}},t.createComponentSelector=function(d){return{$$typeof:Sg,value:d}},t.createContainer=function(d,f,y,w,T,A,j){return qC(d,f,!1,null,y,w,T,A,j)},t.createHasPseudoClassSelector=function(d){return{$$typeof:wg,value:d}},t.createHydrationContainer=function(d,f,y,w,T,A,j,te,Se){return d=qC(y,w,!0,d,T,A,j,te,Se),d.context=YC(null),y=d.current,w=Zr(),T=Da(y),A=Do(w,T),A.callback=f??null,ka(y,A),d.current.lanes=T,Hl(d,T,w),fi(d,w),d},t.createPortal=function(d,f,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:d,containerInfo:f,implementation:y}},t.createRoleSelector=function(d){return{$$typeof:Mg,value:d}},t.createTestNameSelector=function(d){return{$$typeof:Tg,value:d}},t.createTextSelector=function(d){return{$$typeof:Eg,value:d}},t.deferredUpdates=function(d){var f=It,y=Wn.transition;try{return Wn.transition=null,It=16,d()}finally{It=f,Wn.transition=y}},t.discreteUpdates=function(d,f,y,w,T){var A=It,j=Wn.transition;try{return Wn.transition=null,It=1,d(f,y,w,T)}finally{It=A,Wn.transition=j,Ct===0&&ku()}},t.findAllNodes=H1,t.findBoundingRects=function(d,f){if(!ht)throw Error(o(363));f=H1(d,f),d=[];for(var y=0;y<f.length;y++)d.push(W(f[y]));for(f=d.length-1;0<f;f--){y=d[f];for(var w=y.x,T=w+y.width,A=y.y,j=A+y.height,te=f-1;0<=te;te--)if(f!==te){var Se=d[te],Ne=Se.x,et=Ne+Se.width,yt=Se.y,ct=yt+Se.height;if(w>=Ne&&A>=yt&&T<=et&&j<=ct){d.splice(f,1);break}else if(w!==Ne||y.width!==Se.width||ct<A||yt>j){if(!(A!==yt||y.height!==Se.height||et<w||Ne>T)){Ne>w&&(Se.width+=Ne-w,Se.x=w),et<T&&(Se.width=T-Ne),d.splice(f,1);break}}else{yt>A&&(Se.height+=yt-A,Se.y=A),ct<j&&(Se.height=j-yt),d.splice(f,1);break}}}return d},t.findHostInstance=KC,t.findHostInstanceWithNoPortals=function(d){return d=$(d),d=d!==null?I(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return KC(d)},t.flushControlled=function(d){var f=Ct;Ct|=1;var y=Wn.transition,w=It;try{Wn.transition=null,It=1,d()}finally{It=w,Wn.transition=y,Ct=f,Ct===0&&(ku(),mt())}},t.flushPassiveEffects=ec,t.flushSync=BC,t.focusWithin=function(d,f){if(!ht)throw Error(o(363));for(d=B1(d),f=NC(d,f),f=Array.from(f),d=0;d<f.length;){var y=f[d++];if(!V(y)){if(y.tag===5&&re(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(d,f){if(!ht)throw Error(o(363));var y=0,w=[];d=[B1(d),0];for(var T=0;T<d.length;){var A=d[T++],j=d[T++],te=f[j];if((A.tag!==5||!V(A))&&(U1(A,te)&&(w.push(V1(te)),j++,j>y&&(y=j)),j<f.length))for(A=A.child;A!==null;)d.push(A,j),A=A.sibling}if(y<f.length){for(d=[];y<f.length;y++)d.push(V1(f[y]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return K(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:s6,findFiberByHostInstance:d.findFiberByHostInstance||o6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)d=!0;else{try{_u=f.inject(d),Ri=f}catch{}d=!!f.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,f,y,w){if(!ht)throw Error(o(363));d=H1(d,f);var T=ge(d,y,w).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(d,f){var y=f._getVersion;y=y(f._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[f,y]:d.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(d,f){var y=It;try{return It=d,f()}finally{It=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,f,y,w){var T=f.current,A=Zr(),j=Da(T);return y=YC(y),f.context===null?f.context=y:f.pendingContext=y,f=Do(A,j),f.payload={element:d},w=w===void 0?null:w,w!==null&&(f.callback=w),ka(T,f),d=os(T,j,A),d!==null&&eg(d,T,j),j},t};(function(n){n.exports=Dde})(Lde);const Ode=DM(EM);function uF(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const ta=[];function dF(n,e,t=!1,r={}){for(const s of ta)if(uF(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=ta.indexOf(i);s!==-1&&ta.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(ta.push(i),!t)throw i.promise}const Nde=(n,e,t)=>dF(n,e,!1,t),zde=(n,e,t)=>void dF(n,e,!0,t),Fde=n=>{if(n===void 0||n.length===0)ta.splice(0,ta.length);else{const e=ta.find(t=>uF(n,t.keys,t.equal));if(e){const t=ta.indexOf(e);t!==-1&&ta.splice(t,1)}}};var xL,_L;const fF=n=>n&&n.isOrthographicCamera,Bde=n=>n&&n.hasOwnProperty("current"),$m=typeof window<"u"&&((xL=window.document)!=null&&xL.createElement||((_L=window.navigator)==null?void 0:_L.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function hF(n){const e=L.useRef(n);return $m(()=>void(e.current=n),[n]),e}function Ude({set:n}){return $m(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class pF extends L.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}pF.getDerivedStateFromError=()=>({error:!0});const mF="__default",Vde=n=>n&&!!n.memoized&&!!n.changes;function gF(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Mh=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Ln={obj:n=>n===Object(n)&&!Ln.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ln.str(n)||Ln.num(n))return n===e;const s=Ln.obj(n);if(s&&r==="reference")return n===e;const o=Ln.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(Ln.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Hde(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function jde(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function nd(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function CM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const bL=/-\d+$/;function Jb(n,e,t){if(Ln.str(t)){if(bL.test(t)){const s=t.replace(bL,""),{target:o,key:a}=CM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=CM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function SL(n,e,t){var r,i;if(Ln.str(t)){const{target:s,key:o}=CM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function vF(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const g=Object.keys(l);for(let x=0;x<g.length;x++)i.hasOwnProperty(g[x])||p.unshift([g[x],mF+"remove"])}p.forEach(([g,x])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&g==="object"||Ln.equ(x,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return m.push([g,x,!0,[]]);let b=[];g.includes("-")&&(b=g.split("-")),m.push([g,x,!1,b]);for(const S in i){const M=i[S];S.startsWith(`${g}-`)&&m.push([S,M,!1,S.split("-")])}});const v={...i};return h.memoizedProps&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:m}}function Qb(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=Vde(e)?e:vF(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let m=0;m<c.length;m++){let[v,g,x,_]=c[m],b=n,S=b[v];if(_.length&&(S=_.reduce((M,E)=>M[E],n),!(S&&S.set))){const[M,...E]=_.reverse();b=E.reverse().reduce((P,R)=>P[R],n),v=M}if(g===mF+"remove")if(b.constructor){var h;const M=new b.constructor(...(h=b.__r3f.memoizedProps.args)!=null?h:[]);g=M[v],M.dispose&&M.dispose()}else g=0;if(x)g?s.handlers[v]=g:delete s.handlers[v],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Xc)){if(Array.isArray(g))S.fromArray?S.fromArray(g):S.set(...g);else if(S.copy&&g&&g.constructor&&S.constructor.name===g.constructor.name)S.copy(g);else if(g!==void 0){const M=S instanceof Ge;!M&&S.setScalar?S.setScalar(g):S instanceof Xc&&g instanceof Xc?S.mask=g.mask:S.set(g),!("ColorManagement"in Iy)&&!a.linear&&M&&S.convertSRGBToLinear()}}else b[v]=g,!a.linear&&b[v]instanceof Rn&&(b[v].encoding=Vt);rd(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const m=a.internal.interaction.indexOf(n);m>-1&&a.internal.interaction.splice(m,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&AM(n),n}function rd(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function AM(n){n.onUpdate==null||n.onUpdate(n)}function Wde(n,e){n.manual||(fF(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Gde(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function ev(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function $de(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ll.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ll.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ll.ContinuousEventPriority;default:return ll.DefaultEventPriority}}function yF(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Xde(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{yF(t.capturedMap,e,r,i)})}function qde(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),h=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let _=0;_<m.length;_++){const b=Mh(m[_]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(_){const b=Mh(_);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var S;b.events.compute==null||b.events.compute(l,b,(S=b.previousRoot)==null?void 0:S.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(_,!0):[]}let g=m.flatMap(v).sort((_,b)=>{const S=Mh(_.object),M=Mh(b.object);return!S||!M?_.distance-b.distance:M.events.priority-S.events.priority||_.distance-b.distance}).filter(_=>{const b=ev(_);return h.has(b)?!1:(h.add(b),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const _ of g){let b=_.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&p.push({..._,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let _ of u.internal.capturedMap.get(l.pointerId).values())h.has(ev(_.intersection))||p.push(_.intersection);return p}function i(l,c,u,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const g=Mh(v.object)||p,{raycaster:x,pointer:_,camera:b,internal:S}=g,M=new z(_.x,_.y,0).unproject(b),E=D=>{var $,le;return($=(le=S.capturedMap.get(D))==null?void 0:le.has(v.eventObject))!=null?$:!1},P=D=>{const $={intersection:v,target:c.target};S.capturedMap.has(D)?S.capturedMap.get(D).set(v.eventObject,$):S.capturedMap.set(D,new Map([[v.eventObject,$]])),c.target.setPointerCapture(D)},R=D=>{const $=S.capturedMap.get(D);$&&yF(S.capturedMap,v.eventObject,$,D)};let C={};for(let D in c){let $=c[D];typeof $!="function"&&(C[D]=$)}let k={...v,...C,pointer:_,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:x.ray,camera:b,stopPropagation(){const D="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!D||D.has(v.eventObject))&&(k.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find($=>$.eventObject===v.eventObject))){const $=l.slice(0,l.indexOf(v));s([...$,v])}},target:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},nativeEvent:c};if(h(k),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(ev(u)),p!=null&&p.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))}}return function(u){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,m?t:void 0),_=v?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&_<=2&&(o(u,p.interaction),h&&h(u)),m&&s(x);function b(S){const M=S.eventObject,E=M.__r3f,P=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=ev(S),C=p.hovered.get(R);C?C.stopped&&S.stopPropagation():(p.hovered.set(R,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const R=P[l];R?(!v||p.initialHits.includes(M))&&(o(u,p.interaction.filter(C=>!p.initialHits.includes(C))),R(S)):v&&p.initialHits.includes(M)&&o(u,p.interaction.filter(C=>!p.initialHits.includes(C)))}}i(x,u,_,b)}}return{handlePointer:a}}let PM={},Yde=n=>void(PM={...PM,...n});function Kde(n,e){function t(u,{args:h=[],attach:p,...m},v){let g=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=m.object;x=nd(_,{type:u,root:v,attach:p,primitive:!0})}else{const _=PM[g];if(!_)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=nd(new _(...h),{type:u,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof wt?x.__r3f.attach="geometry":x instanceof tr&&(x.__r3f.attach="material")),g!=="inject"&&Qb(x,m),x}function r(u,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?Jb(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),p=!0),p||(v=u.__r3f)==null||v.objects.push(h),h.__r3f||nd(h,{}),h.__r3f.parent=u,AM(h),rd(h)}}function i(u,h,p){let m=!1;if(h){var v,g;if((v=h.__r3f)!=null&&v.attach)Jb(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const x=u.children.filter(b=>b!==h),_=x.indexOf(p);u.children=[...x.slice(0,_),h,...x.slice(_)],m=!0}m||(g=u.__r3f)==null||g.objects.push(h),h.__r3f||nd(h,{}),h.__r3f.parent=u,AM(h),rd(h)}}function s(u,h,p=!1){u&&[...u].forEach(m=>o(h,m,p))}function o(u,h,p){if(h){var m,v,g;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==h)),(v=h.__r3f)!=null&&v.attach)SL(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var x;u.remove(h),(x=h.__r3f)!=null&&x.root&&Xde(h.__r3f.root,h)}const b=(g=h.__r3f)==null?void 0:g.primitive,S=p===void 0?h.dispose!==null&&!b:p;if(!b){var _;s((_=h.__r3f)==null?void 0:_.objects,h,S),s(h.children,h,S)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,b||delete h.__r3f),S&&h.dispose&&h.type!=="Scene"&&um.unstable_scheduleCallback(um.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),rd(u)}}function a(u,h,p,m){var v;const g=(v=u.__r3f)==null?void 0:v.parent;if(!g)return;const x=t(h,p,u.__r3f.root);if(u.children){for(const _ of u.children)_.__r3f&&r(x,_);u.children=u.children.filter(_=>!_.__r3f)}u.__r3f.objects.forEach(_=>r(x,_)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(g,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(g,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Ode({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,p)=>{if(!h||!p)return;const m=u.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;const p=(h=u==null?void 0:u.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(u,h,p,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:v=[],children:g,...x}=m,{args:_=[],children:b,...S}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((E,P)=>E!==_[P]))return[!0];const M=vF(u,x,S,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[h,p],m,v,g,x){h?a(u,m,g,x):Qb(u,p)},commitMount(u,h,p,m){var v;const g=(v=u.__r3f)!=null?v:{};u.raycast&&g.handlers&&g.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>nd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:p,parent:m}=(h=u.__r3f)!=null?h:{};p&&m&&SL(m,u,p),u.isObject3D&&(u.visible=!1),rd(u)},unhideInstance(u,h){var p;const{attach:m,parent:v}=(p=u.__r3f)!=null?p:{};m&&v&&Jb(v,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),rd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ll.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ln.fun(performance.now)?performance.now:Ln.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ln.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ln.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Qb}}const xF=n=>!!(n!=null&&n.render),_F=L.createContext(null),Zde=(n,e)=>{const t=lF((a,l)=>{const c=new z,u=new z,h=new z;function p(_=l().camera,b=u,S=l().size){const{width:M,height:E,top:P,left:R}=S,C=M/E;b instanceof z?h.copy(b):h.set(...b);const k=_.getWorldPosition(c).distanceTo(h);if(fF(_))return{width:M/_.zoom,height:E/_.zoom,top:P,left:R,factor:1,distance:k,aspect:C};{const D=_.fov*Math.PI/180,$=2*Math.tan(D/2)*k,le=$*(M/E);return{width:le,height:$,top:P,left:R,factor:M/le,distance:k,aspect:C}}}let m;const v=_=>a(b=>({performance:{...b.performance,current:_}})),g=new Ce;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(_=1)=>n(l(),_),advance:(_,b)=>e(_,b,l()),legacy:!1,linear:!1,flat:!1,scene:nd(new YT),controls:null,clock:new yE,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();m&&clearTimeout(m),_.performance.current!==_.performance.min&&v(_.performance.min),m=setTimeout(()=>v(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(b=>({...b,events:{...b.events,..._}})),setSize:(_,b,S,M,E)=>{const P=l().camera,R={width:_,height:b,top:M||0,left:E||0,updateStyle:S};a(C=>({size:R,viewport:{...C.viewport,...p(P,u,R)}}))},setDpr:_=>a(b=>{const S=gF(_);return{viewport:{...b.viewport,dpr:S,initialDpr:b.viewport.initialDpr||S}}}),setFrameloop:(_="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,_!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,b,S)=>{const M=l().internal;return M.priority=M.priority+(b>0?1:0),M.subscribers.push({ref:_,priority:b,store:S}),M.subscribers=M.subscribers.sort((E,P)=>E.priority-P.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(b>0?1:0),E.subscribers=E.subscribers.filter(P=>P.ref!==_))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=t.getState();(l!==i||c.dpr!==s)&&(i=l,s=c.dpr,Wde(a,l),u.setPixelRatio(c.dpr),u.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,h(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let tv,Jde=new Set,Qde=new Set,efe=new Set;function eS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Th(n,e){switch(n){case"before":return eS(Jde,e);case"after":return eS(Qde,e);case"tail":return eS(efe,e)}}let tS,nS;function rS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),tS=e.internal.subscribers,tv=0;tv<tS.length;tv++)nS=tS[tv],nS.ref.current(nS.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function tfe(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Th("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=rS(l,i))}if(Th("after",l),t===0)return Th("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(h=>o(h.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&Th("before",l),u)rS(l,u,h);else for(const p of n.values())rS(l,p.store.getState());c&&Th("after",l)}return{loop:s,invalidate:o,advance:a}}function bF(){const n=L.useContext(_F);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function qo(n=t=>t,e){return bF()(n,e)}function SF(n,e=0){const t=bF(),r=t.getState().internal.subscribe,i=hF(n);return $m(()=>r(i,e,t),[e,r,t]),null}function wF(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Hde(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function SE(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Nde(wF(t,r),[n,...i],{equal:Ln.equ});return Array.isArray(e)?s:s[0]}SE.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return zde(wF(t),[n,...r])};SE.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Fde([n,...t])};const ff=new Map,{invalidate:wL,advance:ML}=tfe(ff),{reconciler:Dy,applyProps:nv}=Kde(ff,$de),Eh={objects:"shallow",strict:!1},nfe=(n,e)=>{const t=typeof n=="function"?n(e):n;return xF(t)?t:new qT({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function rfe(n){return n instanceof HTMLCanvasElement}function ife(n,e){if(e)return e;if(rfe(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function sfe(n){const e=ff.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Zde(wL,ML),o=t||Dy.createContainer(s,ll.ConcurrentRoot,null,!1,null,"",i,null);e||ff.set(n,{fiber:o,store:s});let a,l=!1;return{configure(c={}){let{gl:u,size:h,events:p,onCreated:m,shadows:v=!1,linear:g=!1,flat:x=!1,legacy:_=!1,orthographic:b=!1,frameloop:S="always",dpr:M=[1,2],performance:E,raycaster:P,camera:R,onPointerMissed:C}=c,k=s.getState(),D=k.gl;k.gl||k.set({gl:D=nfe(u,n)});let $=k.raycaster;$||k.set({raycaster:$=new oF});const{params:le,...Y}=P||{};if(Ln.equ(Y,$,Eh)||nv($,{...Y}),Ln.equ(le,$.params,Eh)||nv($,{params:{...$.params,...le}}),!k.camera){const N=R instanceof Pm,X=N?R:b?new Xs(0,0,0,0,.1,1e3):new vn(75,0,.1,1e3);N||(X.position.z=5,R&&nv(X,R),R!=null&&R.rotation||X.lookAt(0,0,0)),k.set({camera:X})}if(!k.xr){const N=(he,Z)=>{const se=s.getState();se.frameloop!=="never"&&ML(he,!0,se,Z)},X=()=>{const he=s.getState();he.gl.xr.enabled=he.gl.xr.isPresenting,he.gl.xr.setAnimationLoop(he.gl.xr.isPresenting?N:null),he.gl.xr.isPresenting||wL(he)},J={connect(){const he=s.getState().gl;he.xr.addEventListener("sessionstart",X),he.xr.addEventListener("sessionend",X)},disconnect(){const he=s.getState().gl;he.xr.removeEventListener("sessionstart",X),he.xr.removeEventListener("sessionend",X)}};D.xr&&J.connect(),k.set({xr:J})}if(D.shadowMap){const N=D.shadowMap.enabled,X=D.shadowMap.type;if(D.shadowMap.enabled=!!v,Ln.boo(v))D.shadowMap.type=dp;else if(Ln.str(v)){var I;const J={basic:hN,percentage:Bx,soft:dp,variance:Lc};D.shadowMap.type=(I=J[v])!=null?I:dp}else Ln.obj(v)&&Object.assign(D.shadowMap,v);(N!==D.shadowMap.enabled||X!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}"ColorManagement"in Iy&&Gde(Iy,_,["ColorManagement","legacyMode"]);const H=g?xa:Vt,K=x?$s:NT;D.outputEncoding!==H&&(D.outputEncoding=H),D.toneMapping!==K&&(D.toneMapping=K),k.legacy!==_&&k.set(()=>({legacy:_})),k.linear!==g&&k.set(()=>({linear:g})),k.flat!==x&&k.set(()=>({flat:x})),u&&!Ln.fun(u)&&!xF(u)&&!Ln.equ(u,D,Eh)&&nv(D,u),p&&!k.events.handlers&&k.set({events:p(s)}),M&&k.viewport.dpr!==gF(M)&&k.setDpr(M);const oe=ife(n,h);return Ln.equ(oe,k.size,Eh)||k.setSize(oe.width,oe.height,oe.updateStyle,oe.top,oe.left),k.frameloop!==S&&k.setFrameloop(S),k.onPointerMissed||k.set({onPointerMissed:C}),E&&!Ln.equ(E,k.performance,Eh)&&k.set(N=>({performance:{...N.performance,...E}})),a=m,l=!0,this},render(c){return l||this.configure(),Dy.updateContainer(L.createElement(ofe,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){MF(n)}}}function ofe({store:n,children:e,onCreated:t,rootElement:r}){return $m(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),L.createElement(_F.Provider,{value:n},e)}function MF(n,e){const t=ff.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Dy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),jde(i),ff.delete(n),e&&e(n)}catch{}},500)})}}Dy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.version});function RM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}RM.debounce=RM;var TL=RM;function afe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=L.useRef(!1);L.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,v]=L.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:S,top:M,width:E,height:P,bottom:R,right:C,x:k,y:D}=l.current.element.getBoundingClientRect(),$={left:S,top:M,width:E,height:P,bottom:R,right:C,x:k,y:D};l.current.element instanceof HTMLElement&&i&&($.height=l.current.element.offsetHeight,$.width=l.current.element.offsetWidth),Object.freeze($),h.current&&!dfe(l.current.lastBounds,$)&&a(l.current.lastBounds=$)};return[b,u?TL(b,u):b,c?TL(b,c):b]},[a,i,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",v,{capture:!0,passive:!0})))}const _=b=>{!b||b===l.current.element||(g(),l.current.element=b,l.current.scrollContainers=TF(b),x())};return cfe(v,Boolean(t)),lfe(m),L.useEffect(()=>{g(),x()},[t,v,m]),L.useEffect(()=>g,[]),[_,o,p]}function lfe(n){L.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function cfe(n,e){L.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function TF(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...TF(n.parentElement)]}const ufe=["x","y","top","bottom","left","right","width","height"],dfe=(n,e)=>ufe.every(t=>n[t]===e[t]);var ffe=Object.defineProperty,hfe=Object.defineProperties,pfe=Object.getOwnPropertyDescriptors,EL=Object.getOwnPropertySymbols,mfe=Object.prototype.hasOwnProperty,gfe=Object.prototype.propertyIsEnumerable,CL=(n,e,t)=>e in n?ffe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,AL=(n,e)=>{for(var t in e||(e={}))mfe.call(e,t)&&CL(n,t,e[t]);if(EL)for(var t of EL(e))gfe.call(e,t)&&CL(n,t,e[t]);return n},vfe=(n,e)=>hfe(n,pfe(e));function EF(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=EF(r,e,t);if(i)return i;r=e?null:r.sibling}}function CF(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const wE=CF(L.createContext(null));class AF extends L.Component{render(){return L.createElement(wE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:yfe,ReactCurrentDispatcher:xfe}=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _fe(){const n=L.useContext(wE);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{var r;return(r=yfe.current)!=null?r:EF(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function bfe(){var n,e;const t=_fe(),[r]=L.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==wE&&!r.has(s)&&r.set(s,(e=xfe.current)==null?void 0:e.readContext(CF(s))),i=i.return}return L.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>L.createElement(s,null,L.createElement(o.Provider,vfe(AL({},a),{value:r.get(o)}))),s=>L.createElement(AF,AL({},s))),[r])}const iS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Sfe(n){const{handlePointer:e}=qde(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(iS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=iS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=iS[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const wfe=L.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Sfe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:g,performance:x,raycaster:_,camera:b,onPointerMissed:S,onCreated:M,...E},P){L.useMemo(()=>Yde(Iy),[]);const R=bfe(),[C,k]=afe({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=L.useRef(null),$=L.useRef(null),[le,Y]=L.useState(null);L.useImperativeHandle(P,()=>D.current);const I=hF(S),[H,K]=L.useState(!1),[oe,N]=L.useState(!1);if(H)throw H;if(oe)throw oe;const X=L.useRef(null);k.width>0&&k.height>0&&le&&(X.current||(X.current=sfe(le)),X.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:g,performance:x,raycaster:_,camera:b,size:k,onPointerMissed:(...he)=>I.current==null?void 0:I.current(...he),onCreated:he=>{he.events.connect==null||he.events.connect(a?Bde(a)?a.current:a:$.current),l&&he.setEvents({compute:(Z,se)=>{const Re=Z[l+"X"],ke=Z[l+"Y"];se.pointer.set(Re/se.size.width*2-1,-(ke/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),M==null||M(he)}}),X.current.render(L.createElement(R,null,L.createElement(pF,{set:N},L.createElement(L.Suspense,{fallback:L.createElement(Ude,{set:K})},e))))),$m(()=>{Y(D.current)},[]),L.useEffect(()=>{if(le)return()=>MF(le)},[le]);const J=a?"none":"auto";return L.createElement("div",xl({ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...i}},E),L.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},L.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),Mfe=L.forwardRef(function(e,t){return L.createElement(AF,null,L.createElement(wfe,xl({},e,{ref:t})))}),Xm=new z,ME=new z,Tfe=new z;function Efe(n,e,t){const r=Xm.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function Cfe(n,e){const t=Xm.setFromMatrixPosition(n.matrixWorld),r=ME.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(Tfe);return i.angleTo(s)>Math.PI/2}function Afe(n,e,t,r){const i=Xm.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function Pfe(n,e){if(e instanceof Xs)return e.zoom;if(e instanceof vn){const t=Xm.setFromMatrixPosition(n.matrixWorld),r=ME.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Rfe(n,e,t){if(e instanceof vn||e instanceof Xs){const r=Xm.setFromMatrixPosition(n.matrixWorld),i=ME.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const kM=n=>Math.abs(n)<1e-10?0:n;function PF(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=kM(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const kfe=(n=>e=>PF(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Lfe=(n=>(e,t)=>PF(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function Ife(n){return n&&typeof n=="object"&&"current"in n}const Dfe=L.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:v,material:g,geometry:x,zIndexRange:_=[16777271,0],calculatePosition:b=Efe,as:S="div",wrapperClass:M,pointerEvents:E="auto",...P},R)=>{const{gl:C,camera:k,scene:D,size:$,raycaster:le,events:Y,viewport:I}=qo(),[H]=L.useState(()=>document.createElement(S)),K=L.useRef(),oe=L.useRef(null),N=L.useRef(0),X=L.useRef([0,0]),J=L.useRef(null),he=L.useRef(null),Z=(a==null?void 0:a.current)||Y.connected||C.domElement.parentNode,se=L.useRef(null),Re=L.useRef(!1),ke=L.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&Ife(h[0]),[h]);L.useLayoutEffect(()=>{const Le=C.domElement;Le.style.zIndex=`${Math.floor(_[0]/2)}`,Le.style.position="absolute",Le.style.pointerEvents="none"},[]),L.useLayoutEffect(()=>{if(oe.current){const Le=K.current=RO(H);if(D.updateMatrixWorld(),u)H.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Fe=b(oe.current,k,$);H.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Fe[0]}px,${Fe[1]}px,0);transform-origin:0 0;`}return Z&&(i?Z.prepend(H):Z.appendChild(H)),()=>{Z&&Z.removeChild(H),Le.unmount()}}},[Z,u]),L.useLayoutEffect(()=>{M&&(H.className=M)},[M]);const ce=L.useMemo(()=>u?{position:"absolute",top:0,left:0,width:$.width,height:$.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-$.height/2,left:-$.width/2,width:$.width,height:$.height},...t},[t,s,o,$,u]),Be=L.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);L.useLayoutEffect(()=>{if(Re.current=!1,u){var Le;(Le=K.current)==null||Le.render(L.createElement("div",{ref:J,style:ce},L.createElement("div",{ref:he,style:Be},L.createElement("div",{ref:R,className:r,style:t,children:n}))))}else{var Fe;(Fe=K.current)==null||Fe.render(L.createElement("div",{ref:R,style:ce,className:r,children:n}))}});const Ue=L.useRef(!0);SF(Le=>{if(oe.current){k.updateMatrixWorld(),oe.current.updateWorldMatrix(!0,!1);const Fe=u?X.current:b(oe.current,k,$);if(u||Math.abs(N.current-k.zoom)>e||Math.abs(X.current[0]-Fe[0])>e||Math.abs(X.current[1]-Fe[1])>e){const _e=Cfe(oe.current,k);let ve=!1;ke&&(h!=="blending"?ve=[D]:Array.isArray(h)&&(ve=h.map(tt=>tt.current)));const De=Ue.current;if(ve){const tt=Afe(oe.current,k,le,ve);Ue.current=tt&&!_e}else Ue.current=!_e;De!==Ue.current&&(p?p(!Ue.current):H.style.display=Ue.current?"block":"none");const Ye=Math.floor(_[0]/2),ze=h?ke?[_[0],Ye]:[Ye-1,0]:_;if(H.style.zIndex=`${Rfe(oe.current,k,ze)}`,u){const[tt,Qe]=[$.width/2,$.height/2],Ze=k.projectionMatrix.elements[5]*Qe,{isOrthographicCamera:ht,top:bt,left:W,bottom:O,right:V}=k,q=kfe(k.matrixWorldInverse),re=ht?`scale(${Ze})translate(${kM(-(V+W)/2)}px,${kM((bt+O)/2)}px)`:`translateZ(${Ze}px)`;let ge=oe.current.matrixWorld;c&&(ge=k.matrixWorldInverse.clone().transpose().copyPosition(ge).scale(oe.current.scale),ge.elements[3]=ge.elements[7]=ge.elements[11]=0,ge.elements[15]=1),H.style.width=$.width+"px",H.style.height=$.height+"px",H.style.perspective=ht?"":`${Ze}px`,J.current&&he.current&&(J.current.style.transform=`${re}${q}translate(${tt}px,${Qe}px)`,he.current.style.transform=Lfe(ge,1/((l||10)/400)))}else{const tt=l===void 0?1:Pfe(oe.current,k)*l;H.style.transform=`translate3d(${Fe[0]}px,${Fe[1]}px,0) scale(${tt})`}X.current=Fe,N.current=k.zoom}}if(!ke&&se.current&&!Re.current)if(u){if(J.current){const Fe=J.current.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const{isOrthographicCamera:_e}=k;if(_e||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof z?se.current.scale.copy(P.scale.clone().divideScalar(1)):se.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):se.current.scale.setScalar(1/P.scale));else{const ve=(l||10)/400,De=Fe.clientWidth*ve,Ye=Fe.clientHeight*ve;se.current.scale.set(De,Ye,1)}Re.current=!0}}}else{const Fe=H.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const _e=1/I.factor,ve=Fe.clientWidth*_e,De=Fe.clientHeight*_e;se.current.scale.set(ve,De,1),Re.current=!0}se.current.lookAt(Le.camera.position)}});const $e=L.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return L.createElement("group",xl({},P,{ref:oe}),h&&!ke&&L.createElement("mesh",{castShadow:m,receiveShadow:v,ref:se},x||L.createElement("planeGeometry",null),g||L.createElement("shaderMaterial",{side:js,vertexShader:$e.vertexShader,fragmentShader:$e.fragmentShader})))});let Ch=0;const Ofe=lF(n=>(wd.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Ch)/(r-Ch)*100})},wd.onLoad=()=>{n({active:!1})},wd.onError=e=>n(t=>({errors:[...t.errors,e]})),wd.onProgress=(e,t,r)=>{t===r&&(Ch=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Ch)/(r-Ch)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),PL=(n,e)=>(n%e+e)%e;let Nfe=class extends ko{constructor(e,t){super(),_t(this,"object",void 0),_t(this,"domElement",void 0),_t(this,"enabled",!0),_t(this,"target",new z),_t(this,"minDistance",0),_t(this,"maxDistance",1/0),_t(this,"minZoom",0),_t(this,"maxZoom",1/0),_t(this,"minPolarAngle",0),_t(this,"maxPolarAngle",Math.PI),_t(this,"minAzimuthAngle",-1/0),_t(this,"maxAzimuthAngle",1/0),_t(this,"enableDamping",!1),_t(this,"dampingFactor",.05),_t(this,"enableZoom",!0),_t(this,"zoomSpeed",1),_t(this,"enableRotate",!0),_t(this,"rotateSpeed",1),_t(this,"enablePan",!0),_t(this,"panSpeed",1),_t(this,"screenSpacePanning",!0),_t(this,"keyPanSpeed",7),_t(this,"autoRotate",!1),_t(this,"autoRotateSpeed",2),_t(this,"reverseOrbit",!1),_t(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),_t(this,"mouseButtons",{LEFT:mc.ROTATE,MIDDLE:mc.DOLLY,RIGHT:mc.PAN}),_t(this,"touches",{ONE:gc.ROTATE,TWO:gc.DOLLY_PAN}),_t(this,"target0",void 0),_t(this,"position0",void 0),_t(this,"zoom0",void 0),_t(this,"_domElementKeyEvents",null),_t(this,"getPolarAngle",void 0),_t(this,"getAzimuthalAngle",void 0),_t(this,"setPolarAngle",void 0),_t(this,"setAzimuthalAngle",void 0),_t(this,"getDistance",void 0),_t(this,"listenToKeyEvents",void 0),_t(this,"saveState",void 0),_t(this,"reset",void 0),_t(this,"update",void 0),_t(this,"connect",void 0),_t(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof vn?this.object.zoom:1,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=G=>{let fe=PL(G,2*Math.PI),be=u.phi;be<0&&(be+=2*Math.PI),fe<0&&(fe+=2*Math.PI);let Pe=Math.abs(fe-be);2*Math.PI-Pe<Pe&&(fe<be?fe+=2*Math.PI:be+=2*Math.PI),h.phi=fe-be,r.update()},this.setAzimuthalAngle=G=>{let fe=PL(G,2*Math.PI),be=u.theta;be<0&&(be+=2*Math.PI),fe<0&&(fe+=2*Math.PI);let Pe=Math.abs(fe-be);2*Math.PI-Pe<Pe&&(fe<be?fe+=2*Math.PI:be+=2*Math.PI),h.theta=fe-be,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=G=>{G.addEventListener("keydown",V),this._domElementKeyEvents=G},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof vn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof vn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const G=new z,fe=new xr().setFromUnitVectors(e.up,new z(0,1,0)),be=fe.clone().invert(),Pe=new z,Xe=new xr,st=2*Math.PI;return function(){const Q=r.object.position;G.copy(Q).sub(r.target),G.applyQuaternion(fe),u.setFromVector3(G),r.autoRotate&&l===a.NONE&&le(D()),r.enableDamping?(u.theta+=h.theta*r.dampingFactor,u.phi+=h.phi*r.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let ye=r.minAzimuthAngle,Ae=r.maxAzimuthAngle;return isFinite(ye)&&isFinite(Ae)&&(ye<-Math.PI?ye+=st:ye>Math.PI&&(ye-=st),Ae<-Math.PI?Ae+=st:Ae>Math.PI&&(Ae-=st),ye<=Ae?u.theta=Math.max(ye,Math.min(Ae,u.theta)):u.theta=u.theta>(ye+Ae)/2?Math.max(ye,u.theta):Math.min(Ae,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),G.setFromSpherical(u),G.applyQuaternion(be),Q.copy(r.target).add(G),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,v||Pe.distanceToSquared(r.object.position)>c||8*(1-Xe.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Pe.copy(r.object.position),Xe.copy(r.object.quaternion),v=!1,!0):!1}})(),this.connect=G=>{G===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=G,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ge),r.domElement.addEventListener("pointerdown",tt),r.domElement.addEventListener("pointercancel",ht),r.domElement.addEventListener("wheel",O)},this.dispose=()=>{var G,fe,be,Pe,Xe,st;(G=r.domElement)===null||G===void 0||G.removeEventListener("contextmenu",ge),(fe=r.domElement)===null||fe===void 0||fe.removeEventListener("pointerdown",tt),(be=r.domElement)===null||be===void 0||be.removeEventListener("pointercancel",ht),(Pe=r.domElement)===null||Pe===void 0||Pe.removeEventListener("wheel",O),(Xe=r.domElement)===null||Xe===void 0||Xe.ownerDocument.removeEventListener("pointermove",Qe),(st=r.domElement)===null||st===void 0||st.ownerDocument.removeEventListener("pointerup",Ze),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",V)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new TM,h=new TM;let p=1;const m=new z;let v=!1;const g=new Ce,x=new Ce,_=new Ce,b=new Ce,S=new Ce,M=new Ce,E=new Ce,P=new Ce,R=new Ce,C=[],k={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function $(){return Math.pow(.95,r.zoomSpeed)}function le(G){r.reverseOrbit?h.theta+=G:h.theta-=G}function Y(G){r.reverseOrbit?h.phi+=G:h.phi-=G}const I=(()=>{const G=new z;return function(be,Pe){G.setFromMatrixColumn(Pe,0),G.multiplyScalar(-be),m.add(G)}})(),H=(()=>{const G=new z;return function(be,Pe){r.screenSpacePanning===!0?G.setFromMatrixColumn(Pe,1):(G.setFromMatrixColumn(Pe,0),G.crossVectors(r.object.up,G)),G.multiplyScalar(be),m.add(G)}})(),K=(()=>{const G=new z;return function(be,Pe){const Xe=r.domElement;if(Xe&&r.object instanceof vn&&r.object.isPerspectiveCamera){const st=r.object.position;G.copy(st).sub(r.target);let Ut=G.length();Ut*=Math.tan(r.object.fov/2*Math.PI/180),I(2*be*Ut/Xe.clientHeight,r.object.matrix),H(2*Pe*Ut/Xe.clientHeight,r.object.matrix)}else Xe&&r.object instanceof Xs&&r.object.isOrthographicCamera?(I(be*(r.object.right-r.object.left)/r.object.zoom/Xe.clientWidth,r.object.matrix),H(Pe*(r.object.top-r.object.bottom)/r.object.zoom/Xe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function oe(G){r.object instanceof vn&&r.object.isPerspectiveCamera?p/=G:r.object instanceof Xs&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*G)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function N(G){r.object instanceof vn&&r.object.isPerspectiveCamera?p*=G:r.object instanceof Xs&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/G)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function X(G){g.set(G.clientX,G.clientY)}function J(G){E.set(G.clientX,G.clientY)}function he(G){b.set(G.clientX,G.clientY)}function Z(G){x.set(G.clientX,G.clientY),_.subVectors(x,g).multiplyScalar(r.rotateSpeed);const fe=r.domElement;fe&&(le(2*Math.PI*_.x/fe.clientHeight),Y(2*Math.PI*_.y/fe.clientHeight)),g.copy(x),r.update()}function se(G){P.set(G.clientX,G.clientY),R.subVectors(P,E),R.y>0?oe($()):R.y<0&&N($()),E.copy(P),r.update()}function Re(G){S.set(G.clientX,G.clientY),M.subVectors(S,b).multiplyScalar(r.panSpeed),K(M.x,M.y),b.copy(S),r.update()}function ke(G){G.deltaY<0?N($()):G.deltaY>0&&oe($()),r.update()}function ce(G){let fe=!1;switch(G.code){case r.keys.UP:K(0,r.keyPanSpeed),fe=!0;break;case r.keys.BOTTOM:K(0,-r.keyPanSpeed),fe=!0;break;case r.keys.LEFT:K(r.keyPanSpeed,0),fe=!0;break;case r.keys.RIGHT:K(-r.keyPanSpeed,0),fe=!0;break}fe&&(G.preventDefault(),r.update())}function Be(){if(C.length==1)g.set(C[0].pageX,C[0].pageY);else{const G=.5*(C[0].pageX+C[1].pageX),fe=.5*(C[0].pageY+C[1].pageY);g.set(G,fe)}}function Ue(){if(C.length==1)b.set(C[0].pageX,C[0].pageY);else{const G=.5*(C[0].pageX+C[1].pageX),fe=.5*(C[0].pageY+C[1].pageY);b.set(G,fe)}}function $e(){const G=C[0].pageX-C[1].pageX,fe=C[0].pageY-C[1].pageY,be=Math.sqrt(G*G+fe*fe);E.set(0,be)}function Le(){r.enableZoom&&$e(),r.enablePan&&Ue()}function Fe(){r.enableZoom&&$e(),r.enableRotate&&Be()}function _e(G){if(C.length==1)x.set(G.pageX,G.pageY);else{const be=Ie(G),Pe=.5*(G.pageX+be.x),Xe=.5*(G.pageY+be.y);x.set(Pe,Xe)}_.subVectors(x,g).multiplyScalar(r.rotateSpeed);const fe=r.domElement;fe&&(le(2*Math.PI*_.x/fe.clientHeight),Y(2*Math.PI*_.y/fe.clientHeight)),g.copy(x)}function ve(G){if(C.length==1)S.set(G.pageX,G.pageY);else{const fe=Ie(G),be=.5*(G.pageX+fe.x),Pe=.5*(G.pageY+fe.y);S.set(be,Pe)}M.subVectors(S,b).multiplyScalar(r.panSpeed),K(M.x,M.y),b.copy(S)}function De(G){const fe=Ie(G),be=G.pageX-fe.x,Pe=G.pageY-fe.y,Xe=Math.sqrt(be*be+Pe*Pe);P.set(0,Xe),R.set(0,Math.pow(P.y/E.y,r.zoomSpeed)),oe(R.y),E.copy(P)}function Ye(G){r.enableZoom&&De(G),r.enablePan&&ve(G)}function ze(G){r.enableZoom&&De(G),r.enableRotate&&_e(G)}function tt(G){if(r.enabled!==!1){if(C.length===0){var fe,be;(fe=r.domElement)===null||fe===void 0||fe.ownerDocument.addEventListener("pointermove",Qe),(be=r.domElement)===null||be===void 0||be.ownerDocument.addEventListener("pointerup",Ze)}Te(G),G.pointerType==="touch"?q(G):bt(G)}}function Qe(G){r.enabled!==!1&&(G.pointerType==="touch"?re(G):W(G))}function Ze(G){if(Me(G),C.length===0){var fe,be,Pe;(fe=r.domElement)===null||fe===void 0||fe.releasePointerCapture(G.pointerId),(be=r.domElement)===null||be===void 0||be.ownerDocument.removeEventListener("pointermove",Qe),(Pe=r.domElement)===null||Pe===void 0||Pe.ownerDocument.removeEventListener("pointerup",Ze)}r.dispatchEvent(o),l=a.NONE}function ht(G){Me(G)}function bt(G){let fe;switch(G.button){case 0:fe=r.mouseButtons.LEFT;break;case 1:fe=r.mouseButtons.MIDDLE;break;case 2:fe=r.mouseButtons.RIGHT;break;default:fe=-1}switch(fe){case mc.DOLLY:if(r.enableZoom===!1)return;J(G),l=a.DOLLY;break;case mc.ROTATE:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enablePan===!1)return;he(G),l=a.PAN}else{if(r.enableRotate===!1)return;X(G),l=a.ROTATE}break;case mc.PAN:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enableRotate===!1)return;X(G),l=a.ROTATE}else{if(r.enablePan===!1)return;he(G),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function W(G){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Z(G);break;case a.DOLLY:if(r.enableZoom===!1)return;se(G);break;case a.PAN:if(r.enablePan===!1)return;Re(G);break}}function O(G){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(G.preventDefault(),r.dispatchEvent(s),ke(G),r.dispatchEvent(o))}function V(G){r.enabled===!1||r.enablePan===!1||ce(G)}function q(G){switch(ae(G),C.length){case 1:switch(r.touches.ONE){case gc.ROTATE:if(r.enableRotate===!1)return;Be(),l=a.TOUCH_ROTATE;break;case gc.PAN:if(r.enablePan===!1)return;Ue(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case gc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(),l=a.TOUCH_DOLLY_PAN;break;case gc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Fe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function re(G){switch(ae(G),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;_e(G),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ve(G),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ye(G),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ze(G),r.update();break;default:l=a.NONE}}function ge(G){r.enabled!==!1&&G.preventDefault()}function Te(G){C.push(G)}function Me(G){delete k[G.pointerId];for(let fe=0;fe<C.length;fe++)if(C[fe].pointerId==G.pointerId){C.splice(fe,1);return}}function ae(G){let fe=k[G.pointerId];fe===void 0&&(fe=new Ce,k[G.pointerId]=fe),fe.set(G.pageX,G.pageY)}function Ie(G){const fe=G.pointerId===C[0].pointerId?C[1]:C[0];return k[fe.pointerId]}t!==void 0&&this.connect(t),this.update()}};const zfe=L.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const u=qo(E=>E.invalidate),h=qo(E=>E.camera),p=qo(E=>E.gl),m=qo(E=>E.events),v=qo(E=>E.setEvents),g=qo(E=>E.set),x=qo(E=>E.get),_=qo(E=>E.performance),b=e||h,S=r||m.connected||p.domElement,M=L.useMemo(()=>new Nfe(b),[b]);return SF(()=>{M.enabled&&M.update()},-1),L.useEffect(()=>(M.connect(S),()=>void M.dispose()),[S,t,M,u]),L.useEffect(()=>{const E=C=>{u(),t&&_.regress(),s&&s(C)},P=C=>{o&&o(C)},R=C=>{a&&a(C)};return M.addEventListener("change",E),M.addEventListener("start",P),M.addEventListener("end",R),()=>{M.removeEventListener("start",P),M.removeEventListener("end",R),M.removeEventListener("change",E)}},[s,o,a,M,u,v]),L.useEffect(()=>{if(n){const E=x().controls;return g({controls:M}),()=>g({controls:E})}},[n,M]),L.createElement("primitive",xl({ref:c,object:M,enableDamping:i},l))});function RL(n,e){if(e===rz)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Ry||e===BT){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===Ry)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class Ffe extends Ai{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new jfe(t)}),this.register(function(t){return new Kfe(t)}),this.register(function(t){return new Zfe(t)}),this.register(function(t){return new Gfe(t)}),this.register(function(t){return new $fe(t)}),this.register(function(t){return new Xfe(t)}),this.register(function(t){return new qfe(t)}),this.register(function(t){return new Hfe(t)}),this.register(function(t){return new Yfe(t)}),this.register(function(t){return new Wfe(t)}),this.register(function(t){return new Ufe(t)}),this.register(function(t){return new Jfe(t)}),this.register(function(t){return new Qfe(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=df.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ks(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===RF){try{o[jt.KHR_BINARY_GLTF]=new ehe(e)}catch(h){i&&i(h);return}s=JSON.parse(o[jt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new hhe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](c);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],p=s.extensionsRequired||[];switch(h){case jt.KHR_MATERIALS_UNLIT:o[h]=new Vfe;break;case jt.KHR_DRACO_MESH_COMPRESSION:o[h]=new the(s,this.dracoLoader);break;case jt.KHR_TEXTURE_TRANSFORM:o[h]=new nhe;break;case jt.KHR_MESH_QUANTIZATION:o[h]=new rhe;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Bfe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const jt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Ufe{constructor(e){this.parser=e,this.name=jt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ge(16777215);l.color!==void 0&&u.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new gE(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new mE(u),c.distance=h;break;case"spot":c=new pE(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,el(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class Vfe{constructor(){this.name=jt.KHR_MATERIALS_UNLIT}getMaterialType(){return Hi}extendParams(e,t,r){const i=[];e.color=new Ge(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Vt))}return Promise.all(i)}}class Hfe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class jfe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ma}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ce(a,a)}return Promise.all(s)}}class Wfe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ma}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Gfe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ma}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ge(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Vt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class $fe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ma}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Xfe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ma}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ge(a[0],a[1],a[2]),Promise.all(s)}}class qfe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ma}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Yfe{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ma}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ge(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Vt)),Promise.all(s)}}class Kfe{constructor(e){this.parser=e,this.name=jt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Zfe{constructor(e){this.parser=e,this.name=jt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Jfe{constructor(e){this.name=jt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,h=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(m),u,h,p,i.mode,i.filter),m})})}else return null}}class Qfe{constructor(e){this.name=jt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==fs.TRIANGLES&&c.mode!==fs.TRIANGLE_STRIP&&c.mode!==fs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const v of h){const g=new pt,x=new z,_=new xr,b=new z(1,1,1),S=new JT(v.geometry,v.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,M),l.SCALE&&b.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,g.compose(x,_,b));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);Bt.prototype.copy.call(S,v),S.frustumCulled=!1,this.parser.assignFinalMaterial(S),m.push(S)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const RF="glTF",Ah=12,kL={JSON:1313821514,BIN:5130562};class ehe{constructor(e){this.name=jt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ah),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==RF)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Ah,s=new DataView(e,Ah);let o=0;for(;o<i;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===kL.JSON){const c=new Uint8Array(e,Ah+o,a);this.content=r.decode(c)}else if(l===kL.BIN){const c=Ah+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class the{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=jt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const h=LM[u]||u.toLowerCase();a[h]=o[u]}for(const u in e.attributes){const h=LM[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=Ud[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(h){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const v=p.attributes[m],g=l[m];g!==void 0&&(v.normalized=g)}h(p)},a,c)})})}}class nhe{constructor(){this.name=jt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class rhe{constructor(){this.name=jt.KHR_MESH_QUANTIZATION}}class kF extends Ef{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,h=(r-t)/u,p=h*h,m=p*h,v=e*c,g=v-c,x=-2*m+3*p,_=m-p,b=1-x,S=_-p+h;for(let M=0;M!==a;M++){const E=o[g+M+a],P=o[g+M+l]*u,R=o[v+M+a],C=o[v+M]*u;s[M]=b*E+S*P+x*R+_*C}return s}}const ihe=new xr;class she extends kF{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return ihe.fromArray(s).normalize().toArray(s),s}}const fs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ud={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},LL={9728:Vn,9729:Dn,9984:em,9985:Vx,9986:Fd,9987:Co},IL={33071:Pr,33648:tf,10497:El},sS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},LM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Xa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ohe={CUBICSPLINE:void 0,LINEAR:nu,STEP:rf},oS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ahe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Gm({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Eo})),n.DefaultMaterial}function Ph(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function el(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function lhe(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(r){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(i){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function che(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function uhe(n){const e=n.extensions&&n.extensions[jt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+DL(e.attributes):t=n.indices+":"+DL(n.attributes)+":"+n.mode,t}function DL(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function IM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function dhe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const fhe=new pt;class hhe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Bfe,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new Kz(this.options.manager):this.textureLoader=new rF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ks(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Ph(s,a,i),el(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[jt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(df.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=sS[i.type],a=Ud[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new rn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=sS[i.type],c=Ud[i.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let g,x;if(m&&m!==h){const _=Math.floor(p/m),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let S=t.cache.get(b);S||(g=new c(a,_*m,i.count*m/u),S=new km(g,m/u),t.cache.add(b,S)),x=new Al(S,l,p%m/u,v)}else a===null?g=new c(i.count*l):g=new c(a,p,i.count*l),x=new rn(g,l,v);if(i.sparse!==void 0){const _=sS.SCALAR,b=Ud[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,E=new b(o[1],S,i.sparse.count*_),P=new c(o[2],M,i.sparse.count*l);a!==null&&(x=new rn(x.array.slice(),x.itemSize,x.normalized));for(let R=0,C=E.length;R<C;R++){const k=E[R];if(x.setX(k,P[R*l]),l>=2&&x.setY(k,P[R*l+1]),l>=3&&x.setZ(k,P[R*l+2]),l>=4&&x.setW(k,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"";const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=LL[p.magFilter]||Dn,u.minFilter=LL[p.minFilter]||Co,u.wrapS=IL[p.wrapS]||El,u.wrapT=IL[p.wrapT]||El,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(g){const x=new Rn(g);x.needsUpdate=!0,p(x)}),t.load(df.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||dhe(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[jt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[jt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[jt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Yx,tr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new qr,tr.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Gm}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[jt.KHR_MATERIALS_UNLIT]){const h=i[jt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Ge(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,Vt)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=js);const u=s.alphaMode||oS.OPAQUE;if(u===oS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===oS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Hi&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ce(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Hi&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Hi&&(a.emissive=new Ge().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Hi&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Vt)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),el(h,s),t.associations.set(h,{materials:e}),s.extensions&&Ph(i,h,s),h})}createUniqueName(e){const t=Ft.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[jt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return OL(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=uhe(c),h=i[u];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[jt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=OL(new wt,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?ahe(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let m=0,v=u.length;m<v;m++){const g=u[m],x=o[m];let _;const b=c[m];if(x.mode===fs.TRIANGLES||x.mode===fs.TRIANGLE_STRIP||x.mode===fs.TRIANGLE_FAN||x.mode===void 0)_=s.isSkinnedMesh===!0?new ZT(g,b):new vr(g,b),_.isSkinnedMesh===!0&&!_.geometry.attributes.skinWeight.normalized&&_.normalizeSkinWeights(),x.mode===fs.TRIANGLE_STRIP?_.geometry=RL(_.geometry,BT):x.mode===fs.TRIANGLE_FAN&&(_.geometry=RL(_.geometry,Ry));else if(x.mode===fs.LINES)_=new Zs(g,b);else if(x.mode===fs.LINE_STRIP)_=new _a(g,b);else if(x.mode===fs.LINE_LOOP)_=new QT(g,b);else if(x.mode===fs.POINTS)_=new eE(g,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(_.geometry.morphAttributes).length>0&&che(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),el(_,s),x.extensions&&Ph(i,_,x),t.assignFinalMaterial(_),h.push(_)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new aa;t.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new vn(cz.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Xs(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),el(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this.getDependency("node",t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h){a.push(h);const p=new pt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Lm(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const h=r.channels[c],p=r.samplers[h.sampler],m=h.target,v=m.node,g=r.parameters!==void 0?r.parameters[p.input]:p.input,x=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],p=c[2],m=c[3],v=c[4],g=[];for(let _=0,b=u.length;_<b;_++){const S=u[_],M=h[_],E=p[_],P=m[_],R=v[_];if(S===void 0)continue;S.updateMatrix();let C;switch(Xa[R.path]){case Xa.weights:C=lf;break;case Xa.rotation:C=Pl;break;case Xa.position:case Xa.scale:default:C=cf;break}const k=S.name?S.name:S.uuid,D=P.interpolation!==void 0?ohe[P.interpolation]:nu,$=[];Xa[R.path]===Xa.weights?S.traverse(function(Y){Y.morphTargetInfluences&&$.push(Y.name?Y.name:Y.uuid)}):$.push(k);let le=E.array;if(E.normalized){const Y=IM(le.constructor),I=new Float32Array(le.length);for(let H=0,K=le.length;H<K;H++)I[H]=le[H]*Y;le=I}for(let Y=0,I=$.length;Y<I;Y++){const H=new C($[Y]+"."+Xa[R.path],M.array,le,D);P.interpolation==="CUBICSPLINE"&&(H.createInterpolant=function(oe){const N=this instanceof Pl?she:kF;return new N(this.times,this.values,this.getValueSize()/3,oe)},H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(H)}}const x=r.name?r.name:"animation_"+e;return new uf(x,void 0,g)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(e)});l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(p){return i._getNodeRef(i.cameraCache,s.camera,p)})),i._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(e)}).forEach(function(p){a.push(p)});const c=[],u=s.children||[];for(let p=0,m=u.length;p<m;p++)c.push(i.getDependency("node",u[p]));const h=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([Promise.all(a),Promise.all(c),h])}().then(function(a){const l=a[0],c=a[1],u=a[2];let h;if(s.isBone===!0?h=new qx:l.length>1?h=new aa:l.length===1?h=l[0]:h=new Bt,h!==l[0])for(let p=0,m=l.length;p<m;p++)h.add(l[p]);if(s.name&&(h.userData.name=s.name,h.name=o),el(h,s),s.extensions&&Ph(r,h,s),s.matrix!==void 0){const p=new pt;p.fromArray(s.matrix),h.applyMatrix4(p)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,u!==null&&h.traverse(function(p){p.isSkinnedMesh&&p.bind(u,fhe)});for(let p=0,m=c.length;p<m;p++)h.add(c[p]);return h})}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new aa;r.name&&(s.name=i.createUniqueName(r.name)),el(s,r),r.extensions&&Ph(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);const c=u=>{const h=new Map;for(const[p,m]of i.associations)(p instanceof tr||p instanceof Rn)&&h.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&h.set(p,m)}),h};return i.associations=c(s),s})}}function phe(n,e,t){const r=e.attributes,i=new Nl;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new z(l[0],l[1],l[2]),new z(c[0],c[1],c[2])),a.normalized){const u=IM(Ud[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new z,l=new z;for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const g=IM(Ud[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new zl;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function OL(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=LM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return el(n,e),phe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?lhe(n,e.targets,t):n})}const mhe=({modelPath:n,scale:e=40,position:t=[0,0,0]})=>{const r=L.useRef(),i=SE(Ffe,n);return F.jsx(F.Fragment,{children:F.jsx("primitive",{ref:r,object:i.scene,position:t,scale:e})})},ghe=()=>{const{active:n,progress:e,errors:t,item:r,loaded:i,total:s}=Ofe();return F.jsxs(Dfe,{children:[e," % loaded"]})},vhe=({modelPath:n,scale:e=40,position:t=[0,0,0]})=>F.jsxs(Mfe,{children:[F.jsx("ambientLight",{intensity:.3}),F.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),F.jsx("pointLight",{position:[-10,-10,-10]}),F.jsxs(L.Suspense,{fallback:F.jsx(ghe,{}),children:[F.jsx(mhe,{modelPath:n,scale:e,position:t}),F.jsx(zfe,{})]})]}),yhe=()=>{const{toggleColorMode:n}=cr();return F.jsxs(gr,{width:"100%",height:"100vh",children:[F.jsxs(gr,{display:"flex",justifyContent:"space-between",alignItems:"center",m:3,children:[F.jsx(gr,{}),F.jsx(To,{fontSize:20,children:"For Azaria"}),F.jsx(Ex,{"aria-label":"Color Mode",icon:Yd(F.jsx(ZO,{}),F.jsx(JO,{})),onClick:n,size:"lg",isRound:!0,variant:"ghost"})]}),F.jsx(vhe,{scale:5,modelPath:"https://nwtnlgaukdxsafmslpsi.supabase.co/storage/v1/object/public/my-portofolio/rose.glb",position:[0,-2,0]})]})},xhe=({project:n})=>{const{colorMode:e}=cr();return F.jsxs(gr,{paddingX:4,paddingY:5,_hover:{boxShadow:`var(--chakra-colors-mode-${e}-shadow)`},borderWidth:"1px",borderColor:`mode.${e}.border`,bg:`mode.${e}.background`,position:"relative",rounded:"md",children:[F.jsxs(_r,{justifyContent:"space-between",children:[F.jsxs(_r,{children:[F.jsx(bm,{rounded:"full",width:"4rem",height:"4rem",objectFit:"cover",src:n.photo,alt:n.name}),F.jsxs(Yi,{spacing:2,pl:3,children:[F.jsx(Ss,{fontSize:"xl",color:`mode.${e}.text`,children:n.name}),F.jsx(Ss,{fontSize:"sm",color:`mode.${e}.subtext`,children:n.role}),F.jsx(Qd,{display:{sm:"none",md:"block"},tags:n.techs})]})]}),F.jsx(Yi,{children:F.jsx(To,{fontSize:14,color:`mode.${e}.subtext`,children:eN(new Date(n.start_date),new Date(n.end_date))})})]}),F.jsx(Qd,{display:{sm:"block",md:"none"},tags:n.techs})]})},_he=()=>{const[{count:n,data:e,error:t,fetching:r},i]=Lx("projects");return t?F.jsx("div",{children:t.message}):r?F.jsx("div",{children:"Loading projects"}):(e==null?void 0:e.length)===0?F.jsx("div",{children:"No projects"}):F.jsxs(_r,{gap:4,flexDirection:"column",children:[F.jsx(AT,{title:"My Projects",size:18}),e&&e.map(s=>F.jsx(xhe,{project:s},s.id))]})},bhe=()=>F.jsx(CT,{children:F.jsx(_he,{})}),She=T$({config:{initialColorMode:"system"},global:n=>({color:at("gray.800","whiteAlpha.900")(n),bg:at("gray.100","rgb(16, 42, 67)")(n)}),fontSizes:{xs:"10px",sm:"12px",md:"14px",lg:"16px",xl:"18px","2xl":"20px","3xl":"24px","4xl":"28px","5xl":"32px","6xl":"48px"},breakpoints:{sm:"360px",md:"768px",lg:"1024px",xl:"1440px"},colors:{...G2.colors,mode:{light:{logo:"#102a43",background:"#f7f7f7",cardBG:"#fff",tagBG:"#ebf8ff",border:"#e2e8f0",text:"#1a202c",subtext:"#2d3748",heading:"#102a43",icon:"#2d3748",link:"#9f00ff",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",career:{tagBG:"#82828218"},skills:{border:"#4299e1",bg:"#d7e8f3"}},dark:{logo:"#ffffffde",background:"#262626",cardBG:"#1C1B1F",tagBG:"#ceedff",border:"#718096",text:"#ffffffde",subtext:"#ffffff99",color:"#ffffffde",heading:"#ffffffde",icon:"#ffffffde",link:"#f8ccff",shadow:"0 4px 6px -1px rgba(113, 128, 150, 0.2), 0 2px 4px -1px rgba(113, 128, 150, 0.09)",career:{tagBG:"#edf2f729"},skills:{border:"#4299e1",bg:"#427a9e"}}}}}),whe=kre("https://nwtnlgaukdxsafmslpsi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53dG5sZ2F1a2R4c2FmbXNscHNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzU5MTY0NTQsImV4cCI6MTk5MTQ5MjQ1NH0.kumbg_5P6C9V4nb902TF-iFXgbVjlk6MjX7he-Tiu8Y"),Mhe=BQ([{path:"/",element:F.jsx(oee,{}),errorElement:F.jsx(cee,{}),children:[{index:!0,element:F.jsx(Ate,{})},{path:"projects",element:F.jsx(bhe,{})},{path:"articles",element:F.jsx(lee,{})}]},{path:"my-beloved",element:F.jsx(yhe,{})}]);Ow.createRoot(document.getElementById("root")).render(F.jsx(yi.StrictMode,{children:F.jsx(mee,{value:whe,children:F.jsx(jZ,{theme:She,resetCSS:!0,children:F.jsx(RQ,{router:Mhe})})})}));
